<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>/client - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="client.html#var">Var Details</a> - <a href="client.html#proc">Proc Details</a></header><main><h1>/<a href="client.html">client</a><aside> inherits /<a href="datum.html">datum</a></aside> <img src="git.png" width="16" height="16" title="_std/plane.dm 89"></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="client.html#var/applied_keybind_styles">applied_keybind_styles</a></th><td>List on each client containing the styles we've applied so we don't double-apply.</td></tr><tr><th><a href="client.html#var/listen_tree">listen_tree</a></th><td>This client's auxiliary listen module tree.</td></tr><tr><th><a href="client.html#var/refresh_varedit_onchange">refresh_varedit_onchange</a></th><td>controls whether or not the varedit page is refreshed after altering variables</td></tr><tr><th><a href="client.html#var/saturation_matrix">saturation_matrix</a></th><td>saturation_matrix: the client's game saturation
color_matrix: the client's game color (tint)</td></tr><tr><th><a href="client.html#var/speech_tree">speech_tree</a></th><td>This client's auxiliary speech module tree.</td></tr><tr><th><a href="client.html#var/tgui_cache_reloaded">tgui_cache_reloaded</a></th><td>global</td></tr><tr><th><a href="client.html#var/tgui_windows">tgui_windows</a></th><td>global</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="client.html#proc/TestMarketReq">TestMarketReq</a></th><td>Proc to test a standard market contract for functionality. Test special orders with random event trigger instead.</td></tr><tr><th><a href="client.html#proc/apply_keybind">apply_keybind</a></th><td></td></tr><tr><th><a href="client.html#proc/apply_keys">apply_keys</a></th><td></td></tr><tr><th><a href="client.html#proc/build_list">build_list</a></th><td>Iteratively build a new list, then return it.</td></tr><tr><th><a href="client.html#proc/check_newbee">check_newbee</a></th><td>marks a player as a newbee if they are below the newbee rounds threshold. Grants them various new player indicators.</td></tr><tr><th><a href="client.html#proc/cmd_admin_show_player_stats">cmd_admin_show_player_stats</a></th><td>A bunch of procs for showing admins player data from the central API databases</td></tr><tr><th><a href="client.html#proc/enable_waterflow">enable_waterflow</a></th><td>mob/EnteredAirborneFluid(obj/fluid/F as obj, atom/oldloc)</td></tr><tr><th><a href="client.html#proc/ensure_listen_tree">ensure_listen_tree</a></th><td>Returns this client's auxiliary listen module tree. If this client does not possess an auxiliary listen module tree, instantiates one.</td></tr><tr><th><a href="client.html#proc/ensure_speech_tree">ensure_speech_tree</a></th><td>Returns this client's auxiliary speech module tree. If this client does not possess an auxiliary speech module tree, instantiates one.</td></tr><tr><th><a href="client.html#proc/flash_window">flash_window</a></th><td>Flashes the window in the Windows titlebar</td></tr><tr><th><a href="client.html#proc/getDefaultVolume">getDefaultVolume</a></th><td>Returns the default volume for a channel, unattenuated for the master channel (0-1)</td></tr><tr><th><a href="client.html#proc/getMasterVolume">getMasterVolume</a></th><td>Returns the master volume (0-1)</td></tr><tr><th><a href="client.html#proc/getRealVolume">getRealVolume</a></th><td>Returns the true volume for a channel, unattenuated for the master channel (0-1)</td></tr><tr><th><a href="client.html#proc/getVolume">getVolume</a></th><td>Returns the volume to set /sound/var/volume to for the given channel(so 0-100)</td></tr><tr><th><a href="client.html#proc/getVolumeChannelDescription">getVolumeChannelDescription</a></th><td>Get the friendly description for a specific sound channel.</td></tr><tr><th><a href="client.html#proc/getVolumeDescriptions">getVolumeDescriptions</a></th><td>Returns a list of friendly descriptions for available sound channels</td></tr><tr><th><a href="client.html#proc/getVolumeNames">getVolumeNames</a></th><td>Returns a list of friendly names for available sound channels</td></tr><tr><th><a href="client.html#proc/get_keybind_style_datum">get_keybind_style_datum</a></th><td></td></tr><tr><th><a href="client.html#proc/has_login_notice_pending">has_login_notice_pending</a></th><td>Returns 1 if a login message is pending, 0 otherwise</td></tr><tr><th><a href="client.html#proc/input_data">input_data</a></th><td>For inputting data for things like edit-variables, proccall, etc
Generally you should only use the associated defines for allowed_types. However, you CAN display anything as a choice for the user, allowing for
custom prompts for specific cases. Just make sure the caller can handle the case!
@param allowed_types The types of input which are allowed, which the user selects from. The selected type is returned as part of the data_input_result
@param custom_title 		If not null, set as the title for the input
@param custom_text			If not null, set as the text for the input
@param default				The default value, if default_type is chosen as the input type
@param default_type  		The default input type
@param custom_type_title 	If not null, set as the title for input type selection
@param custom_type_message 	If not null, set as the text for input type selection
@return 			 		A data_input_result with the parsed input and the selected input type, or both null if we didn't get any data</td></tr><tr><th><a href="client.html#proc/open_goonhub_auth">open_goonhub_auth</a></th><td>Open goonhub auth</td></tr><tr><th><a href="client.html#proc/playAmbience">playAmbience</a></th><td></td></tr><tr><th><a href="client.html#proc/setVolume">setVolume</a></th><td>Sets and applies the volume for a channel (0-1)</td></tr><tr><th><a href="client.html#proc/show_login_notice">show_login_notice</a></th><td>Shows a login notice, if one exists</td></tr><tr><th><a href="client.html#proc/spawn_custom_transmutation">spawn_custom_transmutation</a></th><td>Spawn custom reagent that can transform turfs and objs to whatever material you desire.</td></tr><tr><th><a href="client.html#proc/suggest_input_type">suggest_input_type</a></th><td>Get a suggested input type based on the thing you're editing
@param var_value The value to evaluate
@param varname The name of the variable
@return Suggested input type for input_data()</td></tr><tr><th><a href="client.html#proc/toggle_looc">toggle_looc</a></th><td>Toggle hearing LOOC for this client.</td></tr><tr><th><a href="client.html#proc/toggle_ooc">toggle_ooc</a></th><td>Toggle hearing OOC for this client.</td></tr><tr><th><a href="client.html#proc/uiclose">uiclose</a></th><td>verb</td></tr><tr><th><a href="client.html#proc/viewnewvote">viewnewvote</a></th><td>/mob/verb/vote_new()
set name = &quot;Initiate Vote&quot;</td></tr><tr><th><a href="client.html#proc/vpn_bonk">vpn_bonk</a></th><td>boots player and displays VPN message</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/applied_keybind_styles"><aside class="declaration">var </aside>applied_keybind_styles <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/interface/keybind_style.dm 19"></h3><p>List on each client containing the styles we've applied so we don't double-apply.</p><h3 id="var/listen_tree"><aside class="declaration">var </aside>listen_tree <aside>– /<a href="datum.html">datum</a>/<a href="datum/listen_module_tree.html">listen_module_tree</a>/<a href="datum/listen_module_tree/auxiliary.html">auxiliary</a></aside> <img src="git.png" width="16" height="16" title="code/modules/speech/core.dm 158"></h3><p>This client's auxiliary listen module tree.</p><h3 id="var/refresh_varedit_onchange"><aside class="declaration">var </aside>refresh_varedit_onchange <img src="git.png" width="16" height="16" title="code/client.dm 29"></h3><p>controls whether or not the varedit page is refreshed after altering variables</p><h3 id="var/saturation_matrix"><aside class="declaration">var </aside>saturation_matrix <img src="git.png" width="16" height="16" title="code/client.dm 73"></h3><p>saturation_matrix: the client's game saturation
color_matrix: the client's game color (tint)</p><h3 id="var/speech_tree"><aside class="declaration">var </aside>speech_tree <aside>– /<a href="datum.html">datum</a>/<a href="datum/speech_module_tree.html">speech_module_tree</a>/<a href="datum/speech_module_tree/auxiliary.html">auxiliary</a></aside> <img src="git.png" width="16" height="16" title="code/modules/speech/core.dm 160"></h3><p>This client's auxiliary speech module tree.</p><h3 id="var/tgui_cache_reloaded"><aside class="declaration">var </aside>tgui_cache_reloaded <img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 150"></h3><p>global</p>
<p>TRUE if cache was reloaded by tgui dev server at least once.</p><h3 id="var/tgui_windows"><aside class="declaration">var </aside>tgui_windows <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 143"></h3><p>global</p>
<p>Tracks open windows for a user.</p><h2 id="proc">Proc Details</h2><h3 id="proc/TestMarketReq"><aside class="declaration">proc </aside>TestMarketReq<aside>()  <img src="git.png" width="16" height="16" title="code/modules/economy/requisition/requisition_contracts.dm 20"></aside></h3><p>Proc to test a standard market contract for functionality. Test special orders with random event trigger instead.</p>
<p>Will add the contract to requisitions list and pin the contract, ignoring the one-pin limit or any contract type pin restrictions.
Don't use this in live rounds, pin behavior will be wonky.</p><h3 id="proc/apply_keybind"><aside class="declaration">proc </aside>apply_keybind<aside>(style_str)  <img src="git.png" width="16" height="16" title="code/modules/interface/keybind_style.dm 59"></aside></h3><ul>
<li>apply_keybind: Takes a given string style, and finds the datum, then applies it.</li>
<li>External use only.</li>
<li>This is what external stuff should be calling when applying their additive styles.</li>
</ul><h3 id="proc/apply_keys"><aside class="declaration">proc </aside>apply_keys<aside>(/<a href="datum.html">datum</a>/keybind_style/style)  <img src="git.png" width="16" height="16" title="code/modules/interface/keybind_style.dm 43"></aside></h3><ul>
<li>apply_keys: Takes a keybind_style to apply to the src client</li>
<li>Internal use only.</li>
<li>Merges the given keybind_style onto the client. Also adds it to the client's tracking list.</li>
</ul><h3 id="proc/build_list"><aside class="declaration">proc </aside>build_list<aside>()  <img src="git.png" width="16" height="16" title="code/modules/admin/data_input.dm 217"></aside></h3><p>Iteratively build a new list, then return it.</p><h3 id="proc/check_newbee"><aside class="declaration">proc </aside>check_newbee<aside>()  <img src="git.png" width="16" height="16" title="code/modules/newbee/newbee.dm 12"></aside></h3><p>marks a player as a newbee if they are below the newbee rounds threshold. Grants them various new player indicators.</p><h3 id="proc/cmd_admin_show_player_stats"><aside class="declaration">proc </aside>cmd_admin_show_player_stats<aside>()  <img src="git.png" width="16" height="16" title="code/modules/admin/player_stats.dm 10"></aside></h3><p>A bunch of procs for showing admins player data from the central API databases</p>
<p>Verbs</p><h3 id="proc/enable_waterflow"><aside class="declaration">proc </aside>enable_waterflow<aside>(enabled<span class="as"> as </span>num)  <img src="git.png" width="16" height="16" title="code/modules/fluids/fluid_commands.dm 4"></aside></h3><p>mob/EnteredAirborneFluid(obj/fluid/F as obj, atom/oldloc)</p><h3 id="proc/ensure_listen_tree"><aside class="declaration">proc </aside>ensure_listen_tree<aside>() <span class="as"> as </span>/<a href="datum.html">datum</a>/<a href="datum/listen_module_tree.html">listen_module_tree</a>/<a href="datum/listen_module_tree/auxiliary.html">auxiliary</a> <img src="git.png" width="16" height="16" title="code/modules/speech/core.dm 169"></aside></h3><p>Returns this client's auxiliary listen module tree. If this client does not possess an auxiliary listen module tree, instantiates one.</p><h3 id="proc/ensure_speech_tree"><aside class="declaration">proc </aside>ensure_speech_tree<aside>() <span class="as"> as </span>/<a href="datum.html">datum</a>/<a href="datum/speech_module_tree.html">speech_module_tree</a>/<a href="datum/speech_module_tree/auxiliary.html">auxiliary</a> <img src="git.png" width="16" height="16" title="code/modules/speech/core.dm 189"></aside></h3><p>Returns this client's auxiliary speech module tree. If this client does not possess an auxiliary speech module tree, instantiates one.</p><h3 id="proc/flash_window"><aside class="declaration">proc </aside>flash_window<aside>(times)  <img src="git.png" width="16" height="16" title="code/client.dm 1559"></aside></h3><p>Flashes the window in the Windows titlebar</p><h3 id="proc/getDefaultVolume"><aside class="declaration">proc </aside>getDefaultVolume<aside>(channel)  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 75"></aside></h3><p>Returns the default volume for a channel, unattenuated for the master channel (0-1)</p><h3 id="proc/getMasterVolume"><aside class="declaration">proc </aside>getMasterVolume<aside>()  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 92"></aside></h3><p>Returns the master volume (0-1)</p><h3 id="proc/getRealVolume"><aside class="declaration">proc </aside>getRealVolume<aside>(channel)  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 96"></aside></h3><p>Returns the true volume for a channel, unattenuated for the master channel (0-1)</p><h3 id="proc/getVolume"><aside class="declaration">proc </aside>getVolume<aside>(id)  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 88"></aside></h3><p>Returns the volume to set /sound/var/volume to for the given channel(so 0-100)</p><h3 id="proc/getVolumeChannelDescription"><aside class="declaration">proc </aside>getVolumeChannelDescription<aside>(channel)  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 83"></aside></h3><p>Get the friendly description for a specific sound channel.</p><h3 id="proc/getVolumeDescriptions"><aside class="declaration">proc </aside>getVolumeDescriptions<aside>()  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 79"></aside></h3><p>Returns a list of friendly descriptions for available sound channels</p><h3 id="proc/getVolumeNames"><aside class="declaration">proc </aside>getVolumeNames<aside>()  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 71"></aside></h3><p>Returns a list of friendly names for available sound channels</p><h3 id="proc/get_keybind_style_datum"><aside class="declaration">proc </aside>get_keybind_style_datum<aside>(style_name)  <img src="git.png" width="16" height="16" title="code/modules/interface/keybind_style.dm 26"></aside></h3><ul>
<li>get_keybind_style_datum: Given the string name of a style, finds the keybind_style with the matching name.</li>
<li>Internal use only.</li>
<li>Called by apply_keybind to fetch our datum.</li>
</ul><h3 id="proc/has_login_notice_pending"><aside class="declaration">proc </aside>has_login_notice_pending<aside>(show_again)  <img src="git.png" width="16" height="16" title="code/modules/admin/loginnotice.dm 64"></aside></h3><p>Returns 1 if a login message is pending, 0 otherwise</p><h3 id="proc/input_data"><aside class="declaration">proc </aside>input_data<aside>(/list/allowed_types, custom_title, custom_message, default, custom_type_title, custom_type_message, default_type) <span class="as"> as </span>/<a href="datum.html">datum</a>/data_input_result <img src="git.png" width="16" height="16" title="code/modules/admin/data_input.dm 12"></aside></h3><p>For inputting data for things like edit-variables, proccall, etc
Generally you should only use the associated defines for allowed_types. However, you CAN display anything as a choice for the user, allowing for
custom prompts for specific cases. Just make sure the caller can handle the case!
@param allowed_types The types of input which are allowed, which the user selects from. The selected type is returned as part of the data_input_result
@param custom_title 		If not null, set as the title for the input
@param custom_text			If not null, set as the text for the input
@param default				The default value, if default_type is chosen as the input type
@param default_type  		The default input type
@param custom_type_title 	If not null, set as the title for input type selection
@param custom_type_message 	If not null, set as the text for input type selection
@return 			 		A data_input_result with the parsed input and the selected input type, or both null if we didn't get any data</p><h3 id="proc/open_goonhub_auth"><aside class="declaration">proc </aside>open_goonhub_auth<aside>()  <img src="git.png" width="16" height="16" title="code/client/providers/goonhub.dm 227"></aside></h3><p>Open goonhub auth</p>
<p>A way to open the login window, just in case</p><h3 id="proc/playAmbience"><aside class="declaration">proc </aside>playAmbience<aside>(/<a href="area.html">area</a>/A, type, pass_volume)  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 682"></aside></h3><pre><code>* Client part of the Area Ambience Project

* Calling this proc is handled by the Area our client is in, see [area/proc/Exited()] and [area/proc/Entered()]

* LOOPING channel sound will keep playing until fed a pass_volume of 0 (done automagically)
* For FX sounds, they will play once.

* FX_1 is area-specific background noise handled by area/pickAmbience(), FX_2 is more noticeable stuff directly triggered, normally shorter
</code></pre><h3 id="proc/setVolume"><aside class="declaration">proc </aside>setVolume<aside>(channel, volume)  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 100"></aside></h3><p>Sets and applies the volume for a channel (0-1)</p><h3 id="proc/show_login_notice"><aside class="declaration">proc </aside>show_login_notice<aside>()  <img src="git.png" width="16" height="16" title="code/modules/admin/loginnotice.dm 72"></aside></h3><p>Shows a login notice, if one exists</p><h3 id="proc/spawn_custom_transmutation"><aside class="declaration">proc </aside>spawn_custom_transmutation<aside>()  <img src="git.png" width="16" height="16" title="code/modules/admin/randomverbs.dm 3114"></aside></h3><p>Spawn custom reagent that can transform turfs and objs to whatever material you desire.</p><h3 id="proc/suggest_input_type"><aside class="declaration">proc </aside>suggest_input_type<aside>(var_value, varname)  <img src="git.png" width="16" height="16" title="code/modules/admin/data_input.dm 244"></aside></h3><p>Get a suggested input type based on the thing you're editing
@param var_value The value to evaluate
@param varname The name of the variable
@return Suggested input type for input_data()</p><h3 id="proc/toggle_looc"><aside class="declaration">proc </aside>toggle_looc<aside>(looc_enabled, force)  <img src="git.png" width="16" height="16" title="code/modules/speech/core.dm 217"></aside></h3><p>Toggle hearing LOOC for this client.</p><h3 id="proc/toggle_ooc"><aside class="declaration">proc </aside>toggle_ooc<aside>(ooc_enabled, force)  <img src="git.png" width="16" height="16" title="code/modules/speech/core.dm 202"></aside></h3><p>Toggle hearing OOC for this client.</p><h3 id="proc/uiclose"><aside class="declaration">verb </aside>uiclose<aside>(window_id<span class="as"> as </span>text)  <img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 168"></aside></h3><p>verb</p>
<p>Called by UIs when they are closed.
Must be a verb so winset() can call it.</p>
<p>required uiref ref The UI that was closed.</p><h3 id="proc/viewnewvote"><aside class="declaration">proc </aside>viewnewvote<aside>()  <img src="git.png" width="16" height="16" title="code/WorkInProgress/NewVote.dm 27"></aside></h3><p>/mob/verb/vote_new()
set name = &quot;Initiate Vote&quot;</p>
<pre><code>//if(!config.allow_vote_restart &amp;&amp; !config.allow_vote_mode &amp;&amp; !src.client.holder)
//	boutput(src, SPAN_ALERT(&quot;Player voting disabled.&quot;))
//	return
if(!ticker)
	boutput(src, SPAN_ALERT(&quot;Can not start votes before the game starts.&quot;))
	return
if(!vote_manager) return //shits hitting the fan at ludicrous speeds
if(vote_manager.active_vote) vote_manager.show_vote(src.client)
else
	if(src.ckey in vote_log)
		if(vote_log[src.ckey] &lt; max_votes_per_round)
			if(vote_manager.show_vote_selection(src.client)) vote_log[src.ckey]++
		else
			boutput(src, SPAN_ALERT(&quot;You may not start any more votes this round. (Maximum reached : [max_votes_per_round])&quot;))
	else
		if(vote_manager.show_vote_selection(src.client)) vote_log[src.ckey] = 1
</code></pre><h3 id="proc/vpn_bonk"><aside class="declaration">proc </aside>vpn_bonk<aside>(host, asn, organization, fraud_score, repeat_attempt, info)  <img src="git.png" width="16" height="16" title="code/modules/vpn_bonk/vpn_bonk.dm 71"></aside></h3><p>boots player and displays VPN message</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>