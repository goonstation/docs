<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>_std/pathfinding.dm - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="_std/pathfinding.html#define">Define Details</a></header><main><h1>_std/pathfinding.dm <img src="git.png" width="16" height="16" title="_std/pathfinding.dm"></h1><table class="summary" cellspacing="0"><tr><th><a href="_std/pathfinding.html#define/POP_MAX_DIST">POP_MAX_DIST</a></th><td>Pathfind option key; The maximum number of steps we can take in a given path to search (default: 30, 0 = infinite)</td></tr><tr><th><a href="_std/pathfinding.html#define/POP_MAX_SEEN">POP_MAX_SEEN</a></th><td>Pathfind option key; The maximum number of actual tiles seen. Sometimes a better limiter maybe?</td></tr><tr><th><a href="_std/pathfinding.html#define/POP_MIN_DIST">POP_MIN_DIST</a></th><td>Pathfind option key; Minimum distance to the target before path returns, could be used to get near a target, but not right to it - for an AI mob with a gun, for example.</td></tr><tr><th><a href="_std/pathfinding.html#define/POP_ID">POP_ID</a></th><td>Pathfind option key; An ID card representing what access we have and what doors we can open. Its location relative to the pathing atom is irrelevant</td></tr><tr><th><a href="_std/pathfinding.html#define/POP_SIMULATED_ONLY">POP_SIMULATED_ONLY</a></th><td>Pathfind option key; Whether we consider turfs without atmos simulation (AKA do we want to ignore space)</td></tr><tr><th><a href="_std/pathfinding.html#define/POP_EXCLUDE">POP_EXCLUDE</a></th><td>Pathfind option key; If we want to avoid a specific turf, like if we're a mulebot who already got blocked by some turf</td></tr><tr><th><a href="_std/pathfinding.html#define/POP_CARDINAL_ONLY">POP_CARDINAL_ONLY</a></th><td>Pathfind option key; Whether to find only paths consisting of cardinal steps.</td></tr><tr><th><a href="_std/pathfinding.html#define/POP_DOOR_CHECK">POP_DOOR_CHECK</a></th><td>Pathfind option key; Whether or not to check if doors are blocked (welded, out of power, locked, etc...)</td></tr><tr><th><a href="_std/pathfinding.html#define/POP_IGNORE_CACHE">POP_IGNORE_CACHE</a></th><td>Pathfind option key; Whether to ignore passability caching (for extremely weird cases; like pods.)</td></tr><tr><th>/proc/<a href="global.html#proc/get_path_to">get_path_to</a></th><td>This is the proc you use whenever you want to have pathfinding more complex than &quot;try stepping towards the thing&quot;.</td></tr><tr><th><a href="_std/pathfinding.html#define/CAN_STEP">CAN_STEP</a></th><td>A helper macro to see if it's possible to step from the first turf into the second one, minding things like door access and directional windows.
Note that this can only be used inside the [datum/pathfind][pathfind datum] since it uses variables from said datum.
If you really want to optimize things, optimize this, cuz this gets called a lot.</td></tr><tr><th><a href="_std/pathfinding.html#define/STEP_NOT_HERE_BUT_THERE">STEP_NOT_HERE_BUT_THERE</a></th><td>Another helper macro for JPS, for telling when a node has forced neighbors that need expanding</td></tr><tr><th><a href="datum/jps_node.html">/datum/jps_node</a></th><td>The JPS Node datum represents a turf that we find interesting enough to add to the open list and possibly search for new tiles from</td></tr><tr><th>/proc/<a href="global.html#proc/HeapPathWeightCompare">HeapPathWeightCompare</a></th><td>TODO: Macro this to reduce proc overhead</td></tr><tr><th><a href="datum/pathfind.html">/datum/pathfind</a></th><td>The datum used to handle the JPS pathfinding, completely self-contained</td></tr><tr><th>/proc/<a href="global.html#proc/jpsTurfPassable">jpsTurfPassable</a></th><td>this is a slight modification of /proc/checkTurfPassable to avoid indirect proc call overhead
Returns false if there is a dense atom on the turf, unless a custom hueristic is passed.</td></tr><tr><th>/proc/<a href="global.html#proc/checkTurfPassable">checkTurfPassable</a></th><td>Returns false if there is a dense atom on the turf, unless a custom hueristic is passed.</td></tr></table><h2 id="define">Define Details</h2><h3 id="define/CAN_STEP"><aside class="declaration">#define </aside>CAN_STEP<aside>(cur_turf, next)</aside> <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 107"></h3><p>A helper macro to see if it's possible to step from the first turf into the second one, minding things like door access and directional windows.
Note that this can only be used inside the [datum/pathfind][pathfind datum] since it uses variables from said datum.
If you really want to optimize things, optimize this, cuz this gets called a lot.</p><h3 id="define/POP_CARDINAL_ONLY"><aside class="declaration">#define </aside>POP_CARDINAL_ONLY <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 21"></h3><p>Pathfind option key; Whether to find only paths consisting of cardinal steps.</p><h3 id="define/POP_DOOR_CHECK"><aside class="declaration">#define </aside>POP_DOOR_CHECK <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 23"></h3><p>Pathfind option key; Whether or not to check if doors are blocked (welded, out of power, locked, etc...)</p><h3 id="define/POP_EXCLUDE"><aside class="declaration">#define </aside>POP_EXCLUDE <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 19"></h3><p>Pathfind option key; If we want to avoid a specific turf, like if we're a mulebot who already got blocked by some turf</p><h3 id="define/POP_ID"><aside class="declaration">#define </aside>POP_ID <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 15"></h3><p>Pathfind option key; An ID card representing what access we have and what doors we can open. Its location relative to the pathing atom is irrelevant</p><h3 id="define/POP_IGNORE_CACHE"><aside class="declaration">#define </aside>POP_IGNORE_CACHE <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 25"></h3><p>Pathfind option key; Whether to ignore passability caching (for extremely weird cases; like pods.)</p><h3 id="define/POP_MAX_DIST"><aside class="declaration">#define </aside>POP_MAX_DIST <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 9"></h3><p>Pathfind option key; The maximum number of steps we can take in a given path to search (default: 30, 0 = infinite)</p><h3 id="define/POP_MAX_SEEN"><aside class="declaration">#define </aside>POP_MAX_SEEN <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 11"></h3><p>Pathfind option key; The maximum number of actual tiles seen. Sometimes a better limiter maybe?</p><h3 id="define/POP_MIN_DIST"><aside class="declaration">#define </aside>POP_MIN_DIST <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 13"></h3><p>Pathfind option key; Minimum distance to the target before path returns, could be used to get near a target, but not right to it - for an AI mob with a gun, for example.</p><h3 id="define/POP_SIMULATED_ONLY"><aside class="declaration">#define </aside>POP_SIMULATED_ONLY <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 17"></h3><p>Pathfind option key; Whether we consider turfs without atmos simulation (AKA do we want to ignore space)</p><h3 id="define/STEP_NOT_HERE_BUT_THERE"><aside class="declaration">#define </aside>STEP_NOT_HERE_BUT_THERE<aside>(cur_turf, dirA, dirB)</aside> <img src="git.png" width="16" height="16" title="_std/pathfinding.dm 109"></h3><p>Another helper macro for JPS, for telling when a node has forced neighbors that need expanding</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>