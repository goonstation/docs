<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>_std/defines/lag.dm - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="_std/defines/lag.html#define">Define Details</a></header><main><h1>_std/defines/lag.dm <img src="git.png" width="16" height="16" title="_std/defines/lag.dm"></h1><table class="summary" cellspacing="0"><tr><th><a href="_std/defines/lag.html#define/UNTIL">UNTIL</a></th><td>Waits until a given condition is true, or a timeout is reached</td></tr><tr><th><a href="_std/defines/lag.html#define/MIN_TICKLAG">MIN_TICKLAG</a></th><td>min value ticklag can be</td></tr><tr><th><a href="_std/defines/lag.html#define/OVERLOADED_WORLD_TICKLAG">OVERLOADED_WORLD_TICKLAG</a></th><td>max value ticklag can be</td></tr><tr><th><a href="_std/defines/lag.html#define/SEMIOVERLOADED_WORLD_TICKLAG">SEMIOVERLOADED_WORLD_TICKLAG</a></th><td>where to start ticklag if many players present</td></tr><tr><th><a href="_std/defines/lag.html#define/TICKLAG_DILATION_INC">TICKLAG_DILATION_INC</a></th><td>how ticklag much to increase by when appropriate</td></tr><tr><th><a href="_std/defines/lag.html#define/TICKLAG_DILATION_DEC">TICKLAG_DILATION_DEC</a></th><td>how much to decrease by when appropriate //MBCX I DONT KNOW WHY BUT MOST VALUES CAUSE ROUNDING ERRORS, ITS VERY IMPORTANT THAT THIS REMAINS 0.2 FIOR NOW</td></tr><tr><th><a href="_std/defines/lag.html#define/TICKLAG_CPU_MAX">TICKLAG_CPU_MAX</a></th><td>what cpu percent is too high in the dilation check</td></tr><tr><th><a href="_std/defines/lag.html#define/TICKLAG_CPU_MIN">TICKLAG_CPU_MIN</a></th><td>what cpu percent is low enough in the dilation check</td></tr><tr><th><a href="_std/defines/lag.html#define/TICKLAG_MAPCPU_MAX">TICKLAG_MAPCPU_MAX</a></th><td>what map_cpu percent is too high in the dilation check</td></tr><tr><th><a href="_std/defines/lag.html#define/TICKLAG_MAPCPU_MIN">TICKLAG_MAPCPU_MIN</a></th><td>what map_cpu percent is low enough in the dilation check</td></tr><tr><th><a href="_std/defines/lag.html#define/TICKLAG_INCREASE_THRESHOLD">TICKLAG_INCREASE_THRESHOLD</a></th><td>number of times the dilation check needs to see lag in a row to slow down the ticker</td></tr><tr><th><a href="_std/defines/lag.html#define/TICKLAG_DECREASE_THRESHOLD">TICKLAG_DECREASE_THRESHOLD</a></th><td>number of times to see no lag in a row to speed up the ticker</td></tr><tr><th><a href="_std/defines/lag.html#define/TICKLAG_DILATE_INTERVAL">TICKLAG_DILATE_INTERVAL</a></th><td>how often to check for time dilation, against world.time, so counted in game ticks.</td></tr><tr><th><a href="_std/defines/lag.html#define/PRE_PROFILING_ENABLED">PRE_PROFILING_ENABLED</a></th><td>whether we want to profile in advance of a lagspike every tick to catch relevant lagspike info</td></tr><tr><th><a href="_std/defines/lag.html#define/CPU_START_PROFILING_THRESHOLD">CPU_START_PROFILING_THRESHOLD</a></th><td>what value must world.cpu cross upwards to trigger automatic profiling</td></tr><tr><th><a href="_std/defines/lag.html#define/CPU_START_PROFILING_IMMEDIATELY_THRESHOLD">CPU_START_PROFILING_IMMEDIATELY_THRESHOLD</a></th><td>what value must world.cpu cross upwards to trigger automatic profiling but this one ignores CPU_START_PROFILING_COUNT</td></tr><tr><th><a href="_std/defines/lag.html#define/CPU_STOP_PROFILING_THRESHOLD">CPU_STOP_PROFILING_THRESHOLD</a></th><td>what value must world.cpu cross downwards to stop automatic profiling</td></tr><tr><th><a href="_std/defines/lag.html#define/CPU_START_PROFILING_COUNT">CPU_START_PROFILING_COUNT</a></th><td>how many ticks in a row does world.cpu needs to be above the threshold to start profiling</td></tr><tr><th><a href="_std/defines/lag.html#define/CPU_STOP_PROFILING_COUNT">CPU_STOP_PROFILING_COUNT</a></th><td>how many ticks in a row does world.cpu needs to be below the threshold to stop profiling</td></tr><tr><th><a href="_std/defines/lag.html#define/CPU_PROFILING_ROUNDSTART_GRACE_PERIOD">CPU_PROFILING_ROUNDSTART_GRACE_PERIOD</a></th><td>how long the round needs to be in progress before we can start profiling</td></tr><tr><th><a href="_std/defines/lag.html#define/TICK_TIME_PROFILING_THRESHOLD">TICK_TIME_PROFILING_THRESHOLD</a></th><td>even if world.cpu is normal if tick took this amount of time profiling will start</td></tr><tr><th><a href="_std/defines/lag.html#define/OVERLOAD_PLAYERCOUNT">OVERLOAD_PLAYERCOUNT</a></th><td>when pcount is above this number on round start, increase ticklag to OVERLOADED_WORLD_TICKLAG to try to maintain smoothness</td></tr><tr><th><a href="_std/defines/lag.html#define/SEMIOVERLOAD_PLAYERCOUNT">SEMIOVERLOAD_PLAYERCOUNT</a></th><td>when pcount is above this number on round start, increase ticklag to SEMIOVERLOADED_WORLD_TICKLAG to try to maintain smoothness</td></tr><tr><th><a href="_std/defines/lag.html#define/SLOW_LIFE_PLAYERCOUNT">SLOW_LIFE_PLAYERCOUNT</a></th><td>whenn pcount is &gt;= this number, slow Life() processing a bit</td></tr><tr><th><a href="_std/defines/lag.html#define/SLOWEST_LIFE_PLAYERCOUNT">SLOWEST_LIFE_PLAYERCOUNT</a></th><td>whenn pcount is &gt;= this number, slow Life() processing a lot</td></tr><tr><th><a href="_std/defines/lag.html#define/DEFAULT_POOL_SIZE">DEFAULT_POOL_SIZE</a></th><td>How much stuff is allowed in the pools before the lifeguard throws them into the deletequeue instead. A shameful lifeguard.</td></tr></table><h2 id="define">Define Details</h2><h3 id="define/CPU_PROFILING_ROUNDSTART_GRACE_PERIOD"><aside class="declaration">#define </aside>CPU_PROFILING_ROUNDSTART_GRACE_PERIOD <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 83"></h3><p>how long the round needs to be in progress before we can start profiling</p><h3 id="define/CPU_START_PROFILING_COUNT"><aside class="declaration">#define </aside>CPU_START_PROFILING_COUNT <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 79"></h3><p>how many ticks in a row does world.cpu needs to be above the threshold to start profiling</p><h3 id="define/CPU_START_PROFILING_IMMEDIATELY_THRESHOLD"><aside class="declaration">#define </aside>CPU_START_PROFILING_IMMEDIATELY_THRESHOLD <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 75"></h3><p>what value must world.cpu cross upwards to trigger automatic profiling but this one ignores CPU_START_PROFILING_COUNT</p><h3 id="define/CPU_START_PROFILING_THRESHOLD"><aside class="declaration">#define </aside>CPU_START_PROFILING_THRESHOLD <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 73"></h3><p>what value must world.cpu cross upwards to trigger automatic profiling</p><h3 id="define/CPU_STOP_PROFILING_COUNT"><aside class="declaration">#define </aside>CPU_STOP_PROFILING_COUNT <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 81"></h3><p>how many ticks in a row does world.cpu needs to be below the threshold to stop profiling</p><h3 id="define/CPU_STOP_PROFILING_THRESHOLD"><aside class="declaration">#define </aside>CPU_STOP_PROFILING_THRESHOLD <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 77"></h3><p>what value must world.cpu cross downwards to stop automatic profiling</p><h3 id="define/DEFAULT_POOL_SIZE"><aside class="declaration">#define </aside>DEFAULT_POOL_SIZE <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 115"></h3><p>How much stuff is allowed in the pools before the lifeguard throws them into the deletequeue instead. A shameful lifeguard.</p><h3 id="define/MIN_TICKLAG"><aside class="declaration">#define </aside>MIN_TICKLAG <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 46"></h3><p>min value ticklag can be</p><h3 id="define/OVERLOADED_WORLD_TICKLAG"><aside class="declaration">#define </aside>OVERLOADED_WORLD_TICKLAG <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 48"></h3><p>max value ticklag can be</p><h3 id="define/OVERLOAD_PLAYERCOUNT"><aside class="declaration">#define </aside>OVERLOAD_PLAYERCOUNT <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 88"></h3><p>when pcount is above this number on round start, increase ticklag to OVERLOADED_WORLD_TICKLAG to try to maintain smoothness</p><h3 id="define/PRE_PROFILING_ENABLED"><aside class="declaration">#define </aside>PRE_PROFILING_ENABLED <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 71"></h3><p>whether we want to profile in advance of a lagspike every tick to catch relevant lagspike info</p><h3 id="define/SEMIOVERLOADED_WORLD_TICKLAG"><aside class="declaration">#define </aside>SEMIOVERLOADED_WORLD_TICKLAG <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 50"></h3><p>where to start ticklag if many players present</p><h3 id="define/SEMIOVERLOAD_PLAYERCOUNT"><aside class="declaration">#define </aside>SEMIOVERLOAD_PLAYERCOUNT <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 90"></h3><p>when pcount is above this number on round start, increase ticklag to SEMIOVERLOADED_WORLD_TICKLAG to try to maintain smoothness</p><h3 id="define/SLOWEST_LIFE_PLAYERCOUNT"><aside class="declaration">#define </aside>SLOWEST_LIFE_PLAYERCOUNT <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 94"></h3><p>whenn pcount is &gt;= this number, slow Life() processing a lot</p><h3 id="define/SLOW_LIFE_PLAYERCOUNT"><aside class="declaration">#define </aside>SLOW_LIFE_PLAYERCOUNT <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 92"></h3><p>whenn pcount is &gt;= this number, slow Life() processing a bit</p><h3 id="define/TICKLAG_CPU_MAX"><aside class="declaration">#define </aside>TICKLAG_CPU_MAX <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 56"></h3><p>what cpu percent is too high in the dilation check</p><h3 id="define/TICKLAG_CPU_MIN"><aside class="declaration">#define </aside>TICKLAG_CPU_MIN <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 58"></h3><p>what cpu percent is low enough in the dilation check</p><h3 id="define/TICKLAG_DECREASE_THRESHOLD"><aside class="declaration">#define </aside>TICKLAG_DECREASE_THRESHOLD <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 66"></h3><p>number of times to see no lag in a row to speed up the ticker</p><h3 id="define/TICKLAG_DILATE_INTERVAL"><aside class="declaration">#define </aside>TICKLAG_DILATE_INTERVAL <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 68"></h3><p>how often to check for time dilation, against world.time, so counted in game ticks.</p><h3 id="define/TICKLAG_DILATION_DEC"><aside class="declaration">#define </aside>TICKLAG_DILATION_DEC <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 54"></h3><p>how much to decrease by when appropriate //MBCX I DONT KNOW WHY BUT MOST VALUES CAUSE ROUNDING ERRORS, ITS VERY IMPORTANT THAT THIS REMAINS 0.2 FIOR NOW</p><h3 id="define/TICKLAG_DILATION_INC"><aside class="declaration">#define </aside>TICKLAG_DILATION_INC <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 52"></h3><p>how ticklag much to increase by when appropriate</p><h3 id="define/TICKLAG_INCREASE_THRESHOLD"><aside class="declaration">#define </aside>TICKLAG_INCREASE_THRESHOLD <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 64"></h3><p>number of times the dilation check needs to see lag in a row to slow down the ticker</p><h3 id="define/TICKLAG_MAPCPU_MAX"><aside class="declaration">#define </aside>TICKLAG_MAPCPU_MAX <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 60"></h3><p>what map_cpu percent is too high in the dilation check</p><h3 id="define/TICKLAG_MAPCPU_MIN"><aside class="declaration">#define </aside>TICKLAG_MAPCPU_MIN <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 62"></h3><p>what map_cpu percent is low enough in the dilation check</p><h3 id="define/TICK_TIME_PROFILING_THRESHOLD"><aside class="declaration">#define </aside>TICK_TIME_PROFILING_THRESHOLD <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 85"></h3><p>even if world.cpu is normal if tick took this amount of time profiling will start</p><h3 id="define/UNTIL"><aside class="declaration">#define </aside>UNTIL<aside>(X, TIMEOUT)</aside> <img src="git.png" width="16" height="16" title="_std/defines/lag.dm 38"></h3><p>Waits until a given condition is true, or a timeout is reached</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>