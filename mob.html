<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>/mob - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="mob.html#var">Var Details</a> - <a href="mob.html#proc">Proc Details</a></header><main><h1>/<a href="mob.html">mob</a><aside> inherits /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a></aside> <img src="git.png" width="16" height="16" title="_std/macros/antag_popups.dm 121"></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="mob.html#var/ai">ai</a></th><td>AI controller for this mob - only active if is_npc is TRUE, in which case it's called by the mobAI loop at a frequency depending on mob flags</td></tr><tr><th><a href="mob.html#var/ai_tick_schedule">ai_tick_schedule</a></th><td>used for load balancing mob_ai ticks</td></tr><tr><th><a href="mob.html#var/ai_type">ai_type</a></th><td>Type path for the ai holder. Set to have the aiHolder instantiated on New()</td></tr><tr><th><a href="mob.html#var/being_controlled">being_controlled</a></th><td>A flag set temporarily when a mob is being forced to say something, used to avoid HORRIBLE SPAGHETTI in say logging. I'm sorry okay.</td></tr><tr><th><a href="mob.html#var/can_interface_with_pods">can_interface_with_pods</a></th><td>if this mob can interface with pod context menu by left clicking</td></tr><tr><th><a href="mob.html#var/can_use_say">can_use_say</a></th><td>Whether a client controlling this mob can make this mob speak through the use of say wrappers or commands.</td></tr><tr><th><a href="mob.html#var/faction">faction</a></th><td>For assigning mobs various factions, see factions.dm for definitions</td></tr><tr><th><a href="mob.html#var/is_running">is_running</a></th><td>If the mob is running</td></tr><tr><th><a href="mob.html#var/last_antag_popup">last_antag_popup</a></th><td>Stores the name of the last antag popup shown to the mob</td></tr><tr><th><a href="mob.html#var/last_radiation_dose_time">last_radiation_dose_time</a></th><td>last time this mob got dosed with radiation</td></tr><tr><th><a href="mob.html#var/move_dir">move_dir</a></th><td>The direction the mob is moving/last moved</td></tr><tr><th><a href="mob.html#var/movement_last_delay">movement_last_delay</a></th><td>The last speed the mob was moving at</td></tr><tr><th><a href="mob.html#var/movement_last_modified">movement_last_modified</a></th><td>When mob's movement was last modified</td></tr><tr><th><a href="mob.html#var/movement_last_progress">movement_last_progress</a></th><td>The progress of the move the mob was at when it was last modified. between 0-1</td></tr><tr><th><a href="mob.html#var/next_move">next_move</a></th><td>The next time the mob can move</td></tr><tr><th><a href="mob.html#var/no_stamina_stuns">no_stamina_stuns</a></th><td>If TRUE then this mob won't be fully stunned by stamina stuns</td></tr><tr><th><a href="mob.html#var/observing">observing</a></th><td>set to observed mob if you're currently observing a mob, otherwise null</td></tr><tr><th><a href="mob.html#var/prev_loc">prev_loc</a></th><td>The location of the mob before it last moved</td></tr><tr><th><a href="mob.html#var/prev_move">prev_move</a></th><td>The time the mob last moved</td></tr><tr><th><a href="mob.html#var/radiation_dose">radiation_dose</a></th><td>stores total accumulated radiation dose</td></tr><tr><th><a href="mob.html#var/radiation_dose_decay">radiation_dose_decay</a></th><td>natural decay of radiation exposure</td></tr><tr><th><a href="mob.html#var/tgui_open_uis">tgui_open_uis</a></th><td>global</td></tr><tr><th><a href="mob.html#var/trigger_emotes">trigger_emotes</a></th><td>A list of emotes that trigger a special action for this mob</td></tr><tr><th><a href="mob.html#var/use_ai_toggle">use_ai_toggle</a></th><td>Do we add the special &quot;Toggle AI&quot; ability to this mob?</td></tr><tr><th><a href="mob.html#var/vomit_behaviors">vomit_behaviors</a></th><td>Lazy inited list of custom vomit behaviours from reagents, organs etc.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="mob.html#proc/UpdateName">UpdateName</a></th><td>mob/proc/get_radiation()</td></tr><tr><th><a href="mob.html#proc/add_stam_mod_max">add_stam_mod_max</a></th><td>Adds a stamina max modifier with the given key. This uses unique keys to allow for &quot;categories&quot; of max modifiers - so you can only have one food buff etc.
If you get a buff of a category you already have, nothing will happen.</td></tr><tr><th><a href="mob.html#proc/apply_color_matrix">apply_color_matrix</a></th><td>Adds a 20-length color matrix to the mob's list of color matrices
cmatrix is the color matrix (must be a 16-length list!), label is the string to be used for dupe checks and removal</td></tr><tr><th><a href="mob.html#proc/apply_custom_keybinds">apply_custom_keybinds</a></th><td>Applies the client's custom keybind changelist, fetched from the cloud.</td></tr><tr><th><a href="mob.html#proc/attack_effects">attack_effects</a></th><td>After attack</td></tr><tr><th><a href="mob.html#proc/build_keybind_styles">build_keybind_styles</a></th><td>Additiviely applies keybind styles onto the client's keymap.</td></tr><tr><th><a href="mob.html#proc/calculate_bonus_damage">calculate_bonus_damage</a></th><td>Returns flat bonus damage to unarmed attacks - can also modify the attackResults passed in, e.g. to add to <code>after_effects</code></td></tr><tr><th><a href="mob.html#proc/calculate_bonus_stam_damage">calculate_bonus_stam_damage</a></th><td>returns additive adjustment to stamina damage for unarmed attacks (applied before stamina damage multiplier)</td></tr><tr><th><a href="mob.html#proc/cancel_typing">cancel_typing</a></th><td>Hide the typing indicator. The source signifies what action the user was typing for.</td></tr><tr><th><a href="mob.html#proc/changeBodyTemp">changeBodyTemp</a></th><td>Change the mob's body temperature without leaving the specified bounds</td></tr><tr><th><a href="mob.html#proc/check_attack_resistance">check_attack_resistance</a></th><td>Target damage modifiers</td></tr><tr><th><a href="mob.html#proc/closeContextActions">closeContextActions</a></th><td>The move param specifies whether the close call is generated by the mob moving</td></tr><tr><th><a href="mob.html#proc/disarm">disarm</a></th><td>Disarm intent</td></tr><tr><th><a href="mob.html#proc/do_help">do_help</a></th><td>Help intent</td></tr><tr><th><a href="mob.html#proc/double_click">double_click</a></th><td>This proc is called when a mob double clicks on something with the left mouse button.
Return TRUE if the click was handled, FALSE otherwise. Handled doubleclicks will suppress the Click() call that follows.
(Note that the Click() call for the <em>first</em> click always happens.)</td></tr><tr><th><a href="mob.html#proc/emp_touchy">emp_touchy</a></th><td>Helper procs</td></tr><tr><th><a href="mob.html#proc/equipment_list">equipment_list</a></th><td>Legally distinct from <code>equipped_list</code>, this gets all items from equipment slots and not hands!</td></tr><tr><th><a href="mob.html#proc/fake_damage">fake_damage</a></th><td>MISC BULLSHIT</td></tr><tr><th><a href="mob.html#proc/find_radio">find_radio</a></th><td>search for any radio device, starting with hands and then equipment
anything else is arbitrarily too deeply hidden and stowed away to get the signal
(more practically, they won't hear it)</td></tr><tr><th><a href="mob.html#proc/find_tool_in_hand">find_tool_in_hand</a></th><td>Given a tool flag, returns the src mob's tool in hand that matches the flag, or null</td></tr><tr><th><a href="mob.html#proc/get_ability_hotkey">get_ability_hotkey</a></th><td>Return the ability bound to the pressed ability hotkey combination</td></tr><tr><th><a href="mob.html#proc/get_base_damage_multiplier">get_base_damage_multiplier</a></th><td>/////////////////////////////////////////////////// Calculate damage //////////////////////////////////////////
multipler to unarmed attack damage dealt</td></tr><tr><th><a href="mob.html#proc/get_gang">get_gang</a></th><td>Returns the gang datum of this mob, provided they have one. Otherwise returns false.</td></tr><tr><th><a href="mob.html#proc/get_hud">get_hud</a></th><td>Returns the default HUD of the mob, whatever that may be</td></tr><tr><th><a href="mob.html#proc/get_stam_mod_max">get_stam_mod_max</a></th><td>Returns the total modifier for stamina max</td></tr><tr><th><a href="mob.html#proc/get_stamina">get_stamina</a></th><td>Returns current stamina</td></tr><tr><th><a href="mob.html#proc/get_taken_base_damage_multiplier">get_taken_base_damage_multiplier</a></th><td>multipler to unarmed damage received</td></tr><tr><th><a href="mob.html#proc/get_vampire_blood">get_vampire_blood</a></th><td>Helper procs</td></tr><tr><th><a href="mob.html#proc/handle_stamina_crit">handle_stamina_crit</a></th><td>Responsible for executing critical hits to stamina</td></tr><tr><th><a href="mob.html#proc/initializeBioholder">initializeBioholder</a></th><td>do you want your mob to have custom hairstyles and stuff? don't use spawns but set all of those properties here</td></tr><tr><th><a href="mob.html#proc/isContextActionTarget">isContextActionTarget</a></th><td>Check if an atom is the target of a context action on this mob</td></tr><tr><th><a href="mob.html#proc/melee_attack_test">melee_attack_test</a></th><td>Targeting checks</td></tr><tr><th><a href="mob.html#proc/notes_alias">notes_alias</a></th><td>shortcut for the Notes - View verb</td></tr><tr><th><a href="mob.html#proc/observeMob">observeMob</a></th><td>set_loc(mob) and set src.observing properly - use this to observe a mob, so it can be handled properly on deletion</td></tr><tr><th><a href="mob.html#proc/on_close_viewport">on_close_viewport</a></th><td>override per mob</td></tr><tr><th><a href="mob.html#proc/parry_or_dodge">parry_or_dodge</a></th><td>return 1 on successful dodge or parry, 0 on fail</td></tr><tr><th><a href="mob.html#proc/playsound_local_not_inworld">playsound_local_not_inworld</a></th><td>like playsound_local but without a source atom, this just plays at a given volume</td></tr><tr><th><a href="mob.html#proc/remove_color_matrix">remove_color_matrix</a></th><td>Removes whichever matrix is associated with the label. Must be a string!</td></tr><tr><th><a href="mob.html#proc/remove_stam_mod_max">remove_stam_mod_max</a></th><td>Removes a stamina max modifier with the given key.</td></tr><tr><th><a href="mob.html#proc/reset_keymap">reset_keymap</a></th><td>Builds the mob's keybind styles, checks for valid movement controllers, and finally sets the keymap.</td></tr><tr><th><a href="mob.html#proc/revenge_stun_reduction">revenge_stun_reduction</a></th><td>Adds 'get up' stun reduction, from taking beatdown damage.</td></tr><tr><th><a href="mob.html#proc/say_wrapper">say_wrapper</a></th><td>Wrappers</td></tr><tr><th><a href="mob.html#proc/set_a_intent">set_a_intent</a></th><td>used to set the a_intent var of a mob</td></tr><tr><th><a href="mob.html#proc/set_m_intent">set_m_intent</a></th><td>Set movement intent variable on a mob</td></tr><tr><th><a href="mob.html#proc/shared_ui_interaction">shared_ui_interaction</a></th><td>public</td></tr><tr><th><a href="mob.html#proc/stabilize">stabilize</a></th><td>Attempt to bring a mob just out of crit without immediately dropping back into crit</td></tr><tr><th><a href="mob.html#proc/stamina_stun">stamina_stun</a></th><td>Checks if mob should be stunned for being at or below 0 stamina and then does so.</td></tr><tr><th><a href="mob.html#proc/start_typing">start_typing</a></th><td>Show the typing indicator. The source signifies what action the user is typing for.</td></tr><tr><th><a href="mob.html#proc/step_towards_movedelay">step_towards_movedelay</a></th><td>like step_towards(), but respects move delay etc.</td></tr><tr><th><a href="mob.html#proc/stopObserving">stopObserving</a></th><td>called when the observed mob is deleted, override for custom behaviour.</td></tr><tr><th><a href="mob.html#proc/take_radiation_dose">take_radiation_dose</a></th><td>absorb radiation dose in Sieverts (note 0.4Sv is enough to make someone sick. 2Sv is enough to make someone dead without treatment, 4Sv is enough to make them dead.)</td></tr><tr><th><a href="mob.html#proc/update_active_matrix">update_active_matrix</a></th><td>Multiplies all of the mob's color matrices together and puts the result into src.active_color_matrix
This matrix will be applied to the mob at the end of this proc, and any time the client logs in
If animate is present, animate the transition for that many DS</td></tr><tr><th><a href="mob.html#proc/werewolf_transform">werewolf_transform</a></th><td>Helper procs</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/ai"><aside class="declaration">var </aside>ai <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/aiHolder.html">aiHolder</a></aside> <img src="git.png" width="16" height="16" title="code/mob.dm 215"></h3><p>AI controller for this mob - only active if is_npc is TRUE, in which case it's called by the mobAI loop at a frequency depending on mob flags</p><h3 id="var/ai_tick_schedule"><aside class="declaration">var </aside>ai_tick_schedule <img src="git.png" width="16" height="16" title="code/mob.dm 219"></h3><p>used for load balancing mob_ai ticks</p><h3 id="var/ai_type"><aside class="declaration">var </aside>ai_type <img src="git.png" width="16" height="16" title="code/mob.dm 213"></h3><p>Type path for the ai holder. Set to have the aiHolder instantiated on New()</p><h3 id="var/being_controlled"><aside class="declaration">var </aside>being_controlled <img src="git.png" width="16" height="16" title="code/mob.dm 236"></h3><p>A flag set temporarily when a mob is being forced to say something, used to avoid HORRIBLE SPAGHETTI in say logging. I'm sorry okay.</p><h3 id="var/can_interface_with_pods"><aside class="declaration">var </aside>can_interface_with_pods <img src="git.png" width="16" height="16" title="code/mob.dm 240"></h3><p>if this mob can interface with pod context menu by left clicking</p><h3 id="var/can_use_say"><aside class="declaration">var </aside>can_use_say <img src="git.png" width="16" height="16" title="code/modules/speech/core.dm 146"></h3><p>Whether a client controlling this mob can make this mob speak through the use of say wrappers or commands.</p><h3 id="var/faction"><aside class="declaration">var </aside>faction <img src="git.png" width="16" height="16" title="code/mob.dm 148"></h3><p>For assigning mobs various factions, see factions.dm for definitions</p><h3 id="var/is_running"><aside class="declaration">var </aside>is_running <img src="git.png" width="16" height="16" title="code/mob/input.dm 6"></h3><p>If the mob is running</p><h3 id="var/last_antag_popup"><aside class="declaration">var </aside>last_antag_popup <img src="git.png" width="16" height="16" title="_std/macros/antag_popups.dm 124"></h3><p>Stores the name of the last antag popup shown to the mob</p><h3 id="var/last_radiation_dose_time"><aside class="declaration">var </aside>last_radiation_dose_time <img src="git.png" width="16" height="16" title="code/mob.dm 228"></h3><p>last time this mob got dosed with radiation</p><h3 id="var/move_dir"><aside class="declaration">var </aside>move_dir <img src="git.png" width="16" height="16" title="code/mob/input.dm 3"></h3><p>The direction the mob is moving/last moved</p><h3 id="var/movement_last_delay"><aside class="declaration">var </aside>movement_last_delay <img src="git.png" width="16" height="16" title="code/mob/input.dm 9"></h3><p>The last speed the mob was moving at</p><h3 id="var/movement_last_modified"><aside class="declaration">var </aside>movement_last_modified <img src="git.png" width="16" height="16" title="code/mob/input.dm 8"></h3><p>When mob's movement was last modified</p><h3 id="var/movement_last_progress"><aside class="declaration">var </aside>movement_last_progress <img src="git.png" width="16" height="16" title="code/mob/input.dm 10"></h3><p>The progress of the move the mob was at when it was last modified. between 0-1</p><h3 id="var/next_move"><aside class="declaration">var </aside>next_move <img src="git.png" width="16" height="16" title="code/mob/input.dm 5"></h3><p>The next time the mob can move</p><h3 id="var/no_stamina_stuns"><aside class="declaration">var </aside>no_stamina_stuns <img src="git.png" width="16" height="16" title="code/mob.dm 234"></h3><p>If TRUE then this mob won't be fully stunned by stamina stuns</p><h3 id="var/observing"><aside class="declaration">var </aside>observing <aside>â€“ /<a href="mob.html">mob</a></aside> <img src="git.png" width="16" height="16" title="code/mob.dm 230"></h3><p>set to observed mob if you're currently observing a mob, otherwise null</p><h3 id="var/prev_loc"><aside class="declaration">var </aside>prev_loc <img src="git.png" width="16" height="16" title="code/mob/input.dm 2"></h3><p>The location of the mob before it last moved</p><h3 id="var/prev_move"><aside class="declaration">var </aside>prev_move <img src="git.png" width="16" height="16" title="code/mob/input.dm 4"></h3><p>The time the mob last moved</p><h3 id="var/radiation_dose"><aside class="declaration">var </aside>radiation_dose <img src="git.png" width="16" height="16" title="code/mob.dm 224"></h3><p>stores total accumulated radiation dose</p><h3 id="var/radiation_dose_decay"><aside class="declaration">var </aside>radiation_dose_decay <img src="git.png" width="16" height="16" title="code/mob.dm 226"></h3><p>natural decay of radiation exposure</p><h3 id="var/tgui_open_uis"><aside class="declaration">var </aside>tgui_open_uis <aside>â€“ /list</aside> <img src="git.png" width="16" height="16" title="code/modules/tgui/external.dm 136"></h3><p>global</p>
<p>Tracks open UIs for a user.</p><h3 id="var/trigger_emotes"><aside class="declaration">var </aside>trigger_emotes <aside>â€“ /list</aside> <img src="git.png" width="16" height="16" title="code/mob.dm 232"></h3><p>A list of emotes that trigger a special action for this mob</p><h3 id="var/use_ai_toggle"><aside class="declaration">var </aside>use_ai_toggle <img src="git.png" width="16" height="16" title="code/mob.dm 217"></h3><p>Do we add the special &quot;Toggle AI&quot; ability to this mob?</p><h3 id="var/vomit_behaviors"><aside class="declaration">var </aside>vomit_behaviors <aside>â€“ /list/<a href="datum.html">datum</a>/<a href="datum/vomit_behavior.html">vomit_behavior</a></aside> <img src="git.png" width="16" height="16" title="code/mob.dm 238"></h3><p>Lazy inited list of custom vomit behaviours from reagents, organs etc.</p><h2 id="proc">Proc Details</h2><h3 id="proc/UpdateName">UpdateName<aside>()  <img src="git.png" width="16" height="16" title="code/mob.dm 2802"></aside></h3><p>mob/proc/get_radiation()</p><h3 id="proc/add_stam_mod_max"><aside class="declaration">proc </aside>add_stam_mod_max<aside>(key, value)  <img src="git.png" width="16" height="16" title="code/mob/living/stamina_stuns.dm 19"></aside></h3><p>Adds a stamina max modifier with the given key. This uses unique keys to allow for &quot;categories&quot; of max modifiers - so you can only have one food buff etc.
If you get a buff of a category you already have, nothing will happen.</p><h3 id="proc/apply_color_matrix"><aside class="declaration">proc </aside>apply_color_matrix<aside>(/list/cmatrix, label, animate)  <img src="git.png" width="16" height="16" title="code/mob.dm 1712"></aside></h3><p>Adds a 20-length color matrix to the mob's list of color matrices
cmatrix is the color matrix (must be a 16-length list!), label is the string to be used for dupe checks and removal</p><h3 id="proc/apply_custom_keybinds"><aside class="declaration">proc </aside>apply_custom_keybinds<aside>(/<a href="client.html">client</a>/C)  <img src="git.png" width="16" height="16" title="code/modules/interface/mob_input.dm 199"></aside></h3><p>Applies the client's custom keybind changelist, fetched from the cloud.</p>
<p>Called by build_keybind_styles if not resetting the custom keybinds of a u</p><h3 id="proc/attack_effects"><aside class="declaration">proc </aside>attack_effects<aside>(target, def_zone)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 1236"></aside></h3><p>After attack</p><h3 id="proc/build_keybind_styles"><aside class="declaration">proc </aside>build_keybind_styles<aside>(/<a href="client.html">client</a>/C)  <img src="git.png" width="16" height="16" title="code/modules/interface/mob_input.dm 181"></aside></h3><p>Additiviely applies keybind styles onto the client's keymap.</p>
<p>To be extended upon in children types that want to have special keybind handling.</p>
<p>Call this proc first, and then do your specific application of keybind styles.</p><h3 id="proc/calculate_bonus_damage"><aside class="declaration">proc </aside>calculate_bonus_damage<aside>(/<a href="datum.html">datum</a>/attackResults/msgs, do_punch, do_kick)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 1109"></aside></h3><p>Returns flat bonus damage to unarmed attacks - can also modify the attackResults passed in, e.g. to add to <code>after_effects</code></p><h3 id="proc/calculate_bonus_stam_damage"><aside class="declaration">proc </aside>calculate_bonus_stam_damage<aside>(/<a href="datum.html">datum</a>/attackResults/msgs)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 1173"></aside></h3><p>returns additive adjustment to stamina damage for unarmed attacks (applied before stamina damage multiplier)</p><h3 id="proc/cancel_typing"><aside class="declaration">verb </aside>cancel_typing<aside>(source<span class="as"> as </span>text)  <img src="git.png" width="16" height="16" title="code/procs/mobprocs/typing_indicator.dm 81"></aside></h3><p>Hide the typing indicator. The source signifies what action the user was typing for.</p><h3 id="proc/changeBodyTemp"><aside class="declaration">proc </aside>changeBodyTemp<aside>(amount, min_temp, max_temp)  <img src="git.png" width="16" height="16" title="code/mob.dm 1780"></aside></h3><p>Change the mob's body temperature without leaving the specified bounds</p><h3 id="proc/check_attack_resistance"><aside class="declaration">proc </aside>check_attack_resistance<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I, /<a href="mob.html">mob</a>/attacker)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 1182"></aside></h3><p>Target damage modifiers</p><h3 id="proc/closeContextActions"><aside class="declaration">proc </aside>closeContextActions<aside>(move)  <img src="git.png" width="16" height="16" title="code/modules/interface/multiContext/multiContext.dm 64"></aside></h3><p>The move param specifies whether the close call is generated by the mob moving</p><h3 id="proc/disarm"><aside class="declaration">proc </aside>disarm<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target, extra_damage, suppress_flags, damtype, is_special)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 298"></aside></h3><p>Disarm intent</p><h3 id="proc/do_help"><aside class="declaration">proc </aside>do_help<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/M)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 15"></aside></h3><p>Help intent</p><h3 id="proc/double_click"><aside class="declaration">proc </aside>double_click<aside>(/<a href="atom.html">atom</a>/target, location, control, /list/params)  <img src="git.png" width="16" height="16" title="code/modules/interface/mob_input.dm 108"></aside></h3><p>This proc is called when a mob double clicks on something with the left mouse button.
Return TRUE if the click was handled, FALSE otherwise. Handled doubleclicks will suppress the Click() call that follows.
(Note that the Click() call for the <em>first</em> click always happens.)</p><h3 id="proc/emp_touchy"><aside class="declaration">proc </aside>emp_touchy<aside>(source, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I)  <img src="git.png" width="16" height="16" title="code/modules/antagonists/wizard/abilities/_wizard_ability_holder.dm 3"></aside></h3><p>Helper procs</p><h3 id="proc/equipment_list"><aside class="declaration">proc </aside>equipment_list<aside>() <span class="as"> as </span>/list <img src="git.png" width="16" height="16" title="code/mob.dm 1343"></aside></h3><p>Legally distinct from <code>equipped_list</code>, this gets all items from equipment slots and not hands!</p><h3 id="proc/fake_damage"><aside class="declaration">proc </aside>fake_damage<aside>(amount, seconds)  <img src="git.png" width="16" height="16" title="code/WorkInProgress/ISNStuff2.dm 3"></aside></h3><p>MISC BULLSHIT</p><h3 id="proc/find_radio"><aside class="declaration">proc </aside>find_radio<aside>()  <img src="git.png" width="16" height="16" title="code/mob.dm 3452"></aside></h3><p>search for any radio device, starting with hands and then equipment
anything else is arbitrarily too deeply hidden and stowed away to get the signal
(more practically, they won't hear it)</p><h3 id="proc/find_tool_in_hand"><aside class="declaration">proc </aside>find_tool_in_hand<aside>(tool_flag, hand)  <img src="git.png" width="16" height="16" title="code/procs/mob_procs.dm 64"></aside></h3><p>Given a tool flag, returns the src mob's tool in hand that matches the flag, or null</p>
<ul>
<li>
<p>tool_flag {int} - See defines/item.dm for valid TOOL_X values</p>
</li>
<li>
<p>hand {string} - If set, checks only in specific hand, else checks all hands</p>
</li>
<li>
<p>return {<a href="obj/item.html" title="/obj/item">obj/item</a> | 0} - Tool that matched flag (and was in specific hand, if specified)</p>
</li>
</ul><h3 id="proc/get_ability_hotkey"><aside class="declaration">proc </aside>get_ability_hotkey<aside>(/<a href="mob.html">mob</a>/user, parameters)  <img src="git.png" width="16" height="16" title="code/modules/interface/mob_input.dm 154"></aside></h3><p>Return the ability bound to the pressed ability hotkey combination</p><h3 id="proc/get_base_damage_multiplier"><aside class="declaration">proc </aside>get_base_damage_multiplier<aside>(def_zone)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 1093"></aside></h3><p>/////////////////////////////////////////////////// Calculate damage //////////////////////////////////////////
multipler to unarmed attack damage dealt</p><h3 id="proc/get_gang"><aside class="declaration">proc </aside>get_gang<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/antagonist_helpers.dm 40"></aside></h3><p>Returns the gang datum of this mob, provided they have one. Otherwise returns false.</p><h3 id="proc/get_hud"><aside class="declaration">proc </aside>get_hud<aside>()  <img src="git.png" width="16" height="16" title="code/mob.dm 3460"></aside></h3><p>Returns the default HUD of the mob, whatever that may be</p><h3 id="proc/get_stam_mod_max"><aside class="declaration">proc </aside>get_stam_mod_max<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/stamina_stuns.dm 43"></aside></h3><p>Returns the total modifier for stamina max</p><h3 id="proc/get_stamina"><aside class="declaration">proc </aside>get_stamina<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/stamina_stuns.dm 9"></aside></h3><p>Returns current stamina</p><h3 id="proc/get_taken_base_damage_multiplier"><aside class="declaration">proc </aside>get_taken_base_damage_multiplier<aside>(/<a href="mob.html">mob</a>/attacker, def_zone)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 1104"></aside></h3><p>multipler to unarmed damage received</p><h3 id="proc/get_vampire_blood"><aside class="declaration">proc </aside>get_vampire_blood<aside>(total_blood)  <img src="git.png" width="16" height="16" title="code/modules/antagonists/vampire/abilities/_vampire_ability_holder.dm 7"></aside></h3><p>Helper procs</p><h3 id="proc/handle_stamina_crit"><aside class="declaration">proc </aside>handle_stamina_crit<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/stamina_stuns.dm 138"></aside></h3><p>Responsible for executing critical hits to stamina</p><h3 id="proc/initializeBioholder"><aside class="declaration">proc </aside>initializeBioholder<aside>()  <img src="git.png" width="16" height="16" title="code/mob.dm 284"></aside></h3><p>do you want your mob to have custom hairstyles and stuff? don't use spawns but set all of those properties here</p><h3 id="proc/isContextActionTarget"><aside class="declaration">proc </aside>isContextActionTarget<aside>(/<a href="atom.html">atom</a>/subject)  <img src="git.png" width="16" height="16" title="code/modules/interface/multiContext/multiContext.dm 54"></aside></h3><p>Check if an atom is the target of a context action on this mob</p><h3 id="proc/melee_attack_test"><aside class="declaration">proc </aside>melee_attack_test<aside>(/<a href="mob.html">mob</a>/attacker, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I, def_zone, disarm_check)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 1046"></aside></h3><p>Targeting checks</p><h3 id="proc/notes_alias"><aside class="declaration">verb </aside>notes_alias<aside>()  <img src="git.png" width="16" height="16" title="code/mob.dm 1433"></aside></h3><p>shortcut for the Notes - View verb</p><h3 id="proc/observeMob"><aside class="declaration">proc </aside>observeMob<aside>(/<a href="mob.html">mob</a>/target)  <img src="git.png" width="16" height="16" title="code/mob.dm 3439"></aside></h3><p>set_loc(mob) and set src.observing properly - use this to observe a mob, so it can be handled properly on deletion</p><h3 id="proc/on_close_viewport"><aside class="declaration">proc </aside>on_close_viewport<aside>(/<a href="datum.html">datum</a>/viewport/vp)  <img src="git.png" width="16" height="16" title="code/datums/viewport.dm 186"></aside></h3><p>override per mob</p><h3 id="proc/parry_or_dodge"><aside class="declaration">proc </aside>parry_or_dodge<aside>(/<a href="mob.html">mob</a>/M, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W)  <img src="git.png" width="16" height="16" title="code/mob/melee_attack_procs.dm 1305"></aside></h3><p>return 1 on successful dodge or parry, 0 on fail</p><h3 id="proc/playsound_local_not_inworld"><aside class="declaration">proc </aside>playsound_local_not_inworld<aside>(soundin, vol, vary, pitch, ignore_flag, channel, flags, wait)  <img src="git.png" width="16" height="16" title="code/modules/sound/sound.dm 352"></aside></h3><p>like playsound_local but without a source atom, this just plays at a given volume</p><h3 id="proc/remove_color_matrix"><aside class="declaration">proc </aside>remove_color_matrix<aside>(label, animate)  <img src="git.png" width="16" height="16" title="code/mob.dm 1724"></aside></h3><p>Removes whichever matrix is associated with the label. Must be a string!</p><h3 id="proc/remove_stam_mod_max"><aside class="declaration">proc </aside>remove_stam_mod_max<aside>(key)  <img src="git.png" width="16" height="16" title="code/mob/living/stamina_stuns.dm 32"></aside></h3><p>Removes a stamina max modifier with the given key.</p><h3 id="proc/reset_keymap"><aside class="declaration">proc </aside>reset_keymap<aside>()  <img src="git.png" width="16" height="16" title="code/modules/interface/mob_input.dm 217"></aside></h3><p>Builds the mob's keybind styles, checks for valid movement controllers, and finally sets the keymap.</p>
<p>Called on: Login, Vehicle change, WASD/TG/AZERTY toggle, Keybind menu Reset</p><h3 id="proc/revenge_stun_reduction"><aside class="declaration">proc </aside>revenge_stun_reduction<aside>(stamina_damage, brute, burn, damage_type)  <img src="git.png" width="16" height="16" title="code/mob/living/stamina_stuns.dm 95"></aside></h3><p>Adds 'get up' stun reduction, from taking beatdown damage.</p><h3 id="proc/say_wrapper"><aside class="declaration">verb </aside>say_wrapper<aside>(message<span class="as"> as </span>text)  <img src="git.png" width="16" height="16" title="code/procs/mobprocs/typing_indicator.dm 103"></aside></h3><p>Wrappers</p><h3 id="proc/set_a_intent"><aside class="declaration">proc </aside>set_a_intent<aside>(intent)  <img src="git.png" width="16" height="16" title="code/mob.dm 901"></aside></h3><p>used to set the a_intent var of a mob</p><h3 id="proc/set_m_intent"><aside class="declaration">proc </aside>set_m_intent<aside>(intent)  <img src="git.png" width="16" height="16" title="code/mob.dm 912"></aside></h3><p>Set movement intent variable on a mob</p><h3 id="proc/shared_ui_interaction"><aside class="declaration">proc </aside>shared_ui_interaction<aside>(src_object)  <img src="git.png" width="16" height="16" title="code/modules/tgui/states.dm 61"></aside></h3><p>public</p>
<p>Standard interaction/sanity checks. Different mob types may have overrides.</p>
<p>return UI_state The state of the UI.</p><h3 id="proc/stabilize"><aside class="declaration">proc </aside>stabilize<aside>()  <img src="git.png" width="16" height="16" title="code/mob.dm 2589"></aside></h3><p>Attempt to bring a mob just out of crit without immediately dropping back into crit</p><h3 id="proc/stamina_stun"><aside class="declaration">proc </aside>stamina_stun<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/stamina_stuns.dm 182"></aside></h3><p>Checks if mob should be stunned for being at or below 0 stamina and then does so.</p>
<p>This is in a proc so we can easily instantly apply the stun from other areas of the game.</p>
<p>For example: You'd put this on a weapon after it removes stamina to make sure the stun applies
instantly and not on the next life tick.</p><h3 id="proc/start_typing"><aside class="declaration">verb </aside>start_typing<aside>(source<span class="as"> as </span>text)  <img src="git.png" width="16" height="16" title="code/procs/mobprocs/typing_indicator.dm 74"></aside></h3><p>Show the typing indicator. The source signifies what action the user is typing for.</p><h3 id="proc/step_towards_movedelay"><aside class="declaration">proc </aside>step_towards_movedelay<aside>(/<a href="atom.html">atom</a>/trg)  <img src="git.png" width="16" height="16" title="code/mob.dm 3464"></aside></h3><p>like step_towards(), but respects move delay etc.</p><h3 id="proc/stopObserving"><aside class="declaration">proc </aside>stopObserving<aside>()  <img src="git.png" width="16" height="16" title="code/mob.dm 3444"></aside></h3><p>called when the observed mob is deleted, override for custom behaviour.</p><h3 id="proc/take_radiation_dose"><aside class="declaration">proc </aside>take_radiation_dose<aside>(Sv, internal)  <img src="git.png" width="16" height="16" title="code/mob.dm 3419"></aside></h3><p>absorb radiation dose in Sieverts (note 0.4Sv is enough to make someone sick. 2Sv is enough to make someone dead without treatment, 4Sv is enough to make them dead.)</p><h3 id="proc/update_active_matrix"><aside class="declaration">proc </aside>update_active_matrix<aside>(animate)  <img src="git.png" width="16" height="16" title="code/mob.dm 1740"></aside></h3><p>Multiplies all of the mob's color matrices together and puts the result into src.active_color_matrix
This matrix will be applied to the mob at the end of this proc, and any time the client logs in
If animate is present, animate the transition for that many DS</p><h3 id="proc/werewolf_transform"><aside class="declaration">proc </aside>werewolf_transform<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/werewolf/abilities/_werewolf_ability_holder.dm 9"></aside></h3><p>Helper procs</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>