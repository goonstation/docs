<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>code/procs/helpers.dm - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a></header><main><h1>code/procs/helpers.dm <img src="git.png" width="16" height="16" title="code/procs/helpers.dm"></h1><table class="summary" cellspacing="0"><tr><th>/proc/<a href="global.html#proc/s_es">s_es</a></th><td>Returns the plural based on a number provided.</td></tr><tr><th>/proc/<a href="global.html#proc/isUpper">isUpper</a></th><td>Returns true if the char you feed it is uppercase.</td></tr><tr><th>/proc/<a href="global.html#proc/getLineMatrix">getLineMatrix</a></th><td>Returns the line matrix from a start atom to an end atom, used in creating line objects</td></tr><tr><th>/proc/<a href="global.html#proc/showLine">showLine</a></th><td>Creates and shows a line object. Line object has an &quot;affected&quot; var that contains the cross tiles.</td></tr><tr><th>/proc/<a href="global.html#proc/get_angle">get_angle</a></th><td>Returns the angle between two given atoms</td></tr><tr><th>/proc/<a href="global.html#proc/strip_illegal_characters">strip_illegal_characters</a></th><td>Strip out weird illegal characters that TGUI discards anyway, see <code>\improper</code> and other Byond lunacy</td></tr><tr><th>/proc/<a href="global.html#proc/tidy_net_data">tidy_net_data</a></th><td>Cleans up data passed in from network packets for display so it doesn't mess with formatting</td></tr><tr><th>/proc/<a href="global.html#proc/add_zero">add_zero</a></th><td>Adds zeroes to the beginning of a string until it reaches the desired length</td></tr><tr><th>/proc/<a href="global.html#proc/pad_leading">pad_leading</a></th><td>Adds <code>char</code> ahead of <code>text</code> until it reaches <code>length</code> characters total</td></tr><tr><th>/proc/<a href="global.html#proc/pad_trailing">pad_trailing</a></th><td>Adds <code>char</code> after <code>text</code> until it reaches <code>length</code> characters total</td></tr><tr><th>/proc/<a href="global.html#proc/angle2text">angle2text</a></th><td>Returns the given degree converted to a text string in the form of a direction</td></tr><tr><th>/proc/<a href="global.html#proc/IsGuestKey">IsGuestKey</a></th><td>Returns true if the given key is a guest key</td></tr><tr><th>/proc/<a href="global.html#proc/IsLocalClient">IsLocalClient</a></th><td>Returns true if the given client is a local client</td></tr><tr><th>/proc/<a href="global.html#proc/sanitize_frequency">sanitize_frequency</a></th><td>Returns f, ensured that it's a valid frequency</td></tr><tr><th>/proc/<a href="global.html#proc/get_adjacent_floor">get_adjacent_floor</a></th><td>Returns the turf facing the fab for cardinal directions (which should also be the user's turf),
but for diagonals it returns a neighbouring turf depending on where you click
Just in case you're attacking a corner diagonally. (made initially for lamp manufacturers, probably behaves funky above range 1)</td></tr><tr><th>/proc/<a href="global.html#proc/is_hex">is_hex</a></th><td>Returns true if given value is a hex value</td></tr><tr><th>/proc/<a href="global.html#proc/get_top_ancestor">get_top_ancestor</a></th><td>Get the highest ancestor of this object in the tree that is an immediate child of a given ancestor.</td></tr><tr><th>/proc/<a href="global.html#proc/o_clock_time">o_clock_time</a></th><td>Returns the current timeofday in o'clock format</td></tr><tr><th>/proc/<a href="global.html#proc/formatTimeText">formatTimeText</a></th><td>Returns time input as mm:ss</td></tr><tr><th>/proc/<a href="global.html#proc/formattedShiftTime">formattedShiftTime</a></th><td>Returns shift time as a string in hh:mm format. Call with TRUE to get time in hh:mm:ss format.</td></tr><tr><th>/proc/<a href="global.html#proc/eligible_dead_player_list">eligible_dead_player_list</a></th><td>Returns a list of eligible dead players that COULD choose to respawn or whatever</td></tr><tr><th>/proc/<a href="global.html#proc/dead_player_list">dead_player_list</a></th><td>Returns a list of eligible dead players to be respawned as an antagonist or whatever (Convair880).
Text messages: 1: alert | 2: alert (chatbox) | 3: alert acknowledged (chatbox) | 4: no longer eligible (chatbox) | 5: waited too long (chatbox)
for_antag indicates that we are polling for an antag role and so should exclude antag-banned players</td></tr><tr><th>/proc/<a href="global.html#proc/prioritize_dead_players">prioritize_dead_players</a></th><td>Returns a randomized list of minds with players who joined as observer at the back</td></tr><tr><th>/proc/<a href="global.html#proc/log_respawn_event">log_respawn_event</a></th><td>Logs a player respawning as something from a respawn event, noting if they joined the round as an observer or not
Note: should be called BEFORE they are transferred to the new body</td></tr><tr><th>/proc/<a href="global.html#proc/whois">whois</a></th><td>Looks up a player based on a string. Searches a shit load of things <del>whoa</del>. Returns a list of mob refs.</td></tr><tr><th>/proc/<a href="global.html#proc/ckey_to_mob">ckey_to_mob</a></th><td>A universal ckey -&gt; mob reference lookup proc, adapted from whois() (Convair880).</td></tr><tr><th>/proc/<a href="global.html#proc/ckey_to_mob_maybe_disconnected">ckey_to_mob_maybe_disconnected</a></th><td>Given a ckey finds a mob with that ckey even if they are not in the game.</td></tr><tr><th>/proc/<a href="global.html#proc/whodead">whodead</a></th><td>Finds whoever's dead.</td></tr><tr><th>/proc/<a href="global.html#proc/random_hex">random_hex</a></th><td>Returns random hex value of length given</td></tr><tr><th>/proc/<a href="global.html#proc/dectalk">dectalk</a></th><td>dectalk SAYS its default volume is 5 but it seems to actually be more like 100</td></tr><tr><th>/proc/<a href="global.html#proc/hex2color_name">hex2color_name</a></th><td>Given hex color, returns string name of nearest named color</td></tr><tr><th>/proc/<a href="global.html#proc/sonic_attack_environmental_effect">sonic_attack_environmental_effect</a></th><td>Given center turf/atom, range, and list of things to smash, will damage said objects within range of center.
Used for sonic grenades and similar. Avoiding C&amp;P Code.</td></tr><tr><th>/proc/<a href="global.html#proc/get_hud_style">get_hud_style</a></th><td>Returns hud style preferences of given client/mob</td></tr><tr><th>/proc/<a href="global.html#proc/get_all_mobs_in">get_all_mobs_in</a></th><td>Returns list of all mobs within an atom. Not cheap! (unlike ur mum)</td></tr><tr><th>/proc/<a href="global.html#proc/get_standard_skintone">get_standard_skintone</a></th><td>Given user, will proompt user to select skin color from list (or custom) and returns skin tone after blending</td></tr><tr><th>/proc/<a href="global.html#proc/blend_skintone">blend_skintone</a></th><td>Blends given rgb values with old human mob skin color (#ffca95) to return a new rgb value</td></tr><tr><th>/proc/<a href="global.html#proc/getRole">getRole</a></th><td>Returns a string based on the current job and antag role of the mob e.g. <code>&quot;Staff Assistant [Traitor]&quot;</code></td></tr><tr><th>/proc/<a href="global.html#proc/isadmin">isadmin</a></th><td>Returns true if given mob/client/mind is an admin</td></tr><tr><th>/proc/<a href="global.html#proc/gradientText">gradientText</a></th><td>Repeat a gradient between two colors across text.
Note: This is inaccurate because its a linear transformation, but human eyes do not perceive color this way.</td></tr><tr><th>/proc/<a href="global.html#proc/radioGarbleText">radioGarbleText</a></th><td>Returns given text replaced by nonsense chars, excepting HTML tags, on a 40% or given % basis</td></tr><tr><th>/proc/<a href="global.html#proc/illiterateGarbleText">illiterateGarbleText</a></th><td>Returns given text replaced entirely by nonsense chars</td></tr><tr><th>/proc/<a href="global.html#proc/getTimeInSecondsSinceTime">getTimeInSecondsSinceTime</a></th><td>Returns the time in seconds since a given timestamp</td></tr><tr><th>/proc/<a href="global.html#proc/getIconSize">getIconSize</a></th><td>Handles the two states icon_size can be in: basic number, or string in WxH format</td></tr><tr><th>/proc/<a href="global.html#proc/getClientFromCkey">getClientFromCkey</a></th><td>Finds a client by ckey, throws exception if not found</td></tr><tr><th>/proc/<a href="global.html#proc/check_whitelist">check_whitelist</a></th><td>Removes non-whitelisted reagents from the reagents of TA</td></tr><tr><th>/proc/<a href="global.html#proc/in_cone_of_vision">in_cone_of_vision</a></th><td>This proc checks if one atom is in the cone of vision of another one.</td></tr><tr><th>/proc/<a href="global.html#proc/time_to_text">time_to_text</a></th><td>Returns the passed decisecond-format time in the form of a text string</td></tr><tr><th>/proc/<a href="global.html#proc/can_act">can_act</a></th><td>Returns true if not incapicitated and unhandcuffed (by default)</td></tr><tr><th>/proc/<a href="global.html#proc/is_incapacitated">is_incapacitated</a></th><td>Returns true if the given mob is incapacitated</td></tr><tr><th>/proc/<a href="global.html#proc/get_all_character_setup_ringtones">get_all_character_setup_ringtones</a></th><td>sets up the list of ringtones players can select through character setup</td></tr><tr><th>/proc/<a href="global.html#proc/connectdirs_to_byonddirs">connectdirs_to_byonddirs</a></th><td>converts <code>get_connected_directions_bitflag()</code> diagonal bits to byond direction flags</td></tr><tr><th>/proc/<a href="global.html#proc/do_hud_offset_thing">do_hud_offset_thing</a></th><td>adjusts a screen_loc to account for non-32px-width sprites, so they get centered in a HUD slot</td></tr><tr><th>/proc/<a href="global.html#proc/log_object">log_object</a></th><td>For logs- returns the thing's name and type. Handles nulls and non-datums fine, might do something weird for savefiles, clients, etc</td></tr><tr><th>/proc/<a href="global.html#proc/identify_object">identify_object</a></th><td>For runtime logs- returns the above plus ref</td></tr><tr><th>/proc/<a href="global.html#proc/random_split">random_split</a></th><td>Returns <code>amount</code> evenly distributed random integers that sum to <code>sum</code></td></tr><tr><th>/proc/<a href="global.html#proc/find_replace_in_string">find_replace_in_string</a></th><td>*Replaces tokens in an input string with a desired replacement token from a text file. Primarily used for accents and similar speech modifiers.</td></tr><tr><th>/proc/<a href="global.html#proc/total_density">total_density</a></th><td>Returns the sum of densities of all atoms in the given turf including the turf itself</td></tr><tr><th>/proc/<a href="global.html#proc/total_cross">total_cross</a></th><td>Checks if Cross succeeds for the turf and all atoms in it</td></tr><tr><th>/proc/<a href="global.html#proc/find_client">find_client</a></th><td>Find a client based on ckey</td></tr><tr><th>/proc/<a href="global.html#proc/get_random_station_storage_list">get_random_station_storage_list</a></th><td>Return a list of station-level storage objects that are safe to spawn things into</td></tr><tr><th>/proc/<a href="global.html#proc/findLastMatch">findLastMatch</a></th><td>returns the position of the last matching needle in haystack, case sensitive</td></tr><tr><th>/proc/<a href="global.html#proc/findLastMatchEx">findLastMatchEx</a></th><td>returns the position of the last matching needle in haystack, case insensitive</td></tr><tr><th>/proc/<a href="global.html#proc/get_tgm_maxx">get_tgm_maxx</a></th><td>returns the maxx value of a TGM formatted map. Accepts either a map file or preread map text data</td></tr><tr><th>/proc/<a href="global.html#proc/get_tgm_maxy">get_tgm_maxy</a></th><td>returns the maxy value of a TGM formatted map. Accepts either a map file or preread map text data</td></tr><tr><th>/proc/<a href="global.html#proc/search_snippet">search_snippet</a></th><td>Returns an html input and a script which allows to toggle elements of a certain class visible or hidden depending what filter the user types in the input.</td></tr></table></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>