<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/gas_mixture - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/gas_mixture.html#var">Var Details</a> - <a href="datum/gas_mixture.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 10"></h1><ul>
<li>The key of atmospherics.</li>
<li>This datum here is how we represent gas mixtures. Temperature is in Kelvin and volume is in Litres.</li>
<li>Defines and stores base gases using [APPLY_TO_GASES] and stores trace gases using [datum/gas_mixture/var/list/datum/gas/trace_gases]. </li>
</ul><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/gas_mixture.html#var/fuel_burnt">fuel_burnt</a></th><td>Rough representation of oxygen and plasma used. Actual usage of plasma is currectly divided by 3 for balance.</td></tr><tr><th><a href="datum/gas_mixture.html#var/graphic">graphic</a></th><td>Bitfield representing gas graphics on our tile.</td></tr><tr><th><a href="datum/gas_mixture.html#var/group_multiplier">group_multiplier</a></th><td>Used in air groups, this represents how many tiles are in the air group.
Using this lets us scale all kinds of variables so we can always act like one big tile.</td></tr><tr><th><a href="datum/gas_mixture.html#var/temperature">temperature</a></th><td>Temperature of gases in Kelvin</td></tr><tr><th><a href="datum/gas_mixture.html#var/volume">volume</a></th><td>Volume of container in litres</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_both_then_temperature_share">check_both_then_temperature_share</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_gas_mixture">check_gas_mixture</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_if_dangerous">check_if_dangerous</a></th><td>Checks for, ya know, if the mixture is potentially dangerous.</td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_me_then_temperature_mimic">check_me_then_temperature_mimic</a></th><td>Similar to <a href="datum/gas_mixture.html#proc/check_me_then_temperature_share" title="/datum/gas_mixture">/datum/gas_mixture/proc/check_me_then_temperature_share</a> except the model is not modified.</td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_me_then_temperature_share">check_me_then_temperature_share</a></th><td>Similar to <a href="datum/gas_mixture.html#proc/check_both_then_temperature_share" title="/datum/gas_mixture">/datum/gas_mixture/proc/check_both_then_temperature_share</a> except that we solely check ourselves.
Returns: FALSE if the self-check failed and TRUE if self-check passed.</td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_me_then_temperature_turf_share">check_me_then_temperature_turf_share</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_then_merge">check_then_merge</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_then_remove">check_then_remove</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_tile_graphic">check_tile_graphic</a></th><td>Build bitfield of overlays to use for a gas mixture and determine if graphic should be updated</td></tr><tr><th><a href="datum/gas_mixture.html#proc/check_turf">check_turf</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/compare">compare</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/copy_from">copy_from</a></th><td>Copies variables from sample</td></tr><tr><th><a href="datum/gas_mixture.html#proc/fire">fire</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/merge">merge</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/mimic">mimic</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/neutron_interact">neutron_interact</a></th><td>Processes an interaction between a neutron and this gas mixture, altering the component gasses accordingly.
Returns the resulting number of neutrons - 0 means that the reaction consumed the input neutron</td></tr><tr><th><a href="datum/gas_mixture.html#proc/react">react</a></th><td>Process all reactions, return bitfield if notable reaction occurs.</td></tr><tr><th><a href="datum/gas_mixture.html#proc/remove">remove</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/remove_ratio">remove_ratio</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/reset_to_space_gas">reset_to_space_gas</a></th><td>Removes all gases except if in an underwater map, in which case the gas is set to be hot low pressure air.</td></tr><tr><th><a href="datum/gas_mixture.html#proc/share">share</a></th><td></td></tr><tr><th><a href="datum/gas_mixture.html#proc/subtract">subtract</a></th><td>Subtracts right_side from air_mixture. Used to help turfs mingle</td></tr><tr><th><a href="datum/gas_mixture.html#proc/temperature_mimic">temperature_mimic</a></th><td>Similar to <a href="datum/gas_mixture.html#proc/temperature_share" title="/datum/gas_mixture">/datum/gas_mixture/proc/temperature_share</a> except the model is not modified.</td></tr><tr><th><a href="datum/gas_mixture.html#proc/temperature_share">temperature_share</a></th><td>Conducts heat between gases.
Conduction_coefficient is a multiplier that determines how well heat equalises, with 0 meaning no heat and 1 meaning perfect equalisation.</td></tr><tr><th><a href="datum/gas_mixture.html#proc/temperature_turf_share">temperature_turf_share</a></th><td>Shares heat between turfs, with conduction_coefficient as heat transfer efficiency factor.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/fuel_burnt"><aside class="declaration">var </aside>fuel_burnt <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 35"></h3><p>Rough representation of oxygen and plasma used. Actual usage of plasma is currectly divided by 3 for balance.</p><h3 id="var/graphic"><aside class="declaration">var </aside>graphic <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 32"></h3><p>Bitfield representing gas graphics on our tile.</p><h3 id="var/group_multiplier"><aside class="declaration">var </aside>group_multiplier <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 30"></h3><p>Used in air groups, this represents how many tiles are in the air group.
Using this lets us scale all kinds of variables so we can always act like one big tile.</p><h3 id="var/temperature"><aside class="declaration">var </aside>temperature <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 21"></h3><p>Temperature of gases in Kelvin</p><h3 id="var/volume"><aside class="declaration">var </aside>volume <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 27"></h3><p>Volume of container in litres</p><h2 id="proc">Proc Details</h2><h3 id="proc/check_both_then_temperature_share"><aside class="declaration">proc </aside>check_both_then_temperature_share<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/sharer, conduction_coefficient)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 455"></aside></h3><ul>
<li>Checks if our combined temperatures have a low enough delta that group processing is preserved.</li>
<li>Returns: <a href="_std/macros/atmos.html#define/SELF_CHECK_FAIL" title="SELF_CHECK_FAIL">SELF_CHECK_FAIL</a> if the self-check failed, <a href="_std/macros/atmos.html#define/SHARER_CHECK_FAIL" title="SHARER_CHECK_FAIL">SHARER_CHECK_FAIL</a> if sharer-check failed, <a href="_std/macros/atmos.html#define/GROUP_CHECK_PASS" title="GROUP_CHECK_PASS">GROUP_CHECK_PASS</a> if both checks pass. </li>
</ul><h3 id="proc/check_gas_mixture"><aside class="declaration">proc </aside>check_gas_mixture<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/sharer)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 313"></aside></h3><ul>
<li>Checks if us and the sharer have a low enough delta and our combination's delta is small enough that group processing can be preserved.</li>
<li>Returns: <a href="_std/macros/atmos.html#define/SELF_CHECK_FAIL" title="SELF_CHECK_FAIL">SELF_CHECK_FAIL</a> if the self-check failed, <a href="_std/macros/atmos.html#define/SHARER_CHECK_FAIL" title="SHARER_CHECK_FAIL">SHARER_CHECK_FAIL</a> if sharer-check failed, <a href="_std/macros/atmos.html#define/GROUP_CHECK_PASS" title="GROUP_CHECK_PASS">GROUP_CHECK_PASS</a> if both checks pass.</li>
</ul><h3 id="proc/check_if_dangerous"><aside class="declaration">proc </aside>check_if_dangerous<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 633"></aside></h3><p>Checks for, ya know, if the mixture is potentially dangerous.</p><h3 id="proc/check_me_then_temperature_mimic"><aside class="declaration">proc </aside>check_me_then_temperature_mimic<aside>(/<a href="turf.html">turf</a>/model, conduction_coefficient)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 548"></aside></h3><p>Similar to <a href="datum/gas_mixture.html#proc/check_me_then_temperature_share" title="/datum/gas_mixture">/datum/gas_mixture/proc/check_me_then_temperature_share</a> except the model is not modified.</p><h3 id="proc/check_me_then_temperature_share"><aside class="declaration">proc </aside>check_me_then_temperature_share<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/sharer, conduction_coefficient)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 489"></aside></h3><p>Similar to <a href="datum/gas_mixture.html#proc/check_both_then_temperature_share" title="/datum/gas_mixture">/datum/gas_mixture/proc/check_both_then_temperature_share</a> except that we solely check ourselves.
Returns: FALSE if the self-check failed and TRUE if self-check passed.</p><h3 id="proc/check_me_then_temperature_turf_share"><aside class="declaration">proc </aside>check_me_then_temperature_turf_share<aside>(/<a href="turf.html">turf</a>/<a href="turf/simulated.html">simulated</a>/sharer, conduction_coefficient)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 519"></aside></h3><ul>
<li>Checks if the difference is small enough so we can continue group processing,</li>
<li>Return: TRUE if valid for group processing, FALSE if delta is too large for group processing.</li>
</ul><h3 id="proc/check_then_merge"><aside class="declaration">proc </aside>check_then_merge<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/giver)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 202"></aside></h3><ul>
<li>Similar to <a href="datum/gas_mixture.html#proc/merge" title="/datum/gas_mixture">/datum/gas_mixture/proc/merge</a> but first checks to see if the amount of air assumed is small enough
that group processing is still accurate for source (aborts if not).</li>
<li>Returns: TRUE on successful merge, FALSE if the check failed. </li>
</ul><h3 id="proc/check_then_remove"><aside class="declaration">proc </aside>check_then_remove<aside>(amount)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 282"></aside></h3><ul>
<li>Similar to <a href="datum/gas_mixture.html#proc/remove" title="/datum/gas_mixture">/datum/gas_mixture/proc/remove</a> but first checks to see if the amount of air removed is small enough
that group processing is still accurate for source (aborts if not).</li>
<li>Returns: gas_mixture with the gases removed if group processing was preserved, else <a href="_std/macros/atmos.html#define/SELF_CHECK_FAIL" title="SELF_CHECK_FAIL">SELF_CHECK_FAIL</a>. </li>
</ul><h3 id="proc/check_tile_graphic"><aside class="declaration">proc </aside>check_tile_graphic<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 59"></aside></h3><p>Build bitfield of overlays to use for a gas mixture and determine if graphic should be updated</p><h3 id="proc/check_turf"><aside class="declaration">proc </aside>check_turf<aside>(/<a href="turf.html">turf</a>/model)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 339"></aside></h3><ul>
<li>Checks if the turf is valid for air group processing.</li>
<li>Returns: FALSE if self-check failed or TRUE if check passes</li>
</ul><h3 id="proc/compare"><aside class="declaration">proc </aside>compare<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/sample)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 615"></aside></h3><ul>
<li>Compares sample to src to see if within acceptable ranges that group processing may be enabled</li>
<li>Returns: TRUE if within range, FALSE if outside range.</li>
</ul><h3 id="proc/copy_from"><aside class="declaration">proc </aside>copy_from<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/sample)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 293"></aside></h3><p>Copies variables from sample</p><h3 id="proc/fire"><aside class="declaration">proc </aside>fire<aside>(mult)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 107"></aside></h3><ul>
<li>Process fire combustion, pretty much just plasma combustion.</li>
<li>Returns: Rough amount of plasma and oxygen used. Inaccurate due to plasma usage lowering.</li>
</ul><h3 id="proc/merge"><aside class="declaration">proc </aside>merge<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/giver)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 216"></aside></h3><ul>
<li>Merges all air from giver into self. Deletes giver.</li>
<li>Returns: TRUE on success (no failure cases yet)</li>
</ul><h3 id="proc/mimic"><aside class="declaration">proc </aside>mimic<aside>(/<a href="turf.html">turf</a>/model, border_multiplier)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 407"></aside></h3><ul>
<li>Similar to <a href="datum/gas_mixture.html#proc/share" title="/datum/gas_mixture">/datum/gas_mixture/proc/share</a>, except the model is not modified.</li>
<li>Return: Moles of gas exchanged.</li>
</ul><h3 id="proc/neutron_interact"><aside class="declaration">proc </aside>neutron_interact<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 153"></aside></h3><p>Processes an interaction between a neutron and this gas mixture, altering the component gasses accordingly.
Returns the resulting number of neutrons - 0 means that the reaction consumed the input neutron</p><h3 id="proc/react"><aside class="declaration">proc </aside>react<aside>(/<a href="atom.html">atom</a>/dump_location, mult)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 71"></aside></h3><p>Process all reactions, return bitfield if notable reaction occurs.</p><h3 id="proc/remove"><aside class="declaration">proc </aside>remove<aside>(amount)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 241"></aside></h3><ul>
<li>Proportionally removes amount of gas from the gas_mixture.</li>
<li>Returns: gas_mixture with the gases removed.</li>
</ul><h3 id="proc/remove_ratio"><aside class="declaration">proc </aside>remove_ratio<aside>(ratio)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 261"></aside></h3><ul>
<li>Proportionally removes amount of gas from the gas_mixture.</li>
<li>Returns: gas_mixture with the gases removed.</li>
</ul><h3 id="proc/reset_to_space_gas"><aside class="declaration">proc </aside>reset_to_space_gas<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 51"></aside></h3><p>Removes all gases except if in an underwater map, in which case the gas is set to be hot low pressure air.</p><h3 id="proc/share"><aside class="declaration">proc </aside>share<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/sharer)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 357"></aside></h3><ul>
<li>Performs air sharing calculations between two gas_mixtures assuming only 1 boundary length.</li>
<li>Return: Moles of gas exchanged (+ if sharer received)</li>
</ul><h3 id="proc/subtract"><aside class="declaration">proc </aside>subtract<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/right_side)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 306"></aside></h3><p>Subtracts right_side from air_mixture. Used to help turfs mingle</p><h3 id="proc/temperature_mimic"><aside class="declaration">proc </aside>temperature_mimic<aside>(/<a href="turf.html">turf</a>/model, conduction_coefficient, border_multiplier)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 586"></aside></h3><p>Similar to <a href="datum/gas_mixture.html#proc/temperature_share" title="/datum/gas_mixture">/datum/gas_mixture/proc/temperature_share</a> except the model is not modified.</p><h3 id="proc/temperature_share"><aside class="declaration">proc </aside>temperature_share<aside>(/<a href="datum.html">datum</a>/<a href="datum/gas_mixture.html">gas_mixture</a>/sharer, conduction_coefficient)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 572"></aside></h3><p>Conducts heat between gases.
Conduction_coefficient is a multiplier that determines how well heat equalises, with 0 meaning no heat and 1 meaning perfect equalisation.</p><h3 id="proc/temperature_turf_share"><aside class="declaration">proc </aside>temperature_turf_share<aside>(/<a href="turf.html">turf</a>/<a href="turf/simulated.html">simulated</a>/sharer, conduction_coefficient)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_gas_mixture.dm 601"></aside></h3><p>Shares heat between turfs, with conduction_coefficient as heat transfer efficiency factor.</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>