<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/text_to_music - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/text_to_music.html#var">Var Details</a> - <a href="datum/text_to_music.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/text_to_music.html">text_to_music</a> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 22"></h1><h2 id="datum-that-forms-the-core-of-player-pianos-and-text-to-music-componentscode-from-with-some-unique-additions">Datum that forms the core of Player Pianos and Text to Music components
Code from <code>playable_piano.dm</code>, with some unique additions</h2>
<p>Base type <code>/datum/text_to_music</code> should not be used
Subtype <code>/datum/text_to_music/player_piano</code> is for Player Pianos
Subtype <code>/datum/text_to_music/mech_comp</code> is for Text to Music components</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/text_to_music.html#var/compiled_notes">compiled_notes</a></th><td>Holds our compiled filenames for the note.</td></tr><tr><th><a href="datum/text_to_music.html#var/curr_note">curr_note</a></th><td>What note is the song on?</td></tr><tr><th><a href="datum/text_to_music.html#var/holder">holder</a></th><td>The object this datum is attached to</td></tr><tr><th><a href="datum/text_to_music.html#var/holder_name">holder_name</a></th><td>Name to use when displaying messages to the user</td></tr><tr><th><a href="datum/text_to_music.html#var/instrument_name">instrument_name</a></th><td>What's the name of the current instrument? Must be the same as the instrument name in <code>instruments.dm</code>.</td></tr><tr><th><a href="datum/text_to_music.html#var/is_busy">is_busy</a></th><td>Stops people from messing about with it when its working.</td></tr><tr><th><a href="datum/text_to_music.html#var/is_looping">is_looping</a></th><td>Is the piano looping? 0 is no, 1 is yes, 2 is never more looping.</td></tr><tr><th><a href="datum/text_to_music.html#var/is_stop_requested">is_stop_requested</a></th><td>Set to TRUE to stop a currently playing music player</td></tr><tr><th><a href="datum/text_to_music.html#var/is_stored">is_stored</a></th><td>Same as <code>is_busy</code>, but for automatic linking.</td></tr><tr><th><a href="datum/text_to_music.html#var/linked_music_players">linked_music_players</a></th><td>List that stores our linked pianos, including the main one.</td></tr><tr><th><a href="datum/text_to_music.html#var/note_accidentals">note_accidentals</a></th><td>(s)harp, b(flat), (n)atural</td></tr><tr><th><a href="datum/text_to_music.html#var/note_delays">note_delays</a></th><td>Delay is measured as a multiple of <code>timing</code>.</td></tr><tr><th><a href="datum/text_to_music.html#var/note_input">note_input</a></th><td>Where input is stored.</td></tr><tr><th><a href="datum/text_to_music.html#var/note_names">note_names</a></th><td>a, b, c, d, e, f, g, r</td></tr><tr><th><a href="datum/text_to_music.html#var/note_octaves">note_octaves</a></th><td>List of octaves as nums (0-8).</td></tr><tr><th><a href="datum/text_to_music.html#var/note_volumes">note_volumes</a></th><td>List of volumes as nums (20,30,40,50,60).</td></tr><tr><th><a href="datum/text_to_music.html#var/notes">notes</a></th><td>After we break it up into chunks.</td></tr><tr><th><a href="datum/text_to_music.html#var/rest_on_notes_not_in_cache">rest_on_notes_not_in_cache</a></th><td>If the note sound file for this instrument is not in the sound cache, treat it as a rest note</td></tr><tr><th><a href="datum/text_to_music.html#var/song_length">song_length</a></th><td>The number of notes in the song.</td></tr><tr><th><a href="datum/text_to_music.html#var/sounds_instrument_associative">sounds_instrument_associative</a></th><td>List of all sound instrument paths.</td></tr><tr><th><a href="datum/text_to_music.html#var/timing">timing</a></th><td>Values from MIN_TIMING to MAX_TIMING please.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/text_to_music.html#proc/make_ready">make_ready</a></th><td>final checks to make sure stuff is right, gets notes into a compiled form for easy playsounding</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/compiled_notes"><aside class="declaration">var </aside>compiled_notes <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 55"></h3><p>Holds our compiled filenames for the note.</p><h3 id="var/curr_note"><aside class="declaration">var </aside>curr_note <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 37"></h3><p>What note is the song on?</p><h3 id="var/holder"><aside class="declaration">var </aside>holder <aside>– /<a href="obj.html">obj</a></aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 65"></h3><p>The object this datum is attached to</p><h3 id="var/holder_name"><aside class="declaration">var </aside>holder_name <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 63"></h3><p>Name to use when displaying messages to the user</p><h3 id="var/instrument_name"><aside class="declaration">var </aside>instrument_name <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 39"></h3><p>What's the name of the current instrument? Must be the same as the instrument name in <code>instruments.dm</code>.</p><h3 id="var/is_busy"><aside class="declaration">var </aside>is_busy <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 31"></h3><p>Stops people from messing about with it when its working.</p><h3 id="var/is_looping"><aside class="declaration">var </aside>is_looping <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 29"></h3><p>Is the piano looping? 0 is no, 1 is yes, 2 is never more looping.</p><h3 id="var/is_stop_requested"><aside class="declaration">var </aside>is_stop_requested <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 33"></h3><p>Set to TRUE to stop a currently playing music player</p><h3 id="var/is_stored"><aside class="declaration">var </aside>is_stored <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 57"></h3><p>Same as <code>is_busy</code>, but for automatic linking.</p><h3 id="var/linked_music_players"><aside class="declaration">var </aside>linked_music_players <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 61"></h3><p>List that stores our linked pianos, including the main one.</p><h3 id="var/note_accidentals"><aside class="declaration">var </aside>note_accidentals <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 51"></h3><p>(s)harp, b(flat), (n)atural</p><h3 id="var/note_delays"><aside class="declaration">var </aside>note_delays <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 53"></h3><p>Delay is measured as a multiple of <code>timing</code>.</p><h3 id="var/note_input"><aside class="declaration">var </aside>note_input <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 41"></h3><p>Where input is stored.</p><h3 id="var/note_names"><aside class="declaration">var </aside>note_names <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 49"></h3><p>a, b, c, d, e, f, g, r</p><h3 id="var/note_octaves"><aside class="declaration">var </aside>note_octaves <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 47"></h3><p>List of octaves as nums (0-8).</p><h3 id="var/note_volumes"><aside class="declaration">var </aside>note_volumes <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 45"></h3><p>List of volumes as nums (20,30,40,50,60).</p><h3 id="var/notes"><aside class="declaration">var </aside>notes <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 43"></h3><p>After we break it up into chunks.</p><h3 id="var/rest_on_notes_not_in_cache"><aside class="declaration">var </aside>rest_on_notes_not_in_cache <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 59"></h3><p>If the note sound file for this instrument is not in the sound cache, treat it as a rest note</p><h3 id="var/song_length"><aside class="declaration">var </aside>song_length <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 35"></h3><p>The number of notes in the song.</p><h3 id="var/sounds_instrument_associative"><aside class="declaration">var </aside>sounds_instrument_associative <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 67"></h3><p>List of all sound instrument paths.</p><h3 id="var/timing"><aside class="declaration">var </aside>timing <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 27"></h3><p>Values from MIN_TIMING to MAX_TIMING please.</p><h2 id="proc">Proc Details</h2><h3 id="proc/make_ready"><aside class="declaration">proc </aside>make_ready<aside>(is_linked)  <img src="git.png" width="16" height="16" title="code/modules/items/instruments/text_to_music_datum.dm 168"></aside></h3><p>final checks to make sure stuff is right, gets notes into a compiled form for easy playsounding</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>