<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/http_request - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/http_request.html#var">Var Details</a> - <a href="datum/http_request.html#proc">Proc Details</a></header><main><h1>HTTP Request <aside>/<a href="datum.html">datum</a>/<a href="datum/http_request.html">http_request</a></aside> <img src="git.png" width="16" height="16" title="code/datums/http.dm 11"></h1><p>Holder datum for ingame HTTP requests</p>
<p>Holds information regarding to methods used, URL, and response,
as well as job IDs and progress tracking for async requests</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/http_request.html#var/_raw_response">_raw_response</a></th><td>The raw response, which will be decoeded into a <a href="datum/http_response.html" title="/datum/http_response">/datum/http_response</a></td></tr><tr><th><a href="datum/http_request.html#var/body">body</a></th><td>Body of the request being sent</td></tr><tr><th><a href="datum/http_request.html#var/headers">headers</a></th><td>Request headers being sent</td></tr><tr><th><a href="datum/http_request.html#var/id">id</a></th><td>The ID of the request (Only set if it is an async request)</td></tr><tr><th><a href="datum/http_request.html#var/in_progress">in_progress</a></th><td>Is the request in progress? (Only set if it is an async request)</td></tr><tr><th><a href="datum/http_request.html#var/method">method</a></th><td>HTTP method used</td></tr><tr><th><a href="datum/http_request.html#var/output_file">output_file</a></th><td>If present response body will be saved to this file.</td></tr><tr><th><a href="datum/http_request.html#var/url">url</a></th><td>URL that the request is being sent to</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/http_request.html#proc/begin_async">begin_async</a></th><td>Async execution starter</td></tr><tr><th><a href="datum/http_request.html#proc/build_options">build_options</a></th><td>Options builder</td></tr><tr><th><a href="datum/http_request.html#proc/execute_blocking">execute_blocking</a></th><td>Blocking executor</td></tr><tr><th><a href="datum/http_request.html#proc/into_response">into_response</a></th><td>Response deserializer</td></tr><tr><th><a href="datum/http_request.html#proc/is_complete">is_complete</a></th><td>Async completion checker</td></tr><tr><th><a href="datum/http_request.html#proc/prepare">prepare</a></th><td>Preparation handler</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/_raw_response"><aside class="declaration">var </aside>_raw_response <img src="git.png" width="16" height="16" title="code/datums/http.dm 27"></h3><p>The raw response, which will be decoeded into a <a href="datum/http_response.html" title="/datum/http_response">/datum/http_response</a></p><h3 id="var/body"><aside class="declaration">var </aside>body <img src="git.png" width="16" height="16" title="code/datums/http.dm 19"></h3><p>Body of the request being sent</p><h3 id="var/headers"><aside class="declaration">var </aside>headers <img src="git.png" width="16" height="16" title="code/datums/http.dm 21"></h3><p>Request headers being sent</p><h3 id="var/id"><aside class="declaration">var </aside>id <img src="git.png" width="16" height="16" title="code/datums/http.dm 13"></h3><p>The ID of the request (Only set if it is an async request)</p><h3 id="var/in_progress"><aside class="declaration">var </aside>in_progress <img src="git.png" width="16" height="16" title="code/datums/http.dm 15"></h3><p>Is the request in progress? (Only set if it is an async request)</p><h3 id="var/method"><aside class="declaration">var </aside>method <img src="git.png" width="16" height="16" title="code/datums/http.dm 17"></h3><p>HTTP method used</p><h3 id="var/output_file"><aside class="declaration">var </aside>output_file <img src="git.png" width="16" height="16" title="code/datums/http.dm 25"></h3><p>If present response body will be saved to this file.</p><h3 id="var/url"><aside class="declaration">var </aside>url <img src="git.png" width="16" height="16" title="code/datums/http.dm 23"></h3><p>URL that the request is being sent to</p><h2 id="proc">Proc Details</h2><h3 id="proc/begin_async"><aside class="declaration">proc </aside>begin_async<aside>()  <img src="git.png" width="16" height="16" title="code/datums/http.dm 69"></aside></h3><p>Async execution starter</p>
<p>Tells the request to start executing inside its own thread inside RUSTG
Preferred over blocking.</p><h3 id="proc/build_options"><aside class="declaration">proc </aside>build_options<aside>()  <img src="git.png" width="16" height="16" title="code/datums/http.dm 87"></aside></h3><p>Options builder</p>
<p>Builds a set of request options
Apparently this is only currently used for output_file purposes</p><h3 id="proc/execute_blocking"><aside class="declaration">proc </aside>execute_blocking<aside>()  <img src="git.png" width="16" height="16" title="code/datums/http.dm 59"></aside></h3><p>Blocking executor</p>
<p>Remains as a proof of concept to show it works, but should NEVER be used to do FFI halting the entire DD process up
Async rqeuests are much preferred.</p><h3 id="proc/into_response"><aside class="declaration">proc </aside>into_response<aside>()  <img src="git.png" width="16" height="16" title="code/datums/http.dm 127"></aside></h3><p>Response deserializer</p>
<p>Takes a HTTP request object, and converts it into a <a href="datum/http_response.html" title="/datum/http_response">/datum/http_response</a>
The entire thing is wrapped in try/catch to ensure it doesnt break on invalid requests
Can be called on async and blocking requests</p><h3 id="proc/is_complete"><aside class="declaration">proc </aside>is_complete<aside>()  <img src="git.png" width="16" height="16" title="code/datums/http.dm 99"></aside></h3><p>Async completion checker</p>
<p>Checks if an async request has been complete
Has safety checks built in to compensate if you call this on blocking requests,
or async requests which have already finished</p><h3 id="proc/prepare"><aside class="declaration">proc </aside>prepare<aside>(_method, _url, _body, /list/_headers, _output_file)  <img src="git.png" width="16" height="16" title="code/datums/http.dm 41"></aside></h3><p>Preparation handler</p>
<p>Call this with relevant parameters to form the request you want to make</p>
<p>Arguments:</p>
<ul>
<li>_method - HTTP Method to use, see code/rust_g.dm for a full list</li>
<li>_url - The URL to send the request to</li>
<li>_body - The body of the request, if applicable</li>
<li>_headers - Associative list of HTTP headers to send, if applicable</li>
<li>_output_file - If present response body will be saved to this file.</li>
</ul></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>