<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/flock - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/flock.html#var">Var Details</a> - <a href="datum/flock.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/flock.html">flock</a> <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 31"></h1><p>manages and holds information for a flock</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/flock.html#var/achievements">achievements</a></th><td>list of strings that lets flock record achievements for structure unlocks</td></tr><tr><th><a href="datum/flock.html#var/active_names">active_names</a></th><td>associative list of used names (for traces, drones, and bits) to true values</td></tr><tr><th><a href="datum/flock.html#var/annotation_imgs">annotation_imgs</a></th><td>Static cache of annotation images</td></tr><tr><th><a href="datum/flock.html#var/annotations">annotations</a></th><td>Associative list of objects to an associative list of their annotation names to images</td></tr><tr><th><a href="datum/flock.html#var/current_egg_cost">current_egg_cost</a></th><td>The current cost of laying a flockdrone egg, automatically updated when drones are added and removed</td></tr><tr><th><a href="datum/flock.html#var/dead">dead</a></th><td>Are we the memory of a dead flockmind?</td></tr><tr><th><a href="datum/flock.html#var/flockmind_mind">flockmind_mind</a></th><td>Store the mind of the current flockmind</td></tr><tr><th><a href="datum/flock.html#var/free_traces">free_traces</a></th><td>number of zero compute flocktraces the flock has</td></tr><tr><th><a href="datum/flock.html#var/last_relay">last_relay</a></th><td>The last relay placed, in case admin intervention or respawns somehow.</td></tr><tr><th><a href="datum/flock.html#var/max_trace_count">max_trace_count</a></th><td>max number of flocktraces the flock can support</td></tr><tr><th><a href="datum/flock.html#var/quiet">quiet</a></th><td>Do we broadcast system announcements?</td></tr><tr><th><a href="datum/flock.html#var/relay_allowed">relay_allowed</a></th><td>Can this flock realize the relay?</td></tr><tr><th><a href="datum/flock.html#var/relay_finished">relay_finished</a></th><td>Relay has exploded. Game over!</td></tr><tr><th><a href="datum/flock.html#var/relay_in_progress">relay_in_progress</a></th><td>Relay is in the process of being made real, gibs and all</td></tr><tr><th><a href="datum/flock.html#var/relay_stage">relay_stage</a></th><td>If we can, how far are we to transmitting the Signal?</td></tr><tr><th><a href="datum/flock.html#var/time_left">time_left</a></th><td>How long until the last placed relay transmits the Signal</td></tr><tr><th><a href="datum/flock.html#var/trace_minds">trace_minds</a></th><td>Store a list of all minds who have been flocktraces of this flock at some point, indexed by name</td></tr><tr><th><a href="datum/flock.html#var/units">units</a></th><td>Stores associative lists of type =&gt; list(units) - do not edit directly, use removeDrone() and registerUnit()</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/flock.html#proc/achieve">achieve</a></th><td>Unlock an achievement (string) if it isn't already unlocked</td></tr><tr><th><a href="datum/flock.html#proc/addAnnotation">addAnnotation</a></th><td>Add a named annotation</td></tr><tr><th><a href="datum/flock.html#proc/build_annotation_imgs">build_annotation_imgs</a></th><td>Init annotation images to copy</td></tr><tr><th><a href="datum/flock.html#proc/getAnnotations">getAnnotations</a></th><td>proc to get the indexed list of annotations on a particular mob</td></tr><tr><th><a href="datum/flock.html#proc/hasAchieved">hasAchieved</a></th><td>Unlock an achievement (string) if it isn't already unlocked</td></tr><tr><th><a href="datum/flock.html#proc/notifyRelockStructure">notifyRelockStructure</a></th><td>This function only notifies the flock of the relock, actual unlock logic is handled in the datum</td></tr><tr><th><a href="datum/flock.html#proc/notifyUnlockStructure">notifyUnlockStructure</a></th><td>This function only notifies the flock of the unlock, actual unlock logic is handled in the datum</td></tr><tr><th><a href="datum/flock.html#proc/perish">perish</a></th><td>if real is FALSE then perish will not deallocate needed lists (used for pity respawn)</td></tr><tr><th><a href="datum/flock.html#proc/relay_process">relay_process</a></th><td>Process to check what to do with the relay based off compute/tiles, specifically for before placement</td></tr><tr><th><a href="datum/flock.html#proc/removeAnnotation">removeAnnotation</a></th><td>Remove a named annotation</td></tr><tr><th><a href="datum/flock.html#proc/toggleAnnotation">toggleAnnotation</a></th><td>Toggle a named annotation</td></tr><tr><th><a href="datum/flock.html#proc/update_computes">update_computes</a></th><td>Update the compute values for all flocktraces and the flockmind</td></tr><tr><th><a href="datum/flock.html#proc/update_stage">update_stage</a></th><td>Get the new stage of the relay. Return if the state has changed.</td></tr><tr><th><a href="datum/flock.html#proc/update_tiles">update_tiles</a></th><td>Update the tile count values for all flocktraces and the flockmind</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/achievements"><aside class="declaration">var </aside>achievements <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 67"></h3><p>list of strings that lets flock record achievements for structure unlocks</p><h3 id="var/active_names"><aside class="declaration">var </aside>active_names <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 56"></h3><p>associative list of used names (for traces, drones, and bits) to true values</p><h3 id="var/annotation_imgs"><aside class="declaration">var </aside>annotation_imgs <aside>– /static/list</aside> <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 62"></h3><p>Static cache of annotation images</p><h3 id="var/annotations"><aside class="declaration">var </aside>annotations <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 60"></h3><p>Associative list of objects to an associative list of their annotation names to images</p><h3 id="var/current_egg_cost"><aside class="declaration">var </aside>current_egg_cost <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 54"></h3><p>The current cost of laying a flockdrone egg, automatically updated when drones are added and removed</p><h3 id="var/dead"><aside class="declaration">var </aside>dead <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 41"></h3><p>Are we the memory of a dead flockmind?</p><h3 id="var/flockmind_mind"><aside class="declaration">var </aside>flockmind_mind <aside>– /<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a></aside> <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 50"></h3><p>Store the mind of the current flockmind</p><h3 id="var/free_traces"><aside class="declaration">var </aside>free_traces <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 43"></h3><p>number of zero compute flocktraces the flock has</p><h3 id="var/last_relay"><aside class="declaration">var </aside>last_relay <aside>– /<a href="obj.html">obj</a>/<a href="obj/flock_structure.html">flock_structure</a>/<a href="obj/flock_structure/relay.html">relay</a></aside> <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 70"></h3><p>The last relay placed, in case admin intervention or respawns somehow.</p><h3 id="var/max_trace_count"><aside class="declaration">var </aside>max_trace_count <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 46"></h3><p>max number of flocktraces the flock can support</p><h3 id="var/quiet"><aside class="declaration">var </aside>quiet <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 84"></h3><p>Do we broadcast system announcements?</p><h3 id="var/relay_allowed"><aside class="declaration">var </aside>relay_allowed <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 80"></h3><p>Can this flock realize the relay?</p><h3 id="var/relay_finished"><aside class="declaration">var </aside>relay_finished <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 76"></h3><p>Relay has exploded. Game over!</p><h3 id="var/relay_in_progress"><aside class="declaration">var </aside>relay_in_progress <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 74"></h3><p>Relay is in the process of being made real, gibs and all</p><h3 id="var/relay_stage"><aside class="declaration">var </aside>relay_stage <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 82"></h3><p>If we can, how far are we to transmitting the Signal?</p><h3 id="var/time_left"><aside class="declaration">var </aside>time_left <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 72"></h3><p>How long until the last placed relay transmits the Signal</p><h3 id="var/trace_minds"><aside class="declaration">var </aside>trace_minds <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 48"></h3><p>Store a list of all minds who have been flocktraces of this flock at some point, indexed by name</p><h3 id="var/units"><aside class="declaration">var </aside>units <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 52"></h3><p>Stores associative lists of type =&gt; list(units) - do not edit directly, use removeDrone() and registerUnit()</p><h2 id="proc">Proc Details</h2><h3 id="proc/achieve"><aside class="declaration">proc </aside>achieve<aside>(str)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 947"></aside></h3><p>Unlock an achievement (string) if it isn't already unlocked</p><h3 id="proc/addAnnotation"><aside class="declaration">proc </aside>addAnnotation<aside>(/<a href="atom.html">atom</a>/target, annotation)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 471"></aside></h3><p>Add a named annotation</p><h3 id="proc/build_annotation_imgs"><aside class="declaration">proc </aside>build_annotation_imgs<aside>()  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 394"></aside></h3><p>Init annotation images to copy</p><h3 id="proc/getAnnotations"><aside class="declaration">proc </aside>getAnnotations<aside>(/<a href="atom.html">atom</a>/target)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 455"></aside></h3><p>proc to get the indexed list of annotations on a particular mob</p><h3 id="proc/hasAchieved"><aside class="declaration">proc </aside>hasAchieved<aside>(str)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 954"></aside></h3><p>Unlock an achievement (string) if it isn't already unlocked</p><h3 id="proc/notifyRelockStructure"><aside class="declaration">proc </aside>notifyRelockStructure<aside>(/<a href="datum.html">datum</a>/<a href="datum/unlockable_flock_structure.html">unlockable_flock_structure</a>/SD)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 597"></aside></h3><p>This function only notifies the flock of the relock, actual unlock logic is handled in the datum</p><h3 id="proc/notifyUnlockStructure"><aside class="declaration">proc </aside>notifyUnlockStructure<aside>(/<a href="datum.html">datum</a>/<a href="datum/unlockable_flock_structure.html">unlockable_flock_structure</a>/SD)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 593"></aside></h3><p>This function only notifies the flock of the unlock, actual unlock logic is handled in the datum</p><h3 id="proc/perish"><aside class="declaration">proc </aside>perish<aside>(real)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 713"></aside></h3><p>if real is FALSE then perish will not deallocate needed lists (used for pity respawn)</p><h3 id="proc/relay_process"><aside class="declaration">proc </aside>relay_process<aside>()  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 820"></aside></h3><p>Process to check what to do with the relay based off compute/tiles, specifically for before placement</p><h3 id="proc/removeAnnotation"><aside class="declaration">proc </aside>removeAnnotation<aside>(/<a href="atom.html">atom</a>/target, annotation)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 482"></aside></h3><p>Remove a named annotation</p><h3 id="proc/toggleAnnotation"><aside class="declaration">proc </aside>toggleAnnotation<aside>(/<a href="atom.html">atom</a>/target, annotation)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 463"></aside></h3><p>Toggle a named annotation</p><h3 id="proc/update_computes"><aside class="declaration">proc </aside>update_computes<aside>(forceTextUpdate)  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 312"></aside></h3><p>Update the compute values for all flocktraces and the flockmind</p><h3 id="proc/update_stage"><aside class="declaration">proc </aside>update_stage<aside>()  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 856"></aside></h3><p>Get the new stage of the relay. Return if the state has changed.</p><h3 id="proc/update_tiles"><aside class="declaration">proc </aside>update_tiles<aside>()  <img src="git.png" width="16" height="16" title="code/datums/flock/flock.dm 325"></aside></h3><p>Update the tile count values for all flocktraces and the flockmind</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>