<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/complexsignal - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/complexsignal.html#var">Var Details</a> - <a href="datum/component/complexsignal.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/complexsignal.html">complexsignal</a> <img src="git.png" width="16" height="16" title="code/datums/components/complexsignal/complexsignal.dm 15"></h1><p>Handler for a complex singal, that is a signal that requires some additional handling.
You define such signal for example as:
<code>#define XSIG_OUTERMOST_MOVABLE_CHANGED list(/datum/component/complexsignal/outermost_movable, &quot;mov_outermost_changed&quot;)</code>
When this signal gets registered at least once once to a datum the appropriate complex signal component will get registered to it.
When all instances of this signal get unregistered then the component will qdel itself unless [qdel_when_unneeded] is unset.
The intended use is for this component to keep some more complex and resource intensive handling (possibly using other signals) and then send the
actual complex signal when some conditions are met. That signal should be set to <code>src</code> like this:
<code>SEND_COMPLEX_SIGNAL(src, X_OUTERMOST_MOVABLE_CHANGED, old_outermost, new_outermost)</code></p>
<p>A single component type can be used for handling of multiple signals.</p>
<p>Check <a href="datum/component/complexsignal.html" title="/datum/component/complexsignal">/datum/component/complexsignal/outermost_movable</a> for an example.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/complexsignal.html#var/qdel_when_unneeded">qdel_when_unneeded</a></th><td>Whether the component should qdel itself when the number of registered signals drops to zero</td></tr><tr><th><a href="datum/component/complexsignal.html#var/registered_signals">registered_signals</a></th><td>The complex signal types registered to this datum</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/complexsignal.html#proc/_register">_register</a></th><td>Override this to add code which happens when a complex signal is registered. If RegisterSignal is passed additional arguments those get passed
after <code>override</code>. Other arguments are the same as for .RegisterSignal.
Complex signal definitions are of the form list(component_path, string_id). The <code>sig_type</code> var will in this case contain only the <code>string_id</code> and
not the full two-element list.</td></tr><tr><th><a href="datum/component/complexsignal.html#proc/_unregister">_unregister</a></th><td>Override to add code which happens on unregistering a signal.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/qdel_when_unneeded"><aside class="declaration">var </aside>qdel_when_unneeded <img src="git.png" width="16" height="16" title="code/datums/components/complexsignal/complexsignal.dm 20"></h3><p>Whether the component should qdel itself when the number of registered signals drops to zero</p><h3 id="var/registered_signals"><aside class="declaration">var </aside>registered_signals <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/datums/components/complexsignal/complexsignal.dm 18"></h3><p>The complex signal types registered to this datum</p><h2 id="proc">Proc Details</h2><h3 id="proc/_register"><aside class="declaration">proc </aside>_register<aside>(/<a href="datum.html">datum</a>/listener, sig_type, proctype, override, ...)  <img src="git.png" width="16" height="16" title="code/datums/components/complexsignal/complexsignal.dm 33"></aside></h3><p>Override this to add code which happens when a complex signal is registered. If RegisterSignal is passed additional arguments those get passed
after <code>override</code>. Other arguments are the same as for .RegisterSignal.
Complex signal definitions are of the form list(component_path, string_id). The <code>sig_type</code> var will in this case contain only the <code>string_id</code> and
not the full two-element list.</p><h3 id="proc/_unregister"><aside class="declaration">proc </aside>_unregister<aside>(/<a href="datum.html">datum</a>/listener, sig_type)  <img src="git.png" width="16" height="16" title="code/datums/components/complexsignal/complexsignal.dm 46"></aside></h3><p>Override to add code which happens on unregistering a signal.</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>