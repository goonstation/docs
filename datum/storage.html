<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/storage - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/storage.html#var">Var Details</a> - <a href="datum/storage.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/storage.html">storage</a> <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 28"></h1><p>a datum for atoms that allows holdable storage of items in a hud</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/storage.html#var/can_hold">can_hold</a></th><td>Types that can be held</td></tr><tr><th><a href="datum/storage.html#var/can_hold_exact">can_hold_exact</a></th><td>Exact types that can be held, in addition to can_hold, if it has types</td></tr><tr><th><a href="datum/storage.html#var/check_wclass">check_wclass</a></th><td>If set, if can_hold is used, an item not in can_hold or can_hold_exact can fit in the storage if its weight is low enough</td></tr><tr><th><a href="datum/storage.html#var/hud">hud</a></th><td>Storage hud attached to the storage</td></tr><tr><th><a href="datum/storage.html#var/linked_item">linked_item</a></th><td>The storage item linked to this datum</td></tr><tr><th><a href="datum/storage.html#var/max_wclass">max_wclass</a></th><td>Maximum w_class that can be held</td></tr><tr><th><a href="datum/storage.html#var/move_triggered">move_triggered</a></th><td>Does moving the linked storage item cause anything to happen to stored items</td></tr><tr><th><a href="datum/storage.html#var/opens_if_worn">opens_if_worn</a></th><td>Prevent accessing storage when clicked when worn, ex. in pocket</td></tr><tr><th><a href="datum/storage.html#var/prevent_holding">prevent_holding</a></th><td>Types that have a w_class holdable but that the storage will not hold</td></tr><tr><th><a href="datum/storage.html#var/slots">slots</a></th><td>Number of storage slots, even numbers overlap the close button for the on-ground hud layout</td></tr><tr><th><a href="datum/storage.html#var/sneaky">sneaky</a></th><td>Don't print a visible message on use</td></tr><tr><th><a href="datum/storage.html#var/stack_stackables">stack_stackables</a></th><td>Whether or not this storage allows stacking stackables into its contents</td></tr><tr><th><a href="datum/storage.html#var/stealthy_storage">stealthy_storage</a></th><td>Don't show the contents of the storage on its description</td></tr><tr><th><a href="datum/storage.html#var/stored_items">stored_items</a></th><td>All items stored</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/storage.html#proc/add_contents">add_contents</a></th><td>when adding an item in</td></tr><tr><th><a href="datum/storage.html#proc/add_contents_extra">add_contents_extra</a></th><td>Available if add_contents needs to be overridden</td></tr><tr><th><a href="datum/storage.html#proc/add_contents_safe">add_contents_safe</a></th><td>use this versus add_contents() if you also want extra safety checks</td></tr><tr><th><a href="datum/storage.html#proc/check_can_hold">check_can_hold</a></th><td>check if the storage can hold an item or not</td></tr><tr><th><a href="datum/storage.html#proc/get_all_contents">get_all_contents</a></th><td>return recursive search of all contents</td></tr><tr><th><a href="datum/storage.html#proc/get_capacity_string">get_capacity_string</a></th><td>return outputtable capacity</td></tr><tr><th><a href="datum/storage.html#proc/get_contents">get_contents</a></th><td>return stored contents</td></tr><tr><th><a href="datum/storage.html#proc/get_fullness">get_fullness</a></th><td>storage is full or not, or can hold some of the given item in it</td></tr><tr><th><a href="datum/storage.html#proc/get_hud_contents">get_hud_contents</a></th><td>return contents that can be seen in the hud</td></tr><tr><th><a href="datum/storage.html#proc/get_visible_slots">get_visible_slots</a></th><td>return number of visible slots in the hud</td></tr><tr><th><a href="datum/storage.html#proc/hide_hud">hide_hud</a></th><td>hide storage</td></tr><tr><th><a href="datum/storage.html#proc/hud_can_add">hud_can_add</a></th><td>if an item can be added by clicking it on the visible hud</td></tr><tr><th><a href="datum/storage.html#proc/hud_shown">hud_shown</a></th><td>if user sees the storage hud</td></tr><tr><th><a href="datum/storage.html#proc/increase_slots">increase_slots</a></th><td>increase storage slots of the storage</td></tr><tr><th><a href="datum/storage.html#proc/is_full">is_full</a></th><td>storage is full or not</td></tr><tr><th><a href="datum/storage.html#proc/make_my_stuff">make_my_stuff</a></th><td>creates initial contents in the storage</td></tr><tr><th><a href="datum/storage.html#proc/mousetrap_check">mousetrap_check</a></th><td>when reaching inside the storage item, check for traps</td></tr><tr><th><a href="datum/storage.html#proc/show_hud">show_hud</a></th><td>show storage contents</td></tr><tr><th><a href="datum/storage.html#proc/storage_emp_act">storage_emp_act</a></th><td>emping storage emps everything inside</td></tr><tr><th><a href="datum/storage.html#proc/storage_item_after_attack">storage_item_after_attack</a></th><td>after attacking an object with the storage item</td></tr><tr><th><a href="datum/storage.html#proc/storage_item_attack_by">storage_item_attack_by</a></th><td>when clicking the storage item with an object
<code>visible</code> is for when the click is fake and we're actually calling it from a safe store chain</td></tr><tr><th><a href="datum/storage.html#proc/storage_item_attack_hand">storage_item_attack_hand</a></th><td>when clicking the storage item with an empty hand</td></tr><tr><th><a href="datum/storage.html#proc/storage_item_attack_self">storage_item_attack_self</a></th><td>using storage item in hand</td></tr><tr><th><a href="datum/storage.html#proc/storage_item_mouse_drop">storage_item_mouse_drop</a></th><td>storage item is mouse dropped onto something</td></tr><tr><th><a href="datum/storage.html#proc/storage_item_move_triggered">storage_item_move_triggered</a></th><td>storage item moving triggers a movement of items inside</td></tr><tr><th><a href="datum/storage.html#proc/storage_item_on_drop">storage_item_on_drop</a></th><td>storage item is dropped</td></tr><tr><th><a href="datum/storage.html#proc/transfer_stored_item">transfer_stored_item</a></th><td>when transfering something in the storage out</td></tr><tr><th><a href="datum/storage.html#proc/transfer_stored_item_extra">transfer_stored_item_extra</a></th><td>for use if transfer_stored_item is overridden</td></tr><tr><th><a href="datum/storage.html#proc/try_stack_contents">try_stack_contents</a></th><td>For adding an item by trying to stack it with other items.
Returns the item the input was stacked into if that happened, returns W
if it was instead stacked into an available slot. Returns null if it wasn't stacked.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/can_hold"><aside class="declaration">var </aside>can_hold <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 30"></h3><p>Types that can be held</p><h3 id="var/can_hold_exact"><aside class="declaration">var </aside>can_hold_exact <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 32"></h3><p>Exact types that can be held, in addition to can_hold, if it has types</p><h3 id="var/check_wclass"><aside class="declaration">var </aside>check_wclass <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 36"></h3><p>If set, if can_hold is used, an item not in can_hold or can_hold_exact can fit in the storage if its weight is low enough</p><h3 id="var/hud"><aside class="declaration">var </aside>hud <aside>– /<a href="datum.html">datum</a>/<a href="datum/hud.html">hud</a>/<a href="datum/hud/storage.html">storage</a></aside> <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 38"></h3><p>Storage hud attached to the storage</p><h3 id="var/linked_item"><aside class="declaration">var </aside>linked_item <aside>– /<a href="atom.html">atom</a></aside> <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 54"></h3><p>The storage item linked to this datum</p><h3 id="var/max_wclass"><aside class="declaration">var </aside>max_wclass <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 48"></h3><p>Maximum w_class that can be held</p><h3 id="var/move_triggered"><aside class="declaration">var </aside>move_triggered <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 52"></h3><p>Does moving the linked storage item cause anything to happen to stored items</p><h3 id="var/opens_if_worn"><aside class="declaration">var </aside>opens_if_worn <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 46"></h3><p>Prevent accessing storage when clicked when worn, ex. in pocket</p><h3 id="var/prevent_holding"><aside class="declaration">var </aside>prevent_holding <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 34"></h3><p>Types that have a w_class holdable but that the storage will not hold</p><h3 id="var/slots"><aside class="declaration">var </aside>slots <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 50"></h3><p>Number of storage slots, even numbers overlap the close button for the on-ground hud layout</p><h3 id="var/sneaky"><aside class="declaration">var </aside>sneaky <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 40"></h3><p>Don't print a visible message on use</p><h3 id="var/stack_stackables"><aside class="declaration">var </aside>stack_stackables <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 44"></h3><p>Whether or not this storage allows stacking stackables into its contents</p><h3 id="var/stealthy_storage"><aside class="declaration">var </aside>stealthy_storage <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 42"></h3><p>Don't show the contents of the storage on its description</p><h3 id="var/stored_items"><aside class="declaration">var </aside>stored_items <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 56"></h3><p>All items stored</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_contents"><aside class="declaration">proc </aside>add_contents<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I, /<a href="mob.html">mob</a>/user, visible)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 343"></aside></h3><p>when adding an item in</p><h3 id="proc/add_contents_extra"><aside class="declaration">proc </aside>add_contents_extra<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I, /<a href="mob.html">mob</a>/user, visible)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 390"></aside></h3><p>Available if add_contents needs to be overridden</p><h3 id="proc/add_contents_safe"><aside class="declaration">proc </aside>add_contents_safe<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I, /<a href="mob.html">mob</a>/user, visible)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 411"></aside></h3><p>use this versus add_contents() if you also want extra safety checks</p><h3 id="proc/check_can_hold"><aside class="declaration">proc </aside>check_can_hold<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 311"></aside></h3><p>check if the storage can hold an item or not</p><h3 id="proc/get_all_contents"><aside class="declaration">proc </aside>get_all_contents<aside>()  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 477"></aside></h3><p>return recursive search of all contents</p><h3 id="proc/get_capacity_string"><aside class="declaration">proc </aside>get_capacity_string<aside>()  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 441"></aside></h3><p>return outputtable capacity</p><h3 id="proc/get_contents"><aside class="declaration">proc </aside>get_contents<aside>()  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 473"></aside></h3><p>return stored contents</p><h3 id="proc/get_fullness"><aside class="declaration">proc </aside>get_fullness<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 453"></aside></h3><p>storage is full or not, or can hold some of the given item in it</p><h3 id="proc/get_hud_contents"><aside class="declaration">proc </aside>get_hud_contents<aside>()  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 531"></aside></h3><p>return contents that can be seen in the hud</p><h3 id="proc/get_visible_slots"><aside class="declaration">proc </aside>get_visible_slots<aside>()  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 527"></aside></h3><p>return number of visible slots in the hud</p><h3 id="proc/hide_hud"><aside class="declaration">proc </aside>hide_hud<aside>(/<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 502"></aside></h3><p>hide storage</p><h3 id="proc/hud_can_add"><aside class="declaration">proc </aside>hud_can_add<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 523"></aside></h3><p>if an item can be added by clicking it on the visible hud</p><h3 id="proc/hud_shown"><aside class="declaration">proc </aside>hud_shown<aside>(/<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 512"></aside></h3><p>if user sees the storage hud</p><h3 id="proc/increase_slots"><aside class="declaration">proc </aside>increase_slots<aside>(mod)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 486"></aside></h3><p>increase storage slots of the storage</p><h3 id="proc/is_full"><aside class="declaration">proc </aside>is_full<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 446"></aside></h3><p>storage is full or not</p><h3 id="proc/make_my_stuff"><aside class="declaration">proc </aside>make_my_stuff<aside>(/list/spawn_contents)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 120"></aside></h3><p>creates initial contents in the storage</p><h3 id="proc/mousetrap_check"><aside class="declaration">proc </aside>mousetrap_check<aside>(/<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 299"></aside></h3><p>when reaching inside the storage item, check for traps</p><h3 id="proc/show_hud"><aside class="declaration">proc </aside>show_hud<aside>(/<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 494"></aside></h3><p>show storage contents</p><h3 id="proc/storage_emp_act"><aside class="declaration">proc </aside>storage_emp_act<aside>()  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 516"></aside></h3><p>emping storage emps everything inside</p><h3 id="proc/storage_item_after_attack"><aside class="declaration">proc </aside>storage_item_after_attack<aside>(/<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/user, reach)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 265"></aside></h3><p>after attacking an object with the storage item</p><h3 id="proc/storage_item_attack_by"><aside class="declaration">proc </aside>storage_item_attack_by<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W, /<a href="mob.html">mob</a>/user, visible)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 139"></aside></h3><p>when clicking the storage item with an object
<code>visible</code> is for when the click is fake and we're actually calling it from a safe store chain</p><h3 id="proc/storage_item_attack_hand"><aside class="declaration">proc </aside>storage_item_attack_hand<aside>(/<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 193"></aside></h3><p>when clicking the storage item with an empty hand</p><h3 id="proc/storage_item_attack_self"><aside class="declaration">proc </aside>storage_item_attack_self<aside>(/<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 261"></aside></h3><p>using storage item in hand</p><h3 id="proc/storage_item_mouse_drop"><aside class="declaration">proc </aside>storage_item_mouse_drop<aside>(/<a href="mob.html">mob</a>/user, /<a href="atom.html">atom</a>/over_object, src_location, over_location)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 221"></aside></h3><p>storage item is mouse dropped onto something</p><h3 id="proc/storage_item_move_triggered"><aside class="declaration">proc </aside>storage_item_move_triggered<aside>(/<a href="mob.html">mob</a>/M, kindof)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 114"></aside></h3><p>storage item moving triggers a movement of items inside</p><h3 id="proc/storage_item_on_drop"><aside class="declaration">proc </aside>storage_item_on_drop<aside>(/<a href="atom.html">atom</a>/source, /<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 295"></aside></h3><p>storage item is dropped</p><h3 id="proc/transfer_stored_item"><aside class="declaration">proc </aside>transfer_stored_item<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I, /<a href="atom.html">atom</a>/location, add_to_storage, /<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 415"></aside></h3><p>when transfering something in the storage out</p><h3 id="proc/transfer_stored_item_extra"><aside class="declaration">proc </aside>transfer_stored_item_extra<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/I, /<a href="atom.html">atom</a>/location, add_to_storage, /<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 427"></aside></h3><p>for use if transfer_stored_item is overridden</p><h3 id="proc/try_stack_contents"><aside class="declaration">proc </aside>try_stack_contents<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W)  <img src="git.png" width="16" height="16" title="code/modules/storage/storage.dm 364"></aside></h3><p>For adding an item by trying to stack it with other items.
Returns the item the input was stacked into if that happened, returns W
if it was instead stacked into an available slot. Returns null if it wasn't stacked.</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>