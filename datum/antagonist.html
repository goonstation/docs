<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/antagonist - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/antagonist.html#var">Var Details</a> - <a href="datum/antagonist.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/antagonist.html">antagonist</a> <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 2"></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/antagonist.html#var/antagonist_icon">antagonist_icon</a></th><td>The icon state that should be used for the antagonist overlay for this antagonist type. Icons may be found in <code>icons/mob/antag_overlays.dmi</code>.</td></tr><tr><th><a href="datum/antagonist.html#var/antagonist_panel_tab_type">antagonist_panel_tab_type</a></th><td>The type of tab that this antagonist type should be displayed under on the admin antagonist panel.</td></tr><tr><th><a href="datum/antagonist.html#var/assigned_by">assigned_by</a></th><td>How this antagonist was created. Displayed at the end of the round.</td></tr><tr><th><a href="datum/antagonist.html#var/display_name">display_name</a></th><td>Human-readable name for displaying this antagonist for admin menus, round-end summary, etc.</td></tr><tr><th><a href="datum/antagonist.html#var/faction">faction</a></th><td>The faction given to the player by this antagonist role for AI targeting purposes.</td></tr><tr><th><a href="datum/antagonist.html#var/has_info_popup">has_info_popup</a></th><td>If TRUE, this antagonist has an associated browser window (ideally with the same ID as itself) that will be displayed in do_popup() by default.</td></tr><tr><th><a href="datum/antagonist.html#var/id">id</a></th><td>Internal ID used to track this type of antagonist. This should <em>always</em> be unique between types and subtypes.</td></tr><tr><th><a href="datum/antagonist.html#var/keep_equipment_on_death">keep_equipment_on_death</a></th><td>If TRUE, the equipment is not removed on death. Only works if remove_on_death is TRUE.</td></tr><tr><th><a href="datum/antagonist.html#var/mutually_exclusive">mutually_exclusive</a></th><td>If TRUE, no other antagonists can be naturally gained if this one is active. Admins can still manually add new ones.</td></tr><tr><th><a href="datum/antagonist.html#var/objectives">objectives</a></th><td>The objectives assigned to the player by this specific antagonist role.</td></tr><tr><th><a href="datum/antagonist.html#var/owner">owner</a></th><td>The mind of the player that that this antagonist is assigned to.</td></tr><tr><th><a href="datum/antagonist.html#var/popup_name_override">popup_name_override</a></th><td>Used in lieu of the id for antag_popups.dm</td></tr><tr><th><a href="datum/antagonist.html#var/pseudo">pseudo</a></th><td>Pseudo antagonists are not &quot;real&quot; antagonists, as determined by the round. They have the abilities, but do not have objectives and ideally should not considered antagonists for the purposes of griefing rules, etc.</td></tr><tr><th><a href="datum/antagonist.html#var/remove_on_clone">remove_on_clone</a></th><td>If TRUE, the antag status will be removed when the person is cloned (zombies etc.)</td></tr><tr><th><a href="datum/antagonist.html#var/remove_on_death">remove_on_death</a></th><td>If TRUE, the antag status will be removed when the person dies (changeling critters etc.)</td></tr><tr><th><a href="datum/antagonist.html#var/removing">removing</a></th><td>Set when the antagonist is in the process of being removed, to prevent double removals.</td></tr><tr><th><a href="datum/antagonist.html#var/silent">silent</a></th><td>Whether the addition or removal of this antagonist role is announced to the player.</td></tr><tr><th><a href="datum/antagonist.html#var/success_medal">success_medal</a></th><td>The medal unlocked at the end of the round by succeeding as this antagonist.</td></tr><tr><th><a href="datum/antagonist.html#var/succinct_end_of_round_antagonist_entry">succinct_end_of_round_antagonist_entry</a></th><td>If TRUE, this antagonist will not have their own entry in the end of round credits antagonists tab, rather they will be displayed in a list below the primary entries.</td></tr><tr><th><a href="datum/antagonist.html#var/uses_pref_name">uses_pref_name</a></th><td>Does the owner of this antagonist role use their normal name set in character preferences as opposed to being assigned a random or chosen name?</td></tr><tr><th><a href="datum/antagonist.html#var/vr">vr</a></th><td>VR antagonists, similar to pseudo antagonists, are not real antagonists. They lack some exploitative abilities, are not relocated, and are removed on death.</td></tr><tr><th><a href="datum/antagonist.html#var/wiki_link">wiki_link</a></th><td>Link to this antagonist's wiki page</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/antagonist.html#proc/alt_equipment">alt_equipment</a></th><td>Fallback in case the antag must have some level of initalization even with no equipment.</td></tr><tr><th><a href="datum/antagonist.html#proc/announce">announce</a></th><td>Display a greeting to the player to inform that they're an antagonist. This can be anything, but by default it's just the name.</td></tr><tr><th><a href="datum/antagonist.html#proc/announce_removal">announce_removal</a></th><td>Display something when this antagonist is removed.</td></tr><tr><th><a href="datum/antagonist.html#proc/assign_objectives">assign_objectives</a></th><td>Generate objectives for the antagonist and assign them to the mind.</td></tr><tr><th><a href="datum/antagonist.html#proc/borged">borged</a></th><td>Called when the player is made into a cyborg or AI</td></tr><tr><th><a href="datum/antagonist.html#proc/check_success">check_success</a></th><td>Returns whether or not this antagonist is considered to have succeeded. By default, this checks all antagonist-specific objectives.</td></tr><tr><th><a href="datum/antagonist.html#proc/do_popup">do_popup</a></th><td>Show a popup window for this antagonist. Defaults to using the same ID as the antagonist itself.</td></tr><tr><th><a href="datum/antagonist.html#proc/get_statistics">get_statistics</a></th><td>Returns a list of data to be passed to the end of round credits pertaining to this antagonist, such as items purchased, units of blood drank, and so forth.
Should return a list of &quot;name&quot;-&quot;value&quot; associative lists.
If an item list utilising item icons is to be used, the &quot;type&quot; index should be set to &quot;itemList&quot;, and &quot;value&quot; should itself be a list of &quot;iconBase64&quot;-&quot;name&quot; associative lists.</td></tr><tr><th><a href="datum/antagonist.html#proc/give_equipment">give_equipment</a></th><td>Equip the antagonist with abilities, custom equipment, and so on.</td></tr><tr><th><a href="datum/antagonist.html#proc/handle_cryo">handle_cryo</a></th><td>Handle this antagonist entering cryogenic storage, possibly temporarily.</td></tr><tr><th><a href="datum/antagonist.html#proc/handle_perma_cryo">handle_perma_cryo</a></th><td>Handle this antagonist entering cryogenic storage permanently</td></tr><tr><th><a href="datum/antagonist.html#proc/handle_round_end">handle_round_end</a></th><td>Handle special behavior at the end of the round, such as awarding medals.</td></tr><tr><th><a href="datum/antagonist.html#proc/is_compatible_with">is_compatible_with</a></th><td>Returns TRUE if this antagonist can be assigned to the given mind, and FALSE otherwise. This is intended to be special logic, overriden by subtypes; mutual exclusivity and other selection logic is not performed here.</td></tr><tr><th><a href="datum/antagonist.html#proc/relocate">relocate</a></th><td>Move the antagonist to their spawn location, if applicable.</td></tr><tr><th><a href="datum/antagonist.html#proc/remove_equipment">remove_equipment</a></th><td>The inverse of give_equipment(). Remove things like changeling abilities, etc. Non-innate things like items should probably be kept.</td></tr><tr><th><a href="datum/antagonist.html#proc/remove_objectives">remove_objectives</a></th><td>Remove objectives from the antagonist and the mind.</td></tr><tr><th><a href="datum/antagonist.html#proc/remove_self">remove_self</a></th><td>Calls removal procs to soft-remove this antagonist from its owner. Actual movement or deletion of the datum still needs to happen elsewhere.</td></tr><tr><th><a href="datum/antagonist.html#proc/setup_antagonist">setup_antagonist</a></th><td>Base proc to set up the antagonist. Depending on arguments, it can spawn equipment, assign objectives, move the player (if applicable), and announce itself.</td></tr><tr><th><a href="datum/antagonist.html#proc/unborged">unborged</a></th><td>Called when the player is no longer a cybrorg or AI</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/antagonist_icon"><aside class="declaration">var </aside>antagonist_icon <aside>– /image</aside> <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 8"></h3><p>The icon state that should be used for the antagonist overlay for this antagonist type. Icons may be found in <code>icons/mob/antag_overlays.dmi</code>.</p><h3 id="var/antagonist_panel_tab_type"><aside class="declaration">var </aside>antagonist_panel_tab_type <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 15"></h3><p>The type of tab that this antagonist type should be displayed under on the admin antagonist panel.</p><h3 id="var/assigned_by"><aside class="declaration">var </aside>assigned_by <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 35"></h3><p>How this antagonist was created. Displayed at the end of the round.</p><h3 id="var/display_name"><aside class="declaration">var </aside>display_name <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 6"></h3><p>Human-readable name for displaying this antagonist for admin menus, round-end summary, etc.</p><h3 id="var/faction"><aside class="declaration">var </aside>faction <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 43"></h3><p>The faction given to the player by this antagonist role for AI targeting purposes.</p><h3 id="var/has_info_popup"><aside class="declaration">var </aside>has_info_popup <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 11"></h3><p>If TRUE, this antagonist has an associated browser window (ideally with the same ID as itself) that will be displayed in do_popup() by default.</p><h3 id="var/id"><aside class="declaration">var </aside>id <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 4"></h3><p>Internal ID used to track this type of antagonist. This should <em>always</em> be unique between types and subtypes.</p><h3 id="var/keep_equipment_on_death"><aside class="declaration">var </aside>keep_equipment_on_death <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 25"></h3><p>If TRUE, the equipment is not removed on death. Only works if remove_on_death is TRUE.</p><h3 id="var/mutually_exclusive"><aside class="declaration">var </aside>mutually_exclusive <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 17"></h3><p>If TRUE, no other antagonists can be naturally gained if this one is active. Admins can still manually add new ones.</p><h3 id="var/objectives"><aside class="declaration">var </aside>objectives <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/objective.html">objective</a></aside> <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 41"></h3><p>The objectives assigned to the player by this specific antagonist role.</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a></aside> <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 29"></h3><p>The mind of the player that that this antagonist is assigned to.</p><h3 id="var/popup_name_override"><aside class="declaration">var </aside>popup_name_override <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 45"></h3><p>Used in lieu of the id for antag_popups.dm</p><h3 id="var/pseudo"><aside class="declaration">var </aside>pseudo <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 37"></h3><p>Pseudo antagonists are not &quot;real&quot; antagonists, as determined by the round. They have the abilities, but do not have objectives and ideally should not considered antagonists for the purposes of griefing rules, etc.</p><h3 id="var/remove_on_clone"><aside class="declaration">var </aside>remove_on_clone <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 23"></h3><p>If TRUE, the antag status will be removed when the person is cloned (zombies etc.)</p><h3 id="var/remove_on_death"><aside class="declaration">var </aside>remove_on_death <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 21"></h3><p>If TRUE, the antag status will be removed when the person dies (changeling critters etc.)</p><h3 id="var/removing"><aside class="declaration">var </aside>removing <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 47"></h3><p>Set when the antagonist is in the process of being removed, to prevent double removals.</p><h3 id="var/silent"><aside class="declaration">var </aside>silent <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 33"></h3><p>Whether the addition or removal of this antagonist role is announced to the player.</p><h3 id="var/success_medal"><aside class="declaration">var </aside>success_medal <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 19"></h3><p>The medal unlocked at the end of the round by succeeding as this antagonist.</p><h3 id="var/succinct_end_of_round_antagonist_entry"><aside class="declaration">var </aside>succinct_end_of_round_antagonist_entry <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 13"></h3><p>If TRUE, this antagonist will not have their own entry in the end of round credits antagonists tab, rather they will be displayed in a list below the primary entries.</p><h3 id="var/uses_pref_name"><aside class="declaration">var </aside>uses_pref_name <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 31"></h3><p>Does the owner of this antagonist role use their normal name set in character preferences as opposed to being assigned a random or chosen name?</p><h3 id="var/vr"><aside class="declaration">var </aside>vr <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 39"></h3><p>VR antagonists, similar to pseudo antagonists, are not real antagonists. They lack some exploitative abilities, are not relocated, and are removed on death.</p><h3 id="var/wiki_link"><aside class="declaration">var </aside>wiki_link <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 49"></h3><p>Link to this antagonist's wiki page</p><h2 id="proc">Proc Details</h2><h3 id="proc/alt_equipment"><aside class="declaration">proc </aside>alt_equipment<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 220"></aside></h3><p>Fallback in case the antag must have some level of initalization even with no equipment.</p><h3 id="proc/announce"><aside class="declaration">proc </aside>announce<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 257"></aside></h3><p>Display a greeting to the player to inform that they're an antagonist. This can be anything, but by default it's just the name.</p><h3 id="proc/announce_removal"><aside class="declaration">proc </aside>announce_removal<aside>(source)  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 261"></aside></h3><p>Display something when this antagonist is removed.</p><h3 id="proc/assign_objectives"><aside class="declaration">proc </aside>assign_objectives<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 232"></aside></h3><p>Generate objectives for the antagonist and assign them to the mind.</p><h3 id="proc/borged"><aside class="declaration">proc </aside>borged<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 308"></aside></h3><p>Called when the player is made into a cyborg or AI</p><h3 id="proc/check_success"><aside class="declaration">proc </aside>check_success<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 270"></aside></h3><p>Returns whether or not this antagonist is considered to have succeeded. By default, this checks all antagonist-specific objectives.</p><h3 id="proc/do_popup"><aside class="declaration">proc </aside>do_popup<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 265"></aside></h3><p>Show a popup window for this antagonist. Defaults to using the same ID as the antagonist itself.</p><h3 id="proc/get_statistics"><aside class="declaration">proc </aside>get_statistics<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 292"></aside></h3><p>Returns a list of data to be passed to the end of round credits pertaining to this antagonist, such as items purchased, units of blood drank, and so forth.
Should return a list of &quot;name&quot;-&quot;value&quot; associative lists.
If an item list utilising item icons is to be used, the &quot;type&quot; index should be set to &quot;itemList&quot;, and &quot;value&quot; should itself be a list of &quot;iconBase64&quot;-&quot;name&quot; associative lists.</p><h3 id="proc/give_equipment"><aside class="declaration">proc </aside>give_equipment<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 216"></aside></h3><p>Equip the antagonist with abilities, custom equipment, and so on.</p><h3 id="proc/handle_cryo"><aside class="declaration">proc </aside>handle_cryo<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 236"></aside></h3><p>Handle this antagonist entering cryogenic storage, possibly temporarily.</p><h3 id="proc/handle_perma_cryo"><aside class="declaration">proc </aside>handle_perma_cryo<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 239"></aside></h3><p>Handle this antagonist entering cryogenic storage permanently</p><h3 id="proc/handle_round_end"><aside class="declaration">proc </aside>handle_round_end<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 279"></aside></h3><p>Handle special behavior at the end of the round, such as awarding medals.</p><h3 id="proc/is_compatible_with"><aside class="declaration">proc </aside>is_compatible_with<aside>(/<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a>/mind)  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 133"></aside></h3><p>Returns TRUE if this antagonist can be assigned to the given mind, and FALSE otherwise. This is intended to be special logic, overriden by subtypes; mutual exclusivity and other selection logic is not performed here.</p><h3 id="proc/relocate"><aside class="declaration">proc </aside>relocate<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 228"></aside></h3><p>Move the antagonist to their spawn location, if applicable.</p><h3 id="proc/remove_equipment"><aside class="declaration">proc </aside>remove_equipment<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 224"></aside></h3><p>The inverse of give_equipment(). Remove things like changeling abilities, etc. Non-innate things like items should probably be kept.</p><h3 id="proc/remove_objectives"><aside class="declaration">proc </aside>remove_objectives<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 243"></aside></h3><p>Remove objectives from the antagonist and the mind.</p><h3 id="proc/remove_self"><aside class="declaration">proc </aside>remove_self<aside>(take_gear, source)  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 118"></aside></h3><p>Calls removal procs to soft-remove this antagonist from its owner. Actual movement or deletion of the datum still needs to happen elsewhere.</p><h3 id="proc/setup_antagonist"><aside class="declaration">proc </aside>setup_antagonist<aside>(do_equip, do_objectives, do_relocate, silent, source, late_setup)  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 137"></aside></h3><p>Base proc to set up the antagonist. Depending on arguments, it can spawn equipment, assign objectives, move the player (if applicable), and announce itself.</p><h3 id="proc/unborged"><aside class="declaration">proc </aside>unborged<aside>()  <img src="git.png" width="16" height="16" title="code/modules/antagonists/__antagonist.dm 312"></aside></h3><p>Called when the player is no longer a cybrorg or AI</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>