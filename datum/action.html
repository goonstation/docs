<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/action - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/action.html#var">Var Details</a> - <a href="datum/action.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/action.html">action</a> <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 113"></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/action.html#var/duration">duration</a></th><td>How long does this action take in ticks.</td></tr><tr><th><a href="datum/action.html#var/id">id</a></th><td>ID for this action. If null, will be autogenerated in New() (by default, to the typepath of the action). Don't override this without a good reason.</td></tr><tr><th><a href="datum/action.html#var/interrupt_flags">interrupt_flags</a></th><td>When and how this action is interrupted.</td></tr><tr><th><a href="datum/action.html#var/interrupt_start">interrupt_start</a></th><td>When the action was interrupted. Used to calculate interrupt_time</td></tr><tr><th><a href="datum/action.html#var/interrupt_time">interrupt_time</a></th><td>How long the action spent interrupted. Used to calculate the remaining time when resuming.</td></tr><tr><th><a href="datum/action.html#var/owner">owner</a></th><td>Object that owns this action.</td></tr><tr><th><a href="datum/action.html#var/promise">promise</a></th><td>Promise that will be fulfilled when the action is finished or deleted. Finished = fulfilled with the action, deleted = fulfilled with null.</td></tr><tr><th><a href="datum/action.html#var/started">started</a></th><td>TIME this action was started at</td></tr><tr><th><a href="datum/action.html#var/state">state</a></th><td>Current state of the action.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/action.html#proc/canRunCheck">canRunCheck</a></th><td>Ran before onStart, onUpdate, onResume and in onRestart. Call interrupt here to stop the action from starting.</td></tr><tr><th><a href="datum/action.html#proc/interrupt">interrupt</a></th><td>This is called by the default interrupt actions</td></tr><tr><th><a href="datum/action.html#proc/loopStart">loopStart</a></th><td>Called after restarting. Meant to cotain code from -and be called from- onStart()</td></tr><tr><th><a href="datum/action.html#proc/onDelete">onDelete</a></th><td>Called when the action is complete and about to be deleted. Usable for cleanup and such.</td></tr><tr><th><a href="datum/action.html#proc/onEnd">onEnd</a></th><td>Called when the action succesfully ends.</td></tr><tr><th><a href="datum/action.html#proc/onInterrupt">onInterrupt</a></th><td>Called when the action fails / is interrupted.</td></tr><tr><th><a href="datum/action.html#proc/onRestart">onRestart</a></th><td>Called when the action restarts (for example: automenders)</td></tr><tr><th><a href="datum/action.html#proc/onResume">onResume</a></th><td>Called when the action resumes - likely from almost ending. Arg is the action which would have cancelled this.</td></tr><tr><th><a href="datum/action.html#proc/onStart">onStart</a></th><td>Called when the action begins</td></tr><tr><th><a href="datum/action.html#proc/onUpdate">onUpdate</a></th><td>Called every tick this action is running. If you absolutely(!!!) have to you can do manual interrupt checking in here. Otherwise this is mostly used for drawing progress bars and shit.</td></tr><tr><th><a href="datum/action.html#proc/updateBar">updateBar</a></th><td>Updates the animations</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/duration"><aside class="declaration">var </aside>duration <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 115"></h3><p>How long does this action take in ticks.</p><h3 id="var/id"><aside class="declaration">var </aside>id <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 119"></h3><p>ID for this action. If null, will be autogenerated in New() (by default, to the typepath of the action). Don't override this without a good reason.</p><h3 id="var/interrupt_flags"><aside class="declaration">var </aside>interrupt_flags <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 116"></h3><p>When and how this action is interrupted.</p><h3 id="var/interrupt_start"><aside class="declaration">var </aside>interrupt_start <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 123"></h3><p>When the action was interrupted. Used to calculate interrupt_time</p><h3 id="var/interrupt_time"><aside class="declaration">var </aside>interrupt_time <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 122"></h3><p>How long the action spent interrupted. Used to calculate the remaining time when resuming.</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /<a href="atom.html">atom</a></aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 114"></h3><p>Object that owns this action.</p><h3 id="var/promise"><aside class="declaration">var </aside>promise <aside>– /<a href="datum.html">datum</a>/<a href="datum/promise.html">promise</a></aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 121"></h3><p>Promise that will be fulfilled when the action is finished or deleted. Finished = fulfilled with the action, deleted = fulfilled with null.</p><h3 id="var/started"><aside class="declaration">var </aside>started <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 118"></h3><p>TIME this action was started at</p><h3 id="var/state"><aside class="declaration">var </aside>state <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 117"></h3><p>Current state of the action.</p><h2 id="proc">Proc Details</h2><h3 id="proc/canRunCheck"><aside class="declaration">proc </aside>canRunCheck<aside>(in_start)  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 182"></aside></h3><p>Ran before onStart, onUpdate, onResume and in onRestart. Call interrupt here to stop the action from starting.</p><h3 id="proc/interrupt"><aside class="declaration">proc </aside>interrupt<aside>(flag, can_resume)  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 131"></aside></h3><p>This is called by the default interrupt actions</p><h3 id="proc/loopStart"><aside class="declaration">proc </aside>loopStart<aside>()  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 163"></aside></h3><p>Called after restarting. Meant to cotain code from -and be called from- onStart()</p><h3 id="proc/onDelete"><aside class="declaration">proc </aside>onDelete<aside>()  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 177"></aside></h3><p>Called when the action is complete and about to be deleted. Usable for cleanup and such.</p><h3 id="proc/onEnd"><aside class="declaration">proc </aside>onEnd<aside>()  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 172"></aside></h3><p>Called when the action succesfully ends.</p><h3 id="proc/onInterrupt"><aside class="declaration">proc </aside>onInterrupt<aside>(flag)  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 144"></aside></h3><p>Called when the action fails / is interrupted.</p><h3 id="proc/onRestart"><aside class="declaration">proc </aside>onRestart<aside>()  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 154"></aside></h3><p>Called when the action restarts (for example: automenders)</p><h3 id="proc/onResume"><aside class="declaration">proc </aside>onResume<aside>(/<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/attempted)  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 167"></aside></h3><p>Called when the action resumes - likely from almost ending. Arg is the action which would have cancelled this.</p><h3 id="proc/onStart"><aside class="declaration">proc </aside>onStart<aside>()  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 149"></aside></h3><p>Called when the action begins</p><h3 id="proc/onUpdate"><aside class="declaration">proc </aside>onUpdate<aside>()  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 141"></aside></h3><p>Called every tick this action is running. If you absolutely(!!!) have to you can do manual interrupt checking in here. Otherwise this is mostly used for drawing progress bars and shit.</p><h3 id="proc/updateBar"><aside class="declaration">proc </aside>updateBar<aside>()  <img src="git.png" width="16" height="16" title="code/datums/controllers/action_controls.dm 185"></aside></h3><p>Updates the animations</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>