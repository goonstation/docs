<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/aiTask - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/aiTask.html#var">Var Details</a> - <a href="datum/aiTask.html#proc">Proc Details</a></header><main><h1>task <aside>/<a href="datum.html">datum</a>/<a href="datum/aiTask.html">aiTask</a></aside> <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 223"></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/aiTask.html#var/ai_turbo">ai_turbo</a></th><td>if this is set, temporarily give this mob the HEAVYWEIGHT_AI mob flag for the duration of this task</td></tr><tr><th><a href="datum/aiTask.html#var/distance_from_target">distance_from_target</a></th><td>Distance we want to be away from the target for pathing in tiles 0 = same tile / 1 = next to / etc</td></tr><tr><th><a href="datum/aiTask.html#var/max_dist">max_dist</a></th><td>The maximum tile distance that we look for targets</td></tr><tr><th><a href="datum/aiTask.html#var/move_through_space">move_through_space</a></th><td>If this task allows pathing through space</td></tr><tr><th><a href="datum/aiTask.html#var/score_by_distance_only">score_by_distance_only</a></th><td>If this is set score_target() is ignored and instead the target is chosen by distance only.
This is better for performance if there are multiple targets. Override to FALSE if you override score_target()!</td></tr><tr><th><a href="datum/aiTask.html#var/weight">weight</a></th><td>for weighting the importance of the goal this sequence is in charge of</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/aiTask.html#proc/evaluate">evaluate</a></th><td>Evaluate the current environment and assign priority to switching to this task</td></tr><tr><th><a href="datum/aiTask.html#proc/get_best_target">get_best_target</a></th><td>Takes a list of atoms which are then evaluated, before setting the holder's target. Note this checks a path exists to each target. The list of
targets is expected (but not required) to be ordered from best to worst - by default view() will do this if score_target() is based on distance</td></tr><tr><th><a href="datum/aiTask.html#proc/get_targets">get_targets</a></th><td>Returns a list of atoms that are potential targets for this task</td></tr><tr><th><a href="datum/aiTask.html#proc/next_task">next_task</a></th><td>Called on every mobAI tick - returns a task to switch to, ending this task, or null to continue</td></tr><tr><th><a href="datum/aiTask.html#proc/on_reset">on_reset</a></th><td>Called whenever the task is started or ended. Override this instead of reset()</td></tr><tr><th><a href="datum/aiTask.html#proc/on_tick">on_tick</a></th><td>Called on every mobAI tick - this tick rate is determined by mobAI priority</td></tr><tr><th><a href="datum/aiTask.html#proc/score_target">score_target</a></th><td>If overriding also override [score_by_distance_only] to FALSE!</td></tr><tr><th><a href="datum/aiTask.html#proc/switched_to">switched_to</a></th><td>Called when the task is switched to by the holder</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/ai_turbo"><aside class="declaration">var </aside>ai_turbo <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 233"></h3><p>if this is set, temporarily give this mob the HEAVYWEIGHT_AI mob flag for the duration of this task</p><h3 id="var/distance_from_target"><aside class="declaration">var </aside>distance_from_target <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 239"></h3><p>Distance we want to be away from the target for pathing in tiles 0 = same tile / 1 = next to / etc</p><h3 id="var/max_dist"><aside class="declaration">var </aside>max_dist <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 228"></h3><p>The maximum tile distance that we look for targets</p><h3 id="var/move_through_space"><aside class="declaration">var </aside>move_through_space <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 235"></h3><p>If this task allows pathing through space</p><h3 id="var/score_by_distance_only"><aside class="declaration">var </aside>score_by_distance_only <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 231"></h3><p>If this is set score_target() is ignored and instead the target is chosen by distance only.
This is better for performance if there are multiple targets. Override to FALSE if you override score_target()!</p><h3 id="var/weight"><aside class="declaration">var </aside>weight <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 237"></h3><p>for weighting the importance of the goal this sequence is in charge of</p><h2 id="proc">Proc Details</h2><h3 id="proc/evaluate"><aside class="declaration">proc </aside>evaluate<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 265"></aside></h3><p>Evaluate the current environment and assign priority to switching to this task</p><h3 id="proc/get_best_target"><aside class="declaration">proc </aside>get_best_target<aside>(/list/<a href="atom.html">atom</a>/targets)  <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 274"></aside></h3><p>Takes a list of atoms which are then evaluated, before setting the holder's target. Note this checks a path exists to each target. The list of
targets is expected (but not required) to be ordered from best to worst - by default view() will do this if score_target() is based on distance</p><h3 id="proc/get_targets"><aside class="declaration">proc </aside>get_targets<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 269"></aside></h3><p>Returns a list of atoms that are potential targets for this task</p><h3 id="proc/next_task"><aside class="declaration">proc </aside>next_task<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 257"></aside></h3><p>Called on every mobAI tick - returns a task to switch to, ending this task, or null to continue</p><h3 id="proc/on_reset"><aside class="declaration">proc </aside>on_reset<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 261"></aside></h3><p>Called whenever the task is started or ended. Override this instead of reset()</p><h3 id="proc/on_tick"><aside class="declaration">proc </aside>on_tick<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 254"></aside></h3><p>Called on every mobAI tick - this tick rate is determined by mobAI priority</p><h3 id="proc/score_target"><aside class="declaration">proc </aside>score_target<aside>(/<a href="atom.html">atom</a>/target)  <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 306"></aside></h3><p>If overriding also override [score_by_distance_only] to FALSE!</p><h3 id="proc/switched_to"><aside class="declaration">proc </aside>switched_to<aside>()  <img src="git.png" width="16" height="16" title="code/mob/living/critter/ai.dm 251"></aside></h3><p>Called when the task is switched to by the holder</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>