<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/minimap - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/minimap.html#var">Var Details</a> - <a href="datum/minimap.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/minimap.html">minimap</a> <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 6"></h1><p>Minimap datums are responsible for handling the appearance of the minimap. This includes any displayed markers, the zoom level,
and the displayed z-level.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/minimap.html#var/map">map</a></th><td>The minimap, without minimap markers. Kept separate for the purpose of scaling the minimap without scaling the markers.</td></tr><tr><th><a href="datum/minimap.html#var/map_scale">map_scale</a></th><td>The current scale of the physical map, as a multiple of the original size (300x300px).</td></tr><tr><th><a href="datum/minimap.html#var/marker_scale">marker_scale</a></th><td>The desired scale of the minimap markers, as a multiple of the original size (32x32px).</td></tr><tr><th><a href="datum/minimap.html#var/max_zoom">max_zoom</a></th><td>The maximum value which the zoom coefficient should be permitted to zoom to.</td></tr><tr><th><a href="datum/minimap.html#var/min_zoom">min_zoom</a></th><td>The minimum value which the zoom coefficient should be permitted to zoom to.</td></tr><tr><th><a href="datum/minimap.html#var/minimap_holder">minimap_holder</a></th><td>The holder for the render of the minimap, allowing for offsets and other effects to be applied to the render without modifying the render itself.</td></tr><tr><th><a href="datum/minimap.html#var/minimap_markers">minimap_markers</a></th><td>An associative list of all minimap markers the minimap is currently tracking and displaying, indexed by their target.</td></tr><tr><th><a href="datum/minimap.html#var/minimap_render">minimap_render</a></th><td>The minimap render to be displayed, containing both the map, dynamic area overlays, and markers.</td></tr><tr><th><a href="datum/minimap.html#var/x_max">x_max</a></th><td>The maximum x coordinate to be rendered, in world coordinates.</td></tr><tr><th><a href="datum/minimap.html#var/x_min">x_min</a></th><td>The minimum x coordinate to be rendered, in world coordinates.</td></tr><tr><th><a href="datum/minimap.html#var/y_max">y_max</a></th><td>The maximum y coordinate to be rendered, in world coordinates.</td></tr><tr><th><a href="datum/minimap.html#var/y_min">y_min</a></th><td>The minimum y coordinate to be rendered, in world coordinates.</td></tr><tr><th><a href="datum/minimap.html#var/z_level">z_level</a></th><td>The z-level that the minimap is to be rendered from.</td></tr><tr><th><a href="datum/minimap.html#var/zoom_coefficient">zoom_coefficient</a></th><td>The scale that the minimap should be zoomed to; it does not affect the physical size of the minimap, as the alpha mask will take care of any map area scaled outside of the minimap boundaries.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/minimap.html#proc/create_alpha_mask">create_alpha_mask</a></th><td>Create an alpha mask to hide anything outside the bounds of the physical map.</td></tr><tr><th><a href="datum/minimap.html#proc/create_minimap_marker">create_minimap_marker</a></th><td>Creates a minimap marker from a specified target, icon, and icon state. <code>marker_name</code> will override the marker inheriting the target's name.</td></tr><tr><th><a href="datum/minimap.html#proc/initialise_minimap_render">initialise_minimap_render</a></th><td>Initialises the raw minimap icons and minimap render.</td></tr><tr><th><a href="datum/minimap.html#proc/remove_minimap_marker">remove_minimap_marker</a></th><td>Removes a minimap marker from this minimap.</td></tr><tr><th><a href="datum/minimap.html#proc/scale_map">scale_map</a></th><td>Scale the map, while retaining the original (x, y) position of the bottom left corner.</td></tr><tr><th><a href="datum/minimap.html#proc/set_marker_position">set_marker_position</a></th><td>Sets the x and y position of a specified minimap marker, in world coordinates.</td></tr><tr><th><a href="datum/minimap.html#proc/update_z_level">update_z_level</a></th><td>Updates the displayed z-level.</td></tr><tr><th><a href="datum/minimap.html#proc/zoom_on_point">zoom_on_point</a></th><td>Zooms the minimap by the zoom coefficient while moving the minimap so that the specified point lies at the same position on the displayed minimap as it did prior to the zoom. The alpha mask takes care of any map area scaled outside of the map boundaries.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/map"><aside class="declaration">var </aside>map <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/minimap_render_object</aside> <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 12"></h3><p>The minimap, without minimap markers. Kept separate for the purpose of scaling the minimap without scaling the markers.</p><h3 id="var/map_scale"><aside class="declaration">var </aside>map_scale <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 35"></h3><p>The current scale of the physical map, as a multiple of the original size (300x300px).</p><h3 id="var/marker_scale"><aside class="declaration">var </aside>marker_scale <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 37"></h3><p>The desired scale of the minimap markers, as a multiple of the original size (32x32px).</p><h3 id="var/max_zoom"><aside class="declaration">var </aside>max_zoom <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 32"></h3><p>The maximum value which the zoom coefficient should be permitted to zoom to.</p><h3 id="var/min_zoom"><aside class="declaration">var </aside>min_zoom <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 30"></h3><p>The minimum value which the zoom coefficient should be permitted to zoom to.</p><h3 id="var/minimap_holder"><aside class="declaration">var </aside>minimap_holder <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/minimap_render_object</aside> <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 8"></h3><p>The holder for the render of the minimap, allowing for offsets and other effects to be applied to the render without modifying the render itself.</p><h3 id="var/minimap_markers"><aside class="declaration">var </aside>minimap_markers <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/minimap_marker.html">minimap_marker</a>/<a href="datum/minimap_marker/minimap.html">minimap</a></aside> <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 14"></h3><p>An associative list of all minimap markers the minimap is currently tracking and displaying, indexed by their target.</p><h3 id="var/minimap_render"><aside class="declaration">var </aside>minimap_render <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/minimap_render_object</aside> <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 10"></h3><p>The minimap render to be displayed, containing both the map, dynamic area overlays, and markers.</p><h3 id="var/x_max"><aside class="declaration">var </aside>x_max <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 19"></h3><p>The maximum x coordinate to be rendered, in world coordinates.</p><h3 id="var/x_min"><aside class="declaration">var </aside>x_min <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 21"></h3><p>The minimum x coordinate to be rendered, in world coordinates.</p><h3 id="var/y_max"><aside class="declaration">var </aside>y_max <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 23"></h3><p>The maximum y coordinate to be rendered, in world coordinates.</p><h3 id="var/y_min"><aside class="declaration">var </aside>y_min <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 25"></h3><p>The minimum y coordinate to be rendered, in world coordinates.</p><h3 id="var/z_level"><aside class="declaration">var </aside>z_level <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 17"></h3><p>The z-level that the minimap is to be rendered from.</p><h3 id="var/zoom_coefficient"><aside class="declaration">var </aside>zoom_coefficient <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 28"></h3><p>The scale that the minimap should be zoomed to; it does not affect the physical size of the minimap, as the alpha mask will take care of any map area scaled outside of the minimap boundaries.</p><h2 id="proc">Proc Details</h2><h3 id="proc/create_alpha_mask"><aside class="declaration">proc </aside>create_alpha_mask<aside>()  <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 76"></aside></h3><p>Create an alpha mask to hide anything outside the bounds of the physical map.</p><h3 id="proc/create_minimap_marker"><aside class="declaration">proc </aside>create_minimap_marker<aside>(/<a href="atom.html">atom</a>/target, icon, icon_state, marker_name, can_be_deleted_by_player, list_on_ui)  <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 130"></aside></h3><p>Creates a minimap marker from a specified target, icon, and icon state. <code>marker_name</code> will override the marker inheriting the target's name.</p><h3 id="proc/initialise_minimap_render"><aside class="declaration">proc </aside>initialise_minimap_render<aside>()  <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 68"></aside></h3><p>Initialises the raw minimap icons and minimap render.</p><h3 id="proc/remove_minimap_marker"><aside class="declaration">proc </aside>remove_minimap_marker<aside>(/<a href="atom.html">atom</a>/target)  <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 157"></aside></h3><p>Removes a minimap marker from this minimap.</p><h3 id="proc/scale_map"><aside class="declaration">proc </aside>scale_map<aside>(scale)  <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 113"></aside></h3><p>Scale the map, while retaining the original (x, y) position of the bottom left corner.</p><h3 id="proc/set_marker_position"><aside class="declaration">proc </aside>set_marker_position<aside>(/<a href="datum.html">datum</a>/<a href="datum/minimap_marker.html">minimap_marker</a>/<a href="datum/minimap_marker/minimap.html">minimap</a>/map_marker, x, y, z)  <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 145"></aside></h3><p>Sets the x and y position of a specified minimap marker, in world coordinates.</p><h3 id="proc/update_z_level"><aside class="declaration">proc </aside>update_z_level<aside>(z_level)  <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 72"></aside></h3><p>Updates the displayed z-level.</p><h3 id="proc/zoom_on_point"><aside class="declaration">proc </aside>zoom_on_point<aside>(zoom, map_x, map_y)  <img src="git.png" width="16" height="16" title="code/modules/minimap/minimaps/__minimap_parent.dm 85"></aside></h3><p>Zooms the minimap by the zoom coefficient while moving the minimap so that the specified point lies at the same position on the displayed minimap as it did prior to the zoom. The alpha mask takes care of any map area scaled outside of the map boundaries.</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>