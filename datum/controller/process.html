<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/process - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/process.html#var">Var Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/controller/process.html">controller/process</a> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 2"></h1><p>Base definition of a process controller</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/process.html#var/cpu_defer_count">cpu_defer_count</a></th><td>How many times in the current run has the process deferred work till the next tick?</td></tr><tr><th><a href="datum/controller/process.html#var/current_usage">current_usage</a></th><td>Records the total usage of the current run, each 100 = 1 byond tick</td></tr><tr><th><a href="datum/controller/process.html#var/disabled">disabled</a></th><td>TRUE if process is disabled</td></tr><tr><th><a href="datum/controller/process.html#var/hang_alert_time">hang_alert_time</a></th><td>After this much time, the server will send an admin debug message saying the process may be hung.</td></tr><tr><th><a href="datum/controller/process.html#var/hang_restart_time">hang_restart_time</a></th><td>After this much time, the server will automatically kill and restart the process.</td></tr><tr><th><a href="datum/controller/process.html#var/hang_warning_time">hang_warning_time</a></th><td>This is the time after which the server will begin to show &quot;maybe hung&quot; in the context window.</td></tr><tr><th><a href="datum/controller/process.html#var/hung">hung</a></th><td>TRUE if process is blocked up</td></tr><tr><th><a href="datum/controller/process.html#var/idle">idle</a></th><td>TRUE if the process is not running or queued</td></tr><tr><th><a href="datum/controller/process.html#var/killed">killed</a></th><td>TRUE if process was killed</td></tr><tr><th><a href="datum/controller/process.html#var/last_object">last_object</a></th><td>Settable last object this loop was processing</td></tr><tr><th><a href="datum/controller/process.html#var/last_slept">last_slept</a></th><td>Records the time (1/10s timeofday) at which the process last finished sleeping</td></tr><tr><th><a href="datum/controller/process.html#var/last_task">last_task</a></th><td>Settable last task this loop was working on</td></tr><tr><th><a href="datum/controller/process.html#var/last_usage">last_usage</a></th><td>Records the total usage of the last run, each 100 = 1 byond tick</td></tr><tr><th><a href="datum/controller/process.html#var/name">name</a></th><td>Process name</td></tr><tr><th><a href="datum/controller/process.html#var/previousStatus">previousStatus</a></th><td>Previous status text</td></tr><tr><th><a href="datum/controller/process.html#var/queued">queued</a></th><td>TRUE if process is queued</td></tr><tr><th><a href="datum/controller/process.html#var/run_start">run_start</a></th><td>Records the time (1/10s timeofday) at which the process last began running</td></tr><tr><th><a href="datum/controller/process.html#var/running">running</a></th><td>TRUE if process is running</td></tr><tr><th><a href="datum/controller/process.html#var/schedule_interval">schedule_interval</a></th><td>This controls how often the process would run under ideal conditions.
If the process scheduler sees that the process has finished, it will wait until
this amount of time has elapsed from the start of the previous run to start the
process running again.</td></tr><tr><th><a href="datum/controller/process.html#var/schedule_jitter">schedule_jitter</a></th><td>This is added to the <a href="datum/controller/process.html#var/schedule_interval" title="/datum/controller/process">/datum/controller/process/var/schedule_interval</a> when checking it.
By default, this adjusts the interval by either adding or subtracting anywhere in the jitter range.
For example, a jitter of <code>2 SECONDS</code> for an interval of <code>10 SECONDS</code> would give times from <code>8 SECONDS</code> to <code>12 SECONDS</code>.</td></tr><tr><th><a href="datum/controller/process.html#var/status">status</a></th><td>Status text to be displayed</td></tr><tr><th><a href="datum/controller/process.html#var/tick_allowance">tick_allowance</a></th><td>This controls what percentage a single tick (0 to 100) the process should be allowed to run before sleeping.</td></tr><tr><th><a href="datum/controller/process.html#var/tick_start">tick_start</a></th><td>Records the world.tick_usage (0 to 100) at which the process last began running
drsingh - as of byond 514, world.map_cpu is also included in this via APPROX_TICK_USE</td></tr><tr><th><a href="datum/controller/process.html#var/ticks">ticks</a></th><td>Tick count</td></tr><tr><th><a href="datum/controller/process.html#var/times_killed">times_killed</a></th><td>Records the number of times this process has been killed and restarted</td></tr><tr><th><a href="datum/controller/process.html#var/total_usage">total_usage</a></th><td>Records the total usage over the life of the process, each 100 = 1 byond tick</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/cpu_defer_count"><aside class="declaration">var </aside>cpu_defer_count <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 69"></h3><p>How many times in the current run has the process deferred work till the next tick?</p><h3 id="var/current_usage"><aside class="declaration">var </aside>current_usage <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 86"></h3><p>Records the total usage of the current run, each 100 = 1 byond tick</p><h3 id="var/disabled"><aside class="declaration">var </aside>disabled <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 32"></h3><p>TRUE if process is disabled</p><h3 id="var/hang_alert_time"><aside class="declaration">var </aside>hang_alert_time <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 63"></h3><p>After this much time, the server will send an admin debug message saying the process may be hung.</p><h3 id="var/hang_restart_time"><aside class="declaration">var </aside>hang_restart_time <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 66"></h3><p>After this much time, the server will automatically kill and restart the process.</p><h3 id="var/hang_warning_time"><aside class="declaration">var </aside>hang_warning_time <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 60"></h3><p>This is the time after which the server will begin to show &quot;maybe hung&quot; in the context window.</p><h3 id="var/hung"><aside class="declaration">var </aside>hung <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 20"></h3><p>TRUE if process is blocked up</p><h3 id="var/idle"><aside class="declaration">var </aside>idle <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 11"></h3><p>TRUE if the process is not running or queued</p><h3 id="var/killed"><aside class="declaration">var </aside>killed <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 23"></h3><p>TRUE if process was killed</p><h3 id="var/last_object"><aside class="declaration">var </aside>last_object <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 104"></h3><p>Settable last object this loop was processing</p><h3 id="var/last_slept"><aside class="declaration">var </aside>last_slept <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 76"></h3><p>Records the time (1/10s timeofday) at which the process last finished sleeping</p><h3 id="var/last_task"><aside class="declaration">var </aside>last_task <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 101"></h3><p>Settable last task this loop was working on</p><h3 id="var/last_usage"><aside class="declaration">var </aside>last_usage <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 89"></h3><p>Records the total usage of the last run, each 100 = 1 byond tick</p><h3 id="var/name"><aside class="declaration">var </aside>name <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 39"></h3><p>Process name</p><h3 id="var/previousStatus"><aside class="declaration">var </aside>previousStatus <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 29"></h3><p>Previous status text</p><h3 id="var/queued"><aside class="declaration">var </aside>queued <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 14"></h3><p>TRUE if process is queued</p><h3 id="var/run_start"><aside class="declaration">var </aside>run_start <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 79"></h3><p>Records the time (1/10s timeofday) at which the process last began running</p><h3 id="var/running"><aside class="declaration">var </aside>running <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 17"></h3><p>TRUE if process is running</p><h3 id="var/schedule_interval"><aside class="declaration">var </aside>schedule_interval <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 45"></h3><p>This controls how often the process would run under ideal conditions.
If the process scheduler sees that the process has finished, it will wait until
this amount of time has elapsed from the start of the previous run to start the
process running again.</p><h3 id="var/schedule_jitter"><aside class="declaration">var </aside>schedule_jitter <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 54"></h3><p>This is added to the <a href="datum/controller/process.html#var/schedule_interval" title="/datum/controller/process">/datum/controller/process/var/schedule_interval</a> when checking it.
By default, this adjusts the interval by either adding or subtracting anywhere in the jitter range.
For example, a jitter of <code>2 SECONDS</code> for an interval of <code>10 SECONDS</code> would give times from <code>8 SECONDS</code> to <code>12 SECONDS</code>.</p>
<p>For more complex behavior, override [/datum/controller/processScheduler/proc/setQueuedProcessState]. Necessary for runtime jitter range change.</p><h3 id="var/status"><aside class="declaration">var </aside>status <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 26"></h3><p>Status text to be displayed</p><h3 id="var/tick_allowance"><aside class="declaration">var </aside>tick_allowance <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 57"></h3><p>This controls what percentage a single tick (0 to 100) the process should be allowed to run before sleeping.</p><h3 id="var/tick_start"><aside class="declaration">var </aside>tick_start <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 83"></h3><p>Records the world.tick_usage (0 to 100) at which the process last began running
drsingh - as of byond 514, world.map_cpu is also included in this via APPROX_TICK_USE</p><h3 id="var/ticks"><aside class="declaration">var </aside>ticks <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 98"></h3><p>Tick count</p><h3 id="var/times_killed"><aside class="declaration">var </aside>times_killed <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 95"></h3><p>Records the number of times this process has been killed and restarted</p><h3 id="var/total_usage"><aside class="declaration">var </aside>total_usage <aside>– /tmp</aside> <img src="git.png" width="16" height="16" title="code/datums/controllers/process/_process.dm 92"></h3><p>Records the total usage over the life of the process, each 100 = 1 byond tick</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>