<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/air_system - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/air_system.html#var">Var Details</a> - <a href="datum/controller/air_system.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/controller/air_system.html">controller/air_system</a> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 25"></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/air_system.html#var/active_singletons">active_singletons</a></th><td>List of turfs without a group to be processed.</td></tr><tr><th><a href="datum/controller/air_system.html#var/active_super_conductivity">active_super_conductivity</a></th><td>Tiles queued to be processed for superconductivity.</td></tr><tr><th><a href="datum/controller/air_system.html#var/air_groups">air_groups</a></th><td>List of air groups to be processed.</td></tr><tr><th><a href="datum/controller/air_system.html#var/current_cycle">current_cycle</a></th><td>Current cycle of air_system.</td></tr><tr><th><a href="datum/controller/air_system.html#var/groups_to_rebuild">groups_to_rebuild</a></th><td></td></tr><tr><th><a href="datum/controller/air_system.html#var/high_pressure_delta">high_pressure_delta</a></th><td>Tiles queued to be processed for pressure delta movement.</td></tr><tr><th><a href="datum/controller/air_system.html#var/is_busy">is_busy</a></th><td>Don't want to accidentally modify something while still processing. Let's keep track if we're busy.</td></tr><tr><th><a href="datum/controller/air_system.html#var/parent_controller">parent_controller</a></th><td>Self-reference apparently.</td></tr><tr><th><a href="datum/controller/air_system.html#var/space_sample">space_sample</a></th><td>Much better idea to cache a tile than to keep calling locate()</td></tr><tr><th><a href="datum/controller/air_system.html#var/tiles_to_rebuild">tiles_to_rebuild</a></th><td>List of single turfs to rebuild together with [groups_to_rebuild].</td></tr><tr><th><a href="datum/controller/air_system.html#var/tiles_to_space">tiles_to_space</a></th><td>Turfs to be converted to space on the next cycle in case we're busy right now.
Use [/turf/proc/delay_space_conversion] instead of adding to this list directly.</td></tr><tr><th><a href="datum/controller/air_system.html#var/tiles_to_update">tiles_to_update</a></th><td>Turfs that are in this list have their border data updated before the next air calculations for a cycle.
Place turfs in this list rather than call the proc directly to prevent race conditions</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/air_system.html#proc/assemble_group_turf">assemble_group_turf</a></th><td>Collects turfs into groups.</td></tr><tr><th><a href="datum/controller/air_system.html#proc/process">process</a></th><td>This first processes the air_master update/rebuild lists then processes all groups and tiles for air calculations</td></tr><tr><th><a href="datum/controller/air_system.html#proc/process_groups">process_groups</a></th><td>Process all air groups.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</td></tr><tr><th><a href="datum/controller/air_system.html#proc/process_high_pressure_delta">process_high_pressure_delta</a></th><td>Process any tiles queued for pressure delta movement.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</td></tr><tr><th><a href="datum/controller/air_system.html#proc/process_rebuild_select_groups">process_rebuild_select_groups</a></th><td>Process air groups queued for reconstruction. Deconstructs air groups into tiles, then creates new groups from those tiles.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</td></tr><tr><th><a href="datum/controller/air_system.html#proc/process_singletons">process_singletons</a></th><td>Process any singletons queued for processing.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</td></tr><tr><th><a href="datum/controller/air_system.html#proc/process_super_conductivity">process_super_conductivity</a></th><td>Process any tiles queued for superconduction.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</td></tr><tr><th><a href="datum/controller/air_system.html#proc/process_tiles_to_space">process_tiles_to_space</a></th><td>Replaces all queued tiles in <a href="datum/controller/air_system.html#var/tiles_to_space" title="/datum/controller/air_system">/datum/controller/air_system/var/tiles_to_space</a> with space.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</td></tr><tr><th><a href="datum/controller/air_system.html#proc/process_update_tiles">process_update_tiles</a></th><td>Updates queued tiles.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</td></tr><tr><th><a href="datum/controller/air_system.html#proc/setup">setup</a></th><td>Move every simulated turf into a group, then call <a href="turf/simulated.html#proc/update_air_properties" title="/turf/simulated">/turf/simulated/proc/update_air_properties</a> on them.</td></tr><tr><th><a href="datum/controller/air_system.html#proc/update_space_sample">update_space_sample</a></th><td>Updates cached space sample if need be.
Returns: New space sample.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active_singletons"><aside class="declaration">var </aside>active_singletons <aside>– /list/<a href="turf.html">turf</a>/<a href="turf/simulated.html">simulated</a></aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 29"></h3><p>List of turfs without a group to be processed.</p><h3 id="var/active_super_conductivity"><aside class="declaration">var </aside>active_super_conductivity <aside>– /list/<a href="turf.html">turf</a>/<a href="turf/simulated.html">simulated</a></aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 32"></h3><p>Tiles queued to be processed for superconductivity.</p><h3 id="var/air_groups"><aside class="declaration">var </aside>air_groups <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/air_group.html">air_group</a></aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 27"></h3><p>List of air groups to be processed.</p><h3 id="var/current_cycle"><aside class="declaration">var </aside>current_cycle <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 52"></h3><p>Current cycle of air_system.</p><h3 id="var/groups_to_rebuild"><aside class="declaration">var </aside>groups_to_rebuild <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/air_group.html">air_group</a></aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 43"></h3><ul>
<li>A list of air groups that have had their geometry occluded and thus may need to be split in half.
<ul>
<li>A set of adjacent groups put in here will join together if validly connected.</li>
<li>This is done before air system calculations for a cycle. </li>
</ul>
</li>
</ul><h3 id="var/high_pressure_delta"><aside class="declaration">var </aside>high_pressure_delta <aside>– /list/<a href="turf.html">turf</a>/<a href="turf/simulated.html">simulated</a></aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 34"></h3><p>Tiles queued to be processed for pressure delta movement.</p><h3 id="var/is_busy"><aside class="declaration">var </aside>is_busy <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 54"></h3><p>Don't want to accidentally modify something while still processing. Let's keep track if we're busy.</p><h3 id="var/parent_controller"><aside class="declaration">var </aside>parent_controller <aside>– /<a href="datum.html">datum</a>/<a href="datum/controller/process.html">controller/process</a>/air_system</aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 56"></h3><p>Self-reference apparently.</p><h3 id="var/space_sample"><aside class="declaration">var </aside>space_sample <aside>– /<a href="turf.html">turf</a>/space</aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 58"></h3><p>Much better idea to cache a tile than to keep calling locate()</p><h3 id="var/tiles_to_rebuild"><aside class="declaration">var </aside>tiles_to_rebuild <aside>– /list/<a href="turf.html">turf</a>/<a href="turf/simulated.html">simulated</a></aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 46"></h3><p>List of single turfs to rebuild together with [groups_to_rebuild].</p><h3 id="var/tiles_to_space"><aside class="declaration">var </aside>tiles_to_space <aside>– /list/<a href="turf.html">turf</a></aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 50"></h3><p>Turfs to be converted to space on the next cycle in case we're busy right now.
Use [/turf/proc/delay_space_conversion] instead of adding to this list directly.</p><h3 id="var/tiles_to_update"><aside class="declaration">var </aside>tiles_to_update <aside>– /list/<a href="turf.html">turf</a></aside> <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 38"></h3><p>Turfs that are in this list have their border data updated before the next air calculations for a cycle.
Place turfs in this list rather than call the proc directly to prevent race conditions</p><h2 id="proc">Proc Details</h2><h3 id="proc/assemble_group_turf"><aside class="declaration">proc </aside>assemble_group_turf<aside>(/<a href="turf.html">turf</a>/<a href="turf/simulated.html">simulated</a>/base)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 88"></aside></h3><p>Collects turfs into groups.</p><h3 id="proc/process"><aside class="declaration">proc </aside>process<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 156"></aside></h3><p>This first processes the air_master update/rebuild lists then processes all groups and tiles for air calculations</p><h3 id="proc/process_groups"><aside class="declaration">proc </aside>process_groups<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 242"></aside></h3><p>Process all air groups.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</p><h3 id="proc/process_high_pressure_delta"><aside class="declaration">proc </aside>process_high_pressure_delta<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 265"></aside></h3><p>Process any tiles queued for pressure delta movement.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</p><h3 id="proc/process_rebuild_select_groups"><aside class="declaration">proc </aside>process_rebuild_select_groups<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 207"></aside></h3><p>Process air groups queued for reconstruction. Deconstructs air groups into tiles, then creates new groups from those tiles.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</p><h3 id="proc/process_singletons"><aside class="declaration">proc </aside>process_singletons<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 250"></aside></h3><p>Process any singletons queued for processing.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</p><h3 id="proc/process_super_conductivity"><aside class="declaration">proc </aside>process_super_conductivity<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 258"></aside></h3><p>Process any tiles queued for superconduction.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</p><h3 id="proc/process_tiles_to_space"><aside class="declaration">proc </aside>process_tiles_to_space<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 190"></aside></h3><p>Replaces all queued tiles in <a href="datum/controller/air_system.html#var/tiles_to_space" title="/datum/controller/air_system">/datum/controller/air_system/var/tiles_to_space</a> with space.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</p><h3 id="proc/process_update_tiles"><aside class="declaration">proc </aside>process_update_tiles<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 199"></aside></h3><p>Updates queued tiles.
Do not call. Used by <a href="datum/controller/air_system.html#proc/process" title="/datum/controller/air_system">/datum/controller/air_system/proc/process</a>.</p><h3 id="proc/setup"><aside class="declaration">proc </aside>setup<aside>(/<a href="datum.html">datum</a>/<a href="datum/controller/process.html">controller/process</a>/air_system/controller)  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 68"></aside></h3><p>Move every simulated turf into a group, then call <a href="turf/simulated.html#proc/update_air_properties" title="/turf/simulated">/turf/simulated/proc/update_air_properties</a> on them.</p><h3 id="proc/update_space_sample"><aside class="declaration">proc </aside>update_space_sample<aside>()  <img src="git.png" width="16" height="16" title="code/modules/atmospherics/FEA_system.dm 62"></aside></h3><p>Updates cached space sample if need be.
Returns: New space sample.</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>