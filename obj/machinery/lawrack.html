<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/lawrack - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/lawrack.html#var">Var Details</a> - <a href="obj/machinery/lawrack.html#proc">Proc Details</a></header><main><h1>AI Law Rack <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/lawrack.html">lawrack</a></aside> <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 1"></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/lawrack.html#var/ai_abilities">ai_abilities</a></th><td>list of ability expansions</td></tr><tr><th><a href="obj/machinery/lawrack.html#var/holo_expansions">holo_expansions</a></th><td>list of hologram expansions</td></tr><tr><th><a href="obj/machinery/lawrack.html#var/last_laws">last_laws</a></th><td>used during UpdateLaws to determine which laws have changed</td></tr><tr><th><a href="obj/machinery/lawrack.html#var/law_circuits">law_circuits</a></th><td>list of aiModules ref'd by slot number.</td></tr><tr><th><a href="obj/machinery/lawrack.html#var/screwed">screwed</a></th><td>screwed status of law module by slot number</td></tr><tr><th><a href="obj/machinery/lawrack.html#var/unique_id">unique_id</a></th><td>unique id for logs - please don't ever assign except in ai_law_rack_manager.register</td></tr><tr><th><a href="obj/machinery/lawrack.html#var/welded">welded</a></th><td>welded status of law module by slot number</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/DeleteAllLaws">DeleteAllLaws</a></th><td>Deletes all laws. Does not call UpdateLaws()</td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/DeleteLaw">DeleteLaw</a></th><td>Deletes a law in an abritrary slot. Does not call UpdateLaws()</td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/SetLaw">SetLaw</a></th><td>Sets an arbitrary slot to the passed aiModule - will override any module in the slot.
Does not call UpdateLaws()</td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/SetLawCustom">SetLawCustom</a></th><td>Sets an arbitrary slot to a custom law specified by lawName and lawText - will override any module in the slot.
Does not call UpdateLaws()
Intended for Admemery</td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/UpdateLaws">UpdateLaws</a></th><td></td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/cause_law_glitch">cause_law_glitch</a></th><td>This will cause a module to glitch, either totally replace it law or adding picked_law to its text (depening on replace).
Lawnumber is a suggestion, not a guarentee.</td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/drop_all_modules">drop_all_modules</a></th><td>Causes all law modules to drop to the ground, does not call UpdateLaws()</td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/format_for_display">format_for_display</a></th><td></td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/format_for_irc">format_for_irc</a></th><td></td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/format_for_logs">format_for_logs</a></th><td></td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/show_laws">show_laws</a></th><td>Takes a list or single target to show laws to</td></tr><tr><th><a href="obj/machinery/lawrack.html#proc/update_last_laws">update_last_laws</a></th><td>Saves the current law list to last_laws so we can see diffs</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/ai_abilities"><aside class="declaration">var </aside>ai_abilities <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/targetable.html">targetable</a></aside> <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 28"></h3><p>list of ability expansions</p><h3 id="var/holo_expansions"><aside class="declaration">var </aside>holo_expansions <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 26"></h3><p>list of hologram expansions</p><h3 id="var/last_laws"><aside class="declaration">var </aside>last_laws <aside>– /list/list</aside> <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 20"></h3><p>used during UpdateLaws to determine which laws have changed</p><h3 id="var/law_circuits"><aside class="declaration">var </aside>law_circuits <aside>– /list/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/aiModule</aside> <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 18"></h3><p>list of aiModules ref'd by slot number.</p><h3 id="var/screwed"><aside class="declaration">var </aside>screwed <aside>– /list/list</aside> <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 24"></h3><p>screwed status of law module by slot number</p><h3 id="var/unique_id"><aside class="declaration">var </aside>unique_id <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 14"></h3><p>unique id for logs - please don't ever assign except in ai_law_rack_manager.register</p><h3 id="var/welded"><aside class="declaration">var </aside>welded <aside>– /list/list</aside> <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 22"></h3><p>welded status of law module by slot number</p><h2 id="proc">Proc Details</h2><h3 id="proc/DeleteAllLaws"><aside class="declaration">proc </aside>DeleteAllLaws<aside>()  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 770"></aside></h3><p>Deletes all laws. Does not call UpdateLaws()</p><h3 id="proc/DeleteLaw"><aside class="declaration">proc </aside>DeleteLaw<aside>(slot)  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 755"></aside></h3><p>Deletes a law in an abritrary slot. Does not call UpdateLaws()</p><h3 id="proc/SetLaw"><aside class="declaration">proc </aside>SetLaw<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/aiModule/mod, slot, screwed_in, welded_in)  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 721"></aside></h3><p>Sets an arbitrary slot to the passed aiModule - will override any module in the slot.
Does not call UpdateLaws()</p><h3 id="proc/SetLawCustom"><aside class="declaration">proc </aside>SetLawCustom<aside>(lawName, lawText, slot, screwed_in, welded_in, path)  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 748"></aside></h3><p>Sets an arbitrary slot to a custom law specified by lawName and lawText - will override any module in the slot.
Does not call UpdateLaws()
Intended for Admemery</p><h3 id="proc/UpdateLaws"><aside class="declaration">proc </aside>UpdateLaws<aside>(notification_text)  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 584"></aside></h3><ul>
<li>Pushes law updates to all connected AIs and Borgs - notification text allows you to customise the header
<ul>
<li>Defaults to <h3>Law update detected</h3></li>
</ul>
</li>
</ul><h3 id="proc/cause_law_glitch"><aside class="declaration">proc </aside>cause_law_glitch<aside>(picked_law, lawnumber, replace)  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 780"></aside></h3><p>This will cause a module to glitch, either totally replace it law or adding picked_law to its text (depening on replace).
Lawnumber is a suggestion, not a guarentee.</p>
<ul>
<li>If there is no law in that slot, this will trigger on the law closest to that slot.</li>
<li>If there are no laws to glitch, just do nothing.</li>
</ul><h3 id="proc/drop_all_modules"><aside class="declaration">proc </aside>drop_all_modules<aside>()  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 43"></aside></h3><p>Causes all law modules to drop to the ground, does not call UpdateLaws()</p><h3 id="proc/format_for_display"><aside class="declaration">proc </aside>format_for_display<aside>(glue)  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 516"></aside></h3><ul>
<li>Formats current laws for display to game chat
<ul>
<li>Output is the same as format_for_logs, but also includes removed laws at the top and styling for added laws</li>
</ul>
</li>
</ul><h3 id="proc/format_for_irc"><aside class="declaration">proc </aside>format_for_irc<aside>()  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 555"></aside></h3><ul>
<li>Formats current laws as a list in the format:
<ul>
<li>{[lawnumber]=lawtext,etc.}</li>
</ul>
</li>
</ul><h3 id="proc/format_for_logs"><aside class="declaration">proc </aside>format_for_logs<aside>(glue)  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 498"></aside></h3><ul>
<li>Formats current laws for logging, argument glue defaults to <br>
<ul>
<li>Output is:</li>
<li>[law number]: [law text]<br></li>
<li>[law number]: [law text]</li>
<li>etc.</li>
</ul>
</li>
</ul><h3 id="proc/show_laws"><aside class="declaration">proc </aside>show_laws<aside>(who)  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 484"></aside></h3><p>Takes a list or single target to show laws to</p><h3 id="proc/update_last_laws"><aside class="declaration">proc </aside>update_last_laws<aside>()  <img src="git.png" width="16" height="16" title="code/obj/machinery/law_racks.dm 571"></aside></h3><p>Saves the current law list to last_laws so we can see diffs</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>