<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/ganglocker - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/ganglocker.html#var">Var Details</a> - <a href="obj/ganglocker.html#proc">Proc Details</a></header><main><h1>gang closet <aside>/<a href="obj.html">obj</a>/<a href="obj/ganglocker.html">ganglocker</a></aside> <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1459"></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/ganglocker.html#var/aggregate_item_score_time">aggregate_item_score_time</a></th><td>How long to wait before displaying maptext after recieving bulk items</td></tr><tr><th><a href="obj/ganglocker.html#var/aggregate_score_count">aggregate_score_count</a></th><td>How many points have been scored in the aggregate_item_score_time window?</td></tr><tr><th><a href="obj/ganglocker.html#var/default_screen_overlay">default_screen_overlay</a></th><td>the overlay this locker should show, after doing stuff like blinking red for errors</td></tr><tr><th><a href="obj/ganglocker.html#var/gang">gang</a></th><td>gang that owns this locker</td></tr><tr><th><a href="obj/ganglocker.html#var/gang_weed">gang_weed</a></th><td>How many leaves of weed have been given in</td></tr><tr><th><a href="obj/ganglocker.html#var/ghost_confirmation_delay">ghost_confirmation_delay</a></th><td>time that ghosts get to choose to be a gang member</td></tr><tr><th><a href="obj/ganglocker.html#var/has_sold_ttv">has_sold_ttv</a></th><td>has some angel sold TTVs to this locker yet?</td></tr><tr><th><a href="obj/ganglocker.html#var/hunting_for_ghosts">hunting_for_ghosts</a></th><td>are we hunting for new gang members right now?</td></tr><tr><th><a href="obj/ganglocker.html#var/is_aggregating_item_scores">is_aggregating_item_scores</a></th><td>Do we have a queued maptext for showing bulk item scores?</td></tr><tr><th><a href="obj/ganglocker.html#var/is_hiding">is_hiding</a></th><td>If this locker is hiding under the floor</td></tr><tr><th><a href="obj/ganglocker.html#var/registered_turf">registered_turf</a></th><td>The turf this locker is registered as hiding under</td></tr><tr><th><a href="obj/ganglocker.html#var/stored_cash">stored_cash</a></th><td>the amount of money stored inside this locker for laundering</td></tr><tr><th><a href="obj/ganglocker.html#var/superlaunder_stacks">superlaunder_stacks</a></th><td>how many ticks are left of super laundering (when you insert pre-laundered money)</td></tr><tr><th><a href="obj/ganglocker.html#var/tracked_drugs_list">tracked_drugs_list</a></th><td>Tracks how many units of each drug this gang has inserted</td></tr><tr><th><a href="obj/ganglocker.html#var/untracked_drugs_score">untracked_drugs_score</a></th><td>Tracks how many points' worth of drugs have been inserted, after the GANG_DRUG_BONUS_CAP</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/ganglocker.html#proc/aggregate_score">aggregate_score</a></th><td>Add score to the next maptext that can be shown once per second.</td></tr><tr><th><a href="obj/ganglocker.html#proc/do_drug_score">do_drug_score</a></th><td>Calculate the score of provided drugs, adding them to the total acquired</td></tr><tr><th><a href="obj/ganglocker.html#proc/gang_respawn">gang_respawn</a></th><td>Respawns a mind as a new gang member</td></tr><tr><th><a href="obj/ganglocker.html#proc/get_I_score_drug">get_I_score_drug</a></th><td>get the score of an item given the drugs inside</td></tr><tr><th><a href="obj/ganglocker.html#proc/get_drug_score">get_drug_score</a></th><td>Get the price per unit of a drug, taking into account multipliers</td></tr><tr><th><a href="obj/ganglocker.html#proc/get_gang_gear">get_gang_gear</a></th><td>Handle spawning equipment for a gang member</td></tr><tr><th><a href="obj/ganglocker.html#proc/handle_gang_gear">handle_gang_gear</a></th><td>Check that it's feasible to give a user gang equipment</td></tr><tr><th><a href="obj/ganglocker.html#proc/handle_get_spraypaint">handle_get_spraypaint</a></th><td>deploys a spraypaint for the user, if possible</td></tr><tr><th><a href="obj/ganglocker.html#proc/handle_respawn_new">handle_respawn_new</a></th><td>Checks to see if the user can respawn a gang member at this locker</td></tr><tr><th><a href="obj/ganglocker.html#proc/handle_respawn_syringe">handle_respawn_syringe</a></th><td>Attempt to buy a janktank II</td></tr><tr><th><a href="obj/ganglocker.html#proc/insert_item">insert_item</a></th><td>Handles an item being inserted into a gang locker</td></tr><tr><th><a href="obj/ganglocker.html#proc/take_damage">take_damage</a></th><td>Handles dropping laundering money if the locker takes damage.</td></tr><tr><th><a href="obj/ganglocker.html#proc/try_gang_respawn">try_gang_respawn</a></th><td>Tries to find a ghost to respawn</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/aggregate_item_score_time"><aside class="declaration">var </aside>aggregate_item_score_time <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1488"></h3><p>How long to wait before displaying maptext after recieving bulk items</p><h3 id="var/aggregate_score_count"><aside class="declaration">var </aside>aggregate_score_count <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1492"></h3><p>How many points have been scored in the aggregate_item_score_time window?</p><h3 id="var/default_screen_overlay"><aside class="declaration">var </aside>default_screen_overlay <aside>– /image</aside> <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1470"></h3><p>the overlay this locker should show, after doing stuff like blinking red for errors</p><h3 id="var/gang"><aside class="declaration">var </aside>gang <aside>– /<a href="datum.html">datum</a>/<a href="datum/gang.html">gang</a></aside> <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1468"></h3><p>gang that owns this locker</p><h3 id="var/gang_weed"><aside class="declaration">var </aside>gang_weed <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1499"></h3><p>How many leaves of weed have been given in</p><h3 id="var/ghost_confirmation_delay"><aside class="declaration">var </aside>ghost_confirmation_delay <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1475"></h3><p>time that ghosts get to choose to be a gang member</p><h3 id="var/has_sold_ttv"><aside class="declaration">var </aside>has_sold_ttv <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1484"></h3><p>has some angel sold TTVs to this locker yet?</p><h3 id="var/hunting_for_ghosts"><aside class="declaration">var </aside>hunting_for_ghosts <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1479"></h3><p>are we hunting for new gang members right now?</p><h3 id="var/is_aggregating_item_scores"><aside class="declaration">var </aside>is_aggregating_item_scores <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1490"></h3><p>Do we have a queued maptext for showing bulk item scores?</p><h3 id="var/is_hiding"><aside class="declaration">var </aside>is_hiding <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1501"></h3><p>If this locker is hiding under the floor</p><h3 id="var/registered_turf"><aside class="declaration">var </aside>registered_turf <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1503"></h3><p>The turf this locker is registered as hiding under</p><h3 id="var/stored_cash"><aside class="declaration">var </aside>stored_cash <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1477"></h3><p>the amount of money stored inside this locker for laundering</p><h3 id="var/superlaunder_stacks"><aside class="declaration">var </aside>superlaunder_stacks <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1482"></h3><p>how many ticks are left of super laundering (when you insert pre-laundered money)</p><h3 id="var/tracked_drugs_list"><aside class="declaration">var </aside>tracked_drugs_list <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1495"></h3><p>Tracks how many units of each drug this gang has inserted</p><h3 id="var/untracked_drugs_score"><aside class="declaration">var </aside>untracked_drugs_score <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1497"></h3><p>Tracks how many points' worth of drugs have been inserted, after the GANG_DRUG_BONUS_CAP</p><h2 id="proc">Proc Details</h2><h3 id="proc/aggregate_score"><aside class="declaration">proc </aside>aggregate_score<aside>(score)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1937"></aside></h3><p>Add score to the next maptext that can be shown once per second.</p><h3 id="proc/do_drug_score"><aside class="declaration">proc </aside>do_drug_score<aside>(/<a href="obj.html">obj</a>/O, drug, price_per_unit)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 2041"></aside></h3><p>Calculate the score of provided drugs, adding them to the total acquired</p><h3 id="proc/gang_respawn"><aside class="declaration">proc </aside>gang_respawn<aside>(/<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a>/target)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1733"></aside></h3><p>Respawns a mind as a new gang member</p><h3 id="proc/get_I_score_drug"><aside class="declaration">proc </aside>get_I_score_drug<aside>(/<a href="obj.html">obj</a>/O)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 2076"></aside></h3><p>get the score of an item given the drugs inside</p><h3 id="proc/get_drug_score"><aside class="declaration">proc </aside>get_drug_score<aside>(drug, price_per_unit)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 2061"></aside></h3><p>Get the price per unit of a drug, taking into account multipliers</p><h3 id="proc/get_gang_gear"><aside class="declaration">proc </aside>get_gang_gear<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon/human.html">carbon/human</a>/user)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1820"></aside></h3><p>Handle spawning equipment for a gang member</p><h3 id="proc/handle_gang_gear"><aside class="declaration">proc </aside>handle_gang_gear<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon/human.html">carbon/human</a>/user)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1801"></aside></h3><p>Check that it's feasible to give a user gang equipment</p><h3 id="proc/handle_get_spraypaint"><aside class="declaration">proc </aside>handle_get_spraypaint<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon/human.html">carbon/human</a>/user)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1636"></aside></h3><p>deploys a spraypaint for the user, if possible</p><h3 id="proc/handle_respawn_new"><aside class="declaration">proc </aside>handle_respawn_new<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon/human.html">carbon/human</a>/user)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1704"></aside></h3><p>Checks to see if the user can respawn a gang member at this locker</p><h3 id="proc/handle_respawn_syringe"><aside class="declaration">proc </aside>handle_respawn_syringe<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon/human.html">carbon/human</a>/user)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1788"></aside></h3><p>Attempt to buy a janktank II</p><h3 id="proc/insert_item"><aside class="declaration">proc </aside>insert_item<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/item, /<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1947"></aside></h3><p>Handles an item being inserted into a gang locker</p><h3 id="proc/take_damage"><aside class="declaration">proc </aside>take_damage<aside>(amount)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1923"></aside></h3><p>Handles dropping laundering money if the locker takes damage.</p><h3 id="proc/try_gang_respawn"><aside class="declaration">proc </aside>try_gang_respawn<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon/human.html">carbon/human</a>/user)  <img src="git.png" width="16" height="16" title="code/datums/gamemodes/gangwar.dm 1754"></aside></h3><p>Tries to find a ghost to respawn</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>