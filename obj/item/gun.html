<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/gun - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/gun.html#var">Var Details</a> - <a href="obj/item/gun.html#proc">Proc Details</a></header><main><h1>gun <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/gun.html">gun</a></aside> <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 3"></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/gun.html#var/camera_recoil_enabled">camera_recoil_enabled</a></th><td>Should this gun kickback the camera when fired?</td></tr><tr><th><a href="obj/item/gun.html#var/camera_recoil_multiplier">camera_recoil_multiplier</a></th><td>Multiply the recoil value by this for camera movement</td></tr><tr><th><a href="obj/item/gun.html#var/camera_recoil_sway">camera_recoil_sway</a></th><td>If enabled, camera recoil rattles perpendicular to the aim direction too (recommended)</td></tr><tr><th><a href="obj/item/gun.html#var/camera_recoil_sway_max">camera_recoil_sway_max</a></th><td>Maximum recoil variance</td></tr><tr><th><a href="obj/item/gun.html#var/camera_recoil_sway_min">camera_recoil_sway_min</a></th><td>Minimum recoil variance</td></tr><tr><th><a href="obj/item/gun.html#var/click_sound">click_sound</a></th><td>the &quot;out of ammo oh no&quot; click</td></tr><tr><th><a href="obj/item/gun.html#var/current_anim_recoil">current_anim_recoil</a></th><td>current icon rotation, used to make sure the icon resets properly</td></tr><tr><th><a href="obj/item/gun.html#var/icon_recoil_cap">icon_recoil_cap</a></th><td>At maximum recoil, what angle should the icon state be at?</td></tr><tr><th><a href="obj/item/gun.html#var/icon_recoil_enabled">icon_recoil_enabled</a></th><td>Should this gun's icon tilt?</td></tr><tr><th><a href="obj/item/gun.html#var/recoil">recoil</a></th><td>current cumulative recoil value, for inaccuracy. leave at 0</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_inaccuracy_max">recoil_inaccuracy_max</a></th><td>at recoil_max, the weapon has this much additional spread</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_last_shot">recoil_last_shot</a></th><td>last time this was fired, for recoil purposes</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_max">recoil_max</a></th><td>What's the max cumulative recoil this gun can hit?</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_reset">recoil_reset</a></th><td>how long it takes for recoil to start resetting (6 deci seconds feels nice)</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_reset_add">recoil_reset_add</a></th><td>additive reduction to accumulated recoil (affects low recoil recovery better than mult)</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_reset_mult">recoil_reset_mult</a></th><td>multiplier to apply to recoil every .1 seconds (affects high recoil recovery)</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_stacking_amount">recoil_stacking_amount</a></th><td>How much should recoil_strength go up by, every shot</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_stacking_enabled">recoil_stacking_enabled</a></th><td>Should this gun gain more recoil strength as it shoots?</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_stacking_max_stacks">recoil_stacking_max_stacks</a></th><td>How many times can recoil-stacking_amount apply?</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_stacking_safe_stacks">recoil_stacking_safe_stacks</a></th><td>Ignore this many shots before stacking up (if you want 3-shot bursts not to be penalsied)</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_stacks">recoil_stacks</a></th><td>current number of shots fired before recoil_reset elapsed.</td></tr><tr><th><a href="obj/item/gun.html#var/recoil_strength">recoil_strength</a></th><td>How strong this gun's base recoil impulse is.</td></tr><tr><th><a href="obj/item/gun.html#var/safe_spin">safe_spin</a></th><td>Can this gun be *spin emoted without a chance to shoot yourself?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/gun.html#proc/canshoot">canshoot</a></th><td>Check if the gun can shoot or not. <code>user</code> will be null if the gun is shot by a non-mob (gun component)</td></tr><tr><th><a href="obj/item/gun.html#proc/check_lock">check_lock</a></th><td>CHECK_LOCK
Call to run a weaponlock check vs the users implant
Return 0 for fail</td></tr><tr><th><a href="obj/item/gun.html#proc/check_valid_shot">check_valid_shot</a></th><td>CHECK_VALID_SHOT
Call to check and make sure the shot is ok
Not called much atm might remove, is now inside shoot</td></tr><tr><th><a href="obj/item/gun.html#proc/set_current_projectile">set_current_projectile</a></th><td>setter for current_projectile so we can have a signal attached. do not set current_projectile on guns without this proc</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/camera_recoil_enabled"><aside class="declaration">var </aside>camera_recoil_enabled <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 88"></h3><p>Should this gun kickback the camera when fired?</p><h3 id="var/camera_recoil_multiplier"><aside class="declaration">var </aside>camera_recoil_multiplier <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 89"></h3><p>Multiply the recoil value by this for camera movement</p><h3 id="var/camera_recoil_sway"><aside class="declaration">var </aside>camera_recoil_sway <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 90"></h3><p>If enabled, camera recoil rattles perpendicular to the aim direction too (recommended)</p><h3 id="var/camera_recoil_sway_max"><aside class="declaration">var </aside>camera_recoil_sway_max <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 93"></h3><p>Maximum recoil variance</p><h3 id="var/camera_recoil_sway_min"><aside class="declaration">var </aside>camera_recoil_sway_min <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 92"></h3><p>Minimum recoil variance</p><h3 id="var/click_sound"><aside class="declaration">var </aside>click_sound <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 34"></h3><p>the &quot;out of ammo oh no&quot; click</p><h3 id="var/current_anim_recoil"><aside class="declaration">var </aside>current_anim_recoil <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 54"></h3><p>current icon rotation, used to make sure the icon resets properly</p><h3 id="var/icon_recoil_cap"><aside class="declaration">var </aside>icon_recoil_cap <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 70"></h3><p>At maximum recoil, what angle should the icon state be at?</p><h3 id="var/icon_recoil_enabled"><aside class="declaration">var </aside>icon_recoil_enabled <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 69"></h3><p>Should this gun's icon tilt?</p><h3 id="var/recoil"><aside class="declaration">var </aside>recoil <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 52"></h3><p>current cumulative recoil value, for inaccuracy. leave at 0</p><h3 id="var/recoil_inaccuracy_max"><aside class="declaration">var </aside>recoil_inaccuracy_max <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 65"></h3><p>at recoil_max, the weapon has this much additional spread</p><h3 id="var/recoil_last_shot"><aside class="declaration">var </aside>recoil_last_shot <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 53"></h3><p>last time this was fired, for recoil purposes</p><h3 id="var/recoil_max"><aside class="declaration">var </aside>recoil_max <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 64"></h3><p>What's the max cumulative recoil this gun can hit?</p><h3 id="var/recoil_reset"><aside class="declaration">var </aside>recoil_reset <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 82"></h3><p>how long it takes for recoil to start resetting (6 deci seconds feels nice)</p><h3 id="var/recoil_reset_add"><aside class="declaration">var </aside>recoil_reset_add <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 84"></h3><p>additive reduction to accumulated recoil (affects low recoil recovery better than mult)</p><h3 id="var/recoil_reset_mult"><aside class="declaration">var </aside>recoil_reset_mult <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 83"></h3><p>multiplier to apply to recoil every .1 seconds (affects high recoil recovery)</p><h3 id="var/recoil_stacking_amount"><aside class="declaration">var </aside>recoil_stacking_amount <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 76"></h3><p>How much should recoil_strength go up by, every shot</p><h3 id="var/recoil_stacking_enabled"><aside class="declaration">var </aside>recoil_stacking_enabled <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 74"></h3><p>Should this gun gain more recoil strength as it shoots?</p><h3 id="var/recoil_stacking_max_stacks"><aside class="declaration">var </aside>recoil_stacking_max_stacks <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 77"></h3><p>How many times can recoil-stacking_amount apply?</p><h3 id="var/recoil_stacking_safe_stacks"><aside class="declaration">var </aside>recoil_stacking_safe_stacks <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 75"></h3><p>Ignore this many shots before stacking up (if you want 3-shot bursts not to be penalsied)</p><h3 id="var/recoil_stacks"><aside class="declaration">var </aside>recoil_stacks <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 55"></h3><p>current number of shots fired before recoil_reset elapsed.</p><h3 id="var/recoil_strength"><aside class="declaration">var </aside>recoil_strength <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 63"></h3><p>How strong this gun's base recoil impulse is.</p><h3 id="var/safe_spin"><aside class="declaration">var </aside>safe_spin <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 48"></h3><p>Can this gun be *spin emoted without a chance to shoot yourself?</p><h2 id="proc">Proc Details</h2><h3 id="proc/canshoot"><aside class="declaration">proc </aside>canshoot<aside>(/<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 457"></aside></h3><p>Check if the gun can shoot or not. <code>user</code> will be null if the gun is shot by a non-mob (gun component)</p><h3 id="proc/check_lock"><aside class="declaration">proc </aside>check_lock<aside>(user<span class="as"> as </span><a href="mob.html">mob</a>)  <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 125"></aside></h3><p>CHECK_LOCK
Call to run a weaponlock check vs the users implant
Return 0 for fail</p><h3 id="proc/check_valid_shot"><aside class="declaration">proc </aside>check_valid_shot<aside>(/<a href="atom.html">atom</a>/target<span class="as"> as </span><a href="atom.html">atom</a>, /<a href="mob.html">mob</a>/user<span class="as"> as </span><a href="mob.html">mob</a>)  <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 131"></aside></h3><p>CHECK_VALID_SHOT
Call to check and make sure the shot is ok
Not called much atm might remove, is now inside shoot</p><h3 id="proc/set_current_projectile"><aside class="declaration">proc </aside>set_current_projectile<aside>(/<a href="datum.html">datum</a>/<a href="datum/projectile.html">projectile</a>/newProj)  <img src="git.png" width="16" height="16" title="code/obj/item/gun/gun_parent.dm 516"></aside></h3><p>setter for current_projectile so we can have a signal attached. do not set current_projectile on guns without this proc</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>