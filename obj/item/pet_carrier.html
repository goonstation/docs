<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/pet_carrier - Goonstation 13</title></head><body><header><a href="index.html">Goonstation 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/item/pet_carrier.html#var">Var Details</a> - <a href="obj/item/pet_carrier.html#proc">Proc Details</a></header><main><h1>Pet carriers. <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/pet_carrier.html">pet_carrier</a></aside> <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 17"></h1><p>Code by DisturbHerb, icons by Azwald/Sunkiisu.</p>
<p>A handheld item which can hold some mob instances inside with support for visually displaying its occupants with vis_contents.
This was created without access to the pre-existing chicken carrier code so it could be pretty bad.</p>
<p>The icon for the carrier is constructed using a base where two /obj/dummys are layered on top. These dummy objects are held in the carrier's
vis_contents and each of them hold the mobs and the door of the carrier. The reason why the vis_contents of vis_contents_proxy hold the mobs rather
than the carrier doing so directly is so that an alpha mask can prevent parts of the occupants from rendering outside of the inside of the carrier.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/pet_carrier.html#var/actionbar_duration">actionbar_duration</a></th><td>Time it takes for each action (eg. grabbing, releasing).</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/allowed_mob_types">allowed_mob_types</a></th><td>Please override this in child types to specify what can actually fit in.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/can_break_out">can_break_out</a></th><td>If FALSE, an occupant cannot escape the carrier on their own.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/carrier_alpha_mask">carrier_alpha_mask</a></th><td>Alpha mask icon state for cutting out the mob on non-transparent pixels.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/carrier_max_capacity">carrier_max_capacity</a></th><td>How many mobs can fit inside the crate. Usually not overridden by anything, this is to let the system be permissive for var-editing.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/carrier_occupants">carrier_occupants</a></th><td>A list of the current occupants inside the carrier.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/carrier_open_item_state">carrier_open_item_state</a></th><td>Carrier item state names.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/carrier_vis_flags">carrier_vis_flags</a></th><td>Carrier-related (grate_proxy, vis_contents_proxy) vis_flags.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/damage_per_resist">damage_per_resist</a></th><td>The damage dealt to the door's health upon resisting.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/default_mob_type">default_mob_type</a></th><td>Type path, If not null, the pet carrier will spawn with one of this mob on New().</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/door_health">door_health</a></th><td>Causes the door to open and release its occupants when it reaches 0, subsequently resetting itself to the maximum.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/empty_carrier_icon_state">empty_carrier_icon_state</a></th><td>Empty carrier icon state name.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/explicit_name_limit">explicit_name_limit</a></th><td>Number of mobs named explicitly on examine() before switching to &quot;there's a lot of mobs in here wow&quot;.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/gilded">gilded</a></th><td>For Noah's Shuttle medal</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/grate_open_icon_state">grate_open_icon_state</a></th><td>Grate icon state names.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/grate_proxy">grate_proxy</a></th><td>Grate object to be held in src.vis_contents</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/mob_vis_flags">mob_vis_flags</a></th><td>Mob-specific vis_flags.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/release_mob_icon_state">release_mob_icon_state</a></th><td>The icon_state for the src.RELEASE_MOB() actionbar.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/trap_mob_icon_state">trap_mob_icon_state</a></th><td>The icon_state for the src.TRAP_MOB() actionbar.</td></tr><tr><th><a href="obj/item/pet_carrier.html#var/vis_contents_proxy">vis_contents_proxy</a></th><td>Proxy object for storing the vis_contents of each occupant, which itself is contained in the vis_contents of the parent carrier.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/pet_carrier.html#proc/add_mob">add_mob</a></th><td>Directly adds a target mob to the carrier.</td></tr><tr><th><a href="obj/item/pet_carrier.html#proc/eject_mob">eject_mob</a></th><td>Directly ejects a target mob from the carrier.</td></tr><tr><th><a href="obj/item/pet_carrier.html#proc/release_mob">release_mob</a></th><td>Called when a given mob/user releases an mob after an actionbar.</td></tr><tr><th><a href="obj/item/pet_carrier.html#proc/take_door_damage">take_door_damage</a></th><td>Deals damage to the door. If the remaining health &lt;= 0, release everyone and reset the carrier.</td></tr><tr><th><a href="obj/item/pet_carrier.html#proc/trap_mob">trap_mob</a></th><td>Called when a given mob/user steals a mob after an actionbar.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/actionbar_duration"><aside class="declaration">var </aside>actionbar_duration <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 28"></h3><p>Time it takes for each action (eg. grabbing, releasing).</p><h3 id="var/allowed_mob_types"><aside class="declaration">var </aside>allowed_mob_types <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 26"></h3><p>Please override this in child types to specify what can actually fit in.</p><h3 id="var/can_break_out"><aside class="declaration">var </aside>can_break_out <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 30"></h3><p>If FALSE, an occupant cannot escape the carrier on their own.</p><h3 id="var/carrier_alpha_mask"><aside class="declaration">var </aside>carrier_alpha_mask <aside>– /const</aside> <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 48"></h3><p>Alpha mask icon state for cutting out the mob on non-transparent pixels.</p><h3 id="var/carrier_max_capacity"><aside class="declaration">var </aside>carrier_max_capacity <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 37"></h3><p>How many mobs can fit inside the crate. Usually not overridden by anything, this is to let the system be permissive for var-editing.</p><h3 id="var/carrier_occupants"><aside class="declaration">var </aside>carrier_occupants <aside>– /list</aside> <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 74"></h3><p>A list of the current occupants inside the carrier.</p><h3 id="var/carrier_open_item_state"><aside class="declaration">var </aside>carrier_open_item_state <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 58"></h3><p>Carrier item state names.</p><h3 id="var/carrier_vis_flags"><aside class="declaration">var </aside>carrier_vis_flags <aside>– /const</aside> <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 65"></h3><p>Carrier-related (grate_proxy, vis_contents_proxy) vis_flags.</p><h3 id="var/damage_per_resist"><aside class="declaration">var </aside>damage_per_resist <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 35"></h3><p>The damage dealt to the door's health upon resisting.</p><h3 id="var/default_mob_type"><aside class="declaration">var </aside>default_mob_type <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 41"></h3><p>Type path, If not null, the pet carrier will spawn with one of this mob on New().</p><h3 id="var/door_health"><aside class="declaration">var </aside>door_health <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 32"></h3><p>Causes the door to open and release its occupants when it reaches 0, subsequently resetting itself to the maximum.</p><h3 id="var/empty_carrier_icon_state"><aside class="declaration">var </aside>empty_carrier_icon_state <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 51"></h3><p>Empty carrier icon state name.</p><h3 id="var/explicit_name_limit"><aside class="declaration">var </aside>explicit_name_limit <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 39"></h3><p>Number of mobs named explicitly on examine() before switching to &quot;there's a lot of mobs in here wow&quot;.</p><h3 id="var/gilded"><aside class="declaration">var </aside>gilded <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 62"></h3><p>For Noah's Shuttle medal</p><h3 id="var/grate_open_icon_state"><aside class="declaration">var </aside>grate_open_icon_state <aside>– /const</aside> <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 54"></h3><p>Grate icon state names.</p><h3 id="var/grate_proxy"><aside class="declaration">var </aside>grate_proxy <aside>– /<a href="obj.html">obj</a>/dummy</aside> <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 70"></h3><p>Grate object to be held in src.vis_contents</p><h3 id="var/mob_vis_flags"><aside class="declaration">var </aside>mob_vis_flags <aside>– /const</aside> <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 67"></h3><p>Mob-specific vis_flags.</p><h3 id="var/release_mob_icon_state"><aside class="declaration">var </aside>release_mob_icon_state <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 46"></h3><p>The icon_state for the src.RELEASE_MOB() actionbar.</p><h3 id="var/trap_mob_icon_state"><aside class="declaration">var </aside>trap_mob_icon_state <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 44"></h3><p>The icon_state for the src.TRAP_MOB() actionbar.</p><h3 id="var/vis_contents_proxy"><aside class="declaration">var </aside>vis_contents_proxy <aside>– /<a href="obj.html">obj</a>/dummy</aside> <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 72"></h3><p>Proxy object for storing the vis_contents of each occupant, which itself is contained in the vis_contents of the parent carrier.</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_mob"><aside class="declaration">proc </aside>add_mob<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/thing_to_add)  <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 249"></aside></h3><p>Directly adds a target mob to the carrier.</p><h3 id="proc/eject_mob"><aside class="declaration">proc </aside>eject_mob<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/thing_to_eject)  <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 259"></aside></h3><p>Directly ejects a target mob from the carrier.</p><h3 id="proc/release_mob"><aside class="declaration">proc </aside>release_mob<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/thing_to_release, /<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 230"></aside></h3><p>Called when a given mob/user releases an mob after an actionbar.</p><h3 id="proc/take_door_damage"><aside class="declaration">proc </aside>take_door_damage<aside>(damage)  <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 282"></aside></h3><p>Deals damage to the door. If the remaining health &lt;= 0, release everyone and reset the carrier.</p><h3 id="proc/trap_mob"><aside class="declaration">proc </aside>trap_mob<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/thing_to_trap, /<a href="mob.html">mob</a>/user)  <img src="git.png" width="16" height="16" title="code/obj/item/pet_carrier.dm 212"></aside></h3><p>Called when a given mob/user steals a mob after an actionbar.</p></main><footer>goonstation.dme e18c4efa8a3ab2e13df0a169b767dbc7355e7294 — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.10.0</a></footer></body></html>